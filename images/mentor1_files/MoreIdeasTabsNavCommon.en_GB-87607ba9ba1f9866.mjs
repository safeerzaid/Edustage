(self.modernJsonp=self.modernJsonp||[]).push([["47641"],{205680(e,t,n){n.r(t),n.d(t,{default:()=>T});var r=n(97407),a=n(296540),l=n(278106),o=n(236507),i=n(402395),s=n(632321),d=n(984273),c=n(696561),u=n(643357),f=n(141716),h=n(151274),p=n(614818),_=n(305880),b=n(825261),x=n(34412),y=n(474848);function m(e){(0,a.useEffect)(()=>{(0,r.A)("EntrypointTabs","/pws/entrypoint-router/navigation-buttons/EntrypointTabs.tsx")},[]);let{preload:t}=(0,b.R)(),{tabs:n,onChange:l,...i}=e,s=n.map(e=>{switch(e.kind){case"Entrypoint":return{href:(0,x.P)(e.route),...e.tab,_onMouseEnter:n=>{let r=e.preloadExtent??"Both";"None"!==r&&t(e.route,r),e.tab._onMouseEnter?.(n)}};case"Legacy":return e.tab;default:return(0,_.A)(e)}});return(0,y.jsx)(o.tU,{onChange:e=>{let r=n[e.activeTabIndex];r?.kind==="Entrypoint"&&t(r.route,"Both"),l?.(e)},tabs:s,...i})}let g=new o.rk(6),w=new o.rk(1),v={__style:{background:"linear-gradient(#B237A5, #2277B9)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"}};function A({boards:e,currentTabId:t,currentTabIndex:n,headerShadowContext:l,hideTabs:_,inLocalNavigation:b,isPartner:x,isTodayTabEnabled:A,nonFixed:I}){(0,a.useEffect)(()=>{(0,r.A)("MoreIdeasTabsNavPills","/app/common/react/components/FeedsAndFollowing/Homefeed/MoreIdeasTabsNav/MoreIdeasTabsNavPills.tsx")},[]);let E=(0,u.A)(),{logContextEvent:S}=(0,s.o)(),k=(0,a.useRef)(null),z=(0,a.useRef)(null),P=(0,a.useRef)(null),[C,T]=(0,a.useState)(0),[j,N]=(0,a.useState)(!1),[M,F]=(0,a.useState)(!1),[R,B]=(0,a.useState)(0),[H,L]=(0,a.useState)(0),W=(e,t)=>(0,y.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{background:`linear-gradient(to ${"back"===e?"right":"left"}, #FFFFFF 51.56%, rgba(255, 255, 255, 0) 100%`,padding:"back"===e?"8px 32px 8px 0":"8px 0 8px 32px"}},left:"back"===e,position:"absolute",right:"forward"===e,children:(0,y.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 8px 0px rgba(0, 0, 0, 0.1)"}},rounding:"circle",children:(0,y.jsx)(o.K0,{accessibilityLabel:"back"===e?E.bt("Previous tabs", "Previous tabs", "localNav.tab.backArrow", undefined, true):E.bt("Next tabs", "Next tabs", "localNav.tab.fwdArrow", undefined, true),bgColor:"default",icon:"back"===e?"chevron-left":"chevron-right",onClick:t,size:"sm"})})}),D=(t=>{let r=[{kind:"Legacy",tab:{href:"/homefeed/",id:"homefeed",text:x&&!b?E.bt("For you", "For you", "authHomefeed.moreIdeasNav.homefeed", undefined, true):E.bt("All", "All", "authHomefeed.moreIdeasNav.homefeed", undefined, true)}}];if(x&&!b)return A?[...r,{kind:"Entrypoint",route:{kind:"/today/",routeParams:{}},tab:{id:"today",text:E.bt("Explore", "Explore", "authHomefeed.moreIdeasNav.explore", undefined, true)},preloadExtent:t}]:r;if(e&&b){let t=e.findIndex(e=>"board_more_ideas"===e.tab_type),a=e.findIndex(e=>"pinterest_picks"===e.tab_type);return[...r,...e.map((e,r)=>({kind:"Legacy",tab:{href:"pinterest_picks"===e.tab_type?"/?holidayFinds=true":`/?boardId=${e.id}`,id:String(e.id),text:"pinterest_picks"===e.tab_type&&n!==a+1?(0,y.jsx)(o.az,{dangerouslySetInlineStyle:v,children:"Holiday finds"}):e.name,ref:r===t?z:void 0}}))]}return r})((0,p.z)().preloadExtent),O=(0,a.useCallback)((e,t)=>{N(e>0),F(e<t)},[]),U=(0,a.useCallback)(e=>{let t=P.current;if(t&&null!=n){let r=t.children[0]?.children[0]?.children[0]?.children[n];if(r){let n=t.clientWidth,a=r.offsetLeft-(n-r.offsetWidth)/2;L(a=Math.max(0,Math.min(a,e))),O(a,e)}}},[n,O]),Y=(0,a.useCallback)(()=>{let e=Math.min(H+(C-90),R);L(e),O(e,R)},[H,C,R,O]),$=(0,a.useCallback)(()=>{let e=Math.max(H-(C-90),0);L(e),O(e,R)},[H,C,R,O]);(0,a.useEffect)(()=>(l.setSubheaderShadow("moreIdeas"),k.current&&f.A.addObstruction("top",k.current),()=>{l.setSubheaderShadow(null)}),[l]),(0,a.useEffect)(()=>{let e=(0,d.A)(()=>{let e=P.current;if(e){let t=e.children[0]?.scrollWidth||0,n=e.clientWidth,r=Math.max(0,t-n);T(n),B(r),L(Math.min(H,r)),U(r)}},200);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[H,U]),(0,a.useEffect)(()=>{let e=P.current;if(e){let t=e.children[0]?.scrollWidth||0,n=e.clientWidth,r=Math.max(0,t-n);T(n),B(r),L(Math.min(0,r)),U(r)}},[U]);let J=b?n:D.findIndex(e=>e.tab.id===t),K=J?D[J]:void 0;return(0,y.jsx)(o.az,{ref:k,children:(0,y.jsx)(o.az,{color:"default",dangerouslySetInlineStyle:{__style:{transform:_?"translateY(-100%)":"translateY(0)",transition:"all 0.3s ease-in-out",...l.isScrolled&&!b?h.x9:{}}},position:I?"static":"fixed",width:"100%",zIndex:g,children:(0,y.jsxs)(o.az,{ref:P,alignItems:"stretch",dangerouslySetInlineStyle:{__style:{overflowX:"clip"}},display:"flex",justifyContent:!x&&b?"start":"center",width:"100%",children:[(0,y.jsxs)(o.az,{color:"default",dangerouslySetInlineStyle:{__style:{left:`-${H}px`,transition:"left 0.3s, right 0.3s"}},display:"flex",height:i.A,justifyContent:!x&&b?"start":"center",paddingY:0,position:"relative",children:[(0,y.jsx)(m,{activeTabIndex:null!=J&&K?J:0,onChange:({activeTabIndex:t,event:n})=>{n.preventDefault();let r=D[t];r&&S({aux_data:{index:t.toString()},component:13184,element:(({activeTabIndex:t,currentTab:n})=>{if(!x&&b&&e?.[t-1]?.tab_type==="pinterest_picks")return 14584;switch(n){case"homefeed":return 11081;case"today":return 11674;default:return 11082}})({activeTabIndex:t,currentTab:r.tab.id}),event_type:101,view_parameter:3173,view_type:1})},tabs:D}),!x&&b&&z?.current&&(0,y.jsx)(c.En,{anchor:z?.current,experienceIds:[506684],forceDirection:!0,idealDirection:"down",placementId:11,showCaret:!0,textWeight:"normal",zIndex:h.Bf})]}),b&&!x&&(0,y.jsxs)(o.az,{alignItems:"center",display:"flex",justifyContent:"between",zIndex:w,children:[j&&W("back",$),M&&W("forward",Y)]})]})})})}var I=n(414758),E=n(449798),S=n(227462),k=n(221077),z=n(37696),P=n(548588),C=n(163525);function T({boards:e,currentTabIndex:t,hideTabs:n,inLocalNavigation:o,nonFixed:i}){(0,a.useEffect)(()=>{(0,r.A)("MoreIdeasTabsNav","/app/common/react/components/FeedsAndFollowing/Homefeed/MoreIdeasTabsNav/MoreIdeasTabsNav.tsx")},[]);let s=(0,P.jR)(),{setIsContentHeaderPresent:d}=(0,z.E)(),c=(0,l.zy)(),u=(0,E.A)(),f=!!u.isAuth&&u.isPartner,h=(0,S.A)(),p=h?{component:8,element:11674}:Object.freeze({});return((0,I.A)(p),(0,a.useEffect)(()=>(d(!0),function(){d(!1)}),[]),f&&c||o)?(0,y.jsx)(A,{boards:e,currentTabId:function(){let{pathname:e,search:t}=c;if(f){if("/following/"===e)return"following";else if(e.includes((0,C.K5)()))return"today";else if("/homefeed/"===e&&""===t)return"homefeed"}return(({search:e})=>e&&"string"==typeof(0,k.A)(e).boardId&&(0,k.A)(e).boardId||null)(c)}(),currentTabIndex:t,headerShadowContext:s,hideTabs:n,inLocalNavigation:o,isPartner:f,isTodayTabEnabled:h,nonFixed:i}):null}},414758(e,t,n){n.d(t,{A:()=>o});var r=n(296540),a=n(632321),l=n(869344);let o=e=>{let t=(0,r.useRef)(!1),{logContextEvent:n}=(0,a.o)(),{viewType:o,viewParameter:i}=(0,l.WQ)();(0,r.useEffect)(()=>{Object.entries(e).length>0&&!t.current&&o&&(n({event_type:13,view_type:o,view_parameter:i,...e}),t.current=!0)})}},227462(e,t,n){n.d(t,{A:()=>o});var r=n(449798),a=n(534955);let l={en:["US","GB","CA","IN","AU","ID"],es:["MX","PE","AR","CL","CO","ES","VE","UY","PY","EC","BO","CR","DO","SV","GT","HN","NI","PR","PA"],pt:["BR"],de:["DE","AT","CH"],fr:["FR"],id:["ID"],ja:["JP"],it:["IT"],sv:["SE"]};function o(){let e=(0,a._8)(),t=(0,r.A)(),n=t.isAuth?t.country:e.country;if(void 0===e||void 0===e.locale)return!1;let o=e.locale.substring(0,2);return!!l[o]?.includes(n)}},614818(e,t,n){n.d(t,{z:()=>a});var r=n(622165);function a(){let{checkExperiment:e}=(0,r.A)();return function(e){let t=e("entrypoints_today_page_prefetch");switch(t.group){case"prefetch_all":return{preloadExtent:"Both"};case"prefetch_only_js":return{preloadExtent:"OnlyJS"};case"control":return{preloadExtent:"None"};default:{let{anyEnabled:e}=t;return{preloadExtent:e?"Both":"None"}}}}(e)}},163525(e,t,n){function r(e,t){return t?`${e}?${new URLSearchParams(t).toString()}`:e}function a(e){return r("/admin/",e)}function l(e){return r("/admin/oauth/logout/",e)}function o(e){return r("/today/",e)}n.d(t,{K5:()=>o,N3:()=>a,c4:()=>l})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/MoreIdeasTabsNavCommon.en_GB-87607ba9ba1f9866.mjs.map