(self.modernJsonp=self.modernJsonp||[]).push([["10185"],{216875(e,t,n){n.d(t,{A:()=>N});var s=n(97407),o=n(296540),a=n(278106),i=n(236507),l=n(221077),r=n(632321),c=n(696561),d=n(449798),u=n(700867),h=n(967943),_=n(643357),p=n(474848);function m({failedAccount:e,handleReauthAccount:t,handleRemoveUnauthAccount:n}){(0,o.useEffect)(()=>{(0,s.A)("HeaderAccountsOptionsMenuFailedButtons","/app/packages/HeaderAccountsOptionsMenu/HeaderAccountsOptionsMenuFailedButtons.tsx")},[]);let a=(0,_.A)();return(0,p.jsxs)(o.Fragment,{children:[(0,p.jsx)(i.az,{marginTop:4,children:(0,p.jsx)(i.$n,{color:"primary",fullWidth:!0,onClick:t,text:a.bt("Log in again", "Log in again", "header.accountsOptionsMenu.failedAccountLoginButton", undefined, true)})}),(0,p.jsx)(i.az,{marginTop:3,children:(0,p.jsx)(i.$n,{fullWidth:!0,onClick:()=>n(e.id),text:a.bt("Remove account", "Remove account", "header.accountsOptionsMenu.failedAccountRemoveButton", undefined, true)})})]})}var A=n(962968),f=n(479875),g=n(622165),x=n(436560),b=n(305678);let y=new i.rk(1e3);function w({anchor:e,onDismiss:t,advertiser:n,showAccountSwitcher:a,showAdsSupportOption:l,showMoreOptions:r=!0,isWwwSite:c,idealDirection:d="down",dropdownId:w="HeaderAccountOptionsFlyout",zIndex:j=y}){(0,o.useEffect)(()=>{(0,s.A)("HeaderAccountsOptionsFlyout","/app/packages/HeaderAccountsOptionsMenu/HeaderAccountsOptionsFlyout.tsx")},[]);let v=(0,_.A)(),{checkExperiment:z}=(0,g.A)(),{failedAccount:T,handleReauthAccount:P,handleRemoveUnauthAccount:C}=(0,f.A)(t,c),I=(0,A.A)(),{enabled:S}=(0,b.A)(),{anyEnabled:k}=z("web_biz_import_tab",{dangerouslySkipActivation:!0}),{currentlyIn:E,yourAccount:B,moreOptions:L}=(0,u.A)({onDismiss:t,advertiser:n,showAdsSupportOption:l,isWwwSite:c,handleFocus:()=>{e?.focus()},isImportContentEnabled:k});return(0,p.jsx)(x.A,{children:(0,p.jsxs)(i.ms,{accessibilityLabel:v.bt("Account options", "Account options", "header.accountsOptionsMenu.accessibilityLabel", undefined, true),accessibilityRole:"unset",anchor:e,disableMobileUI:!0,id:w,idealDirection:d,isWithinFixedContainer:!S,onDismiss:t,zIndex:j,children:[a&&(T?(0,p.jsxs)(i.ms.Section,{label:v.bt("You're no longer logged in to", "Oh no! You're no longer logged into", "header.accountsOptionsMenu.failedAccount", undefined, true),children:[(0,p.jsx)(i.ms.Item,{onSelect:()=>{},option:I.failedAccount,children:(0,p.jsx)(h.A,{user:T})}),(0,p.jsx)(m,{failedAccount:T,handleReauthAccount:P,handleRemoveUnauthAccount:C})]}):[E,B]),r?L:null]})})}let j=e=>["MOBILE","DESKTOP"].includes(e);var v=n(194637),z=n(55268),T=n(240146),P=n(398750),C=n(104735),I=n(449389),S=n(958880),k=n(468133),E=n(211974),B=n(687448),L=n(367863),O=n(151274),H=n(84214),R=n(26943),M=n(323252),D=n(26446);function N({currentSite:e,isSterlingOnSteroids:t,isAdsNavMenuEnabled:n,advertiser:u,idealTooltipDirection:h,icon:m,iconSize:A,iconLabel:f,defaultIconColor:g,selectedIconColor:x,tooltipZIndex:b,onClick:y,onPanelChange:N,showMoreOptions:U=!0}){(0,o.useEffect)(()=>{(0,s.A)("HeaderAccountsOptionsButton","/app/packages/HeaderAccountsOptionsMenu/HeaderAccountsOptionsButton.tsx")},[]);let Y=(0,_.A)(),{logContextEvent:F}=(0,r.o)(),{showAccountMenuFlyout:W,updateHeaderState:G}=(0,L.A)(),V=e=>{G({type:e?"showAccountMenuFlyout":"hideAccountMenuFlyout"})},[$,K]=(0,o.useState)(!1),[J,X]=(0,o.useState)(!0),Z=(0,a.Zp)(),q=(0,a.zy)(),Q=(0,d.A)(),ee=(0,R.A)(),et=(0,H.A)({user:ee.data,viewer:Q}),en=et&&J,es=(0,S.A)()(),eo=(0,k.A)(!es||Q.isAuth&&Q.partner?{name:"UserResource",options:{field_set_key:"linked_partner",user_id:Q.isAuth?Q.id:""}}:null),[ea,ei]=(0,o.useState)(function({location:e,navigate:t}){if(!(e&&e.search))return!1;let{showASTooltip:n}=(0,l.A)(e.search);return!!n&&(t(e.hash?`${e.pathname}${e.hash}`:e.pathname,{replace:!0}),!0)}({location:q,navigate:Z})),el=(0,o.useRef)(null),er=j(e)&&!t||"ANALYTICS"===e||"STERLING"===e||"TRENDS"===e,ec="STERLING"===e||n,ed=(0,E.CG)();(0,o.useEffect)(()=>{!function({showOneToast:e,i18n:t,location:n,navigate:s,username:o,fullName:a,avatarUrl:i}){if(!(n&&n.search))return;let r=(0,P.A)(t,n,o||""),{message:c}=(0,l.A)(n.search),d=c===T.NE||c===T.B5;r&&(e(({hideToast:e})=>(0,p.jsx)(z.A,{duration:1e4,onHide:e,text:r,thumbnail:d?{avatar:(0,p.jsx)(v.eu,{name:a||"",size:"md",src:i||""})}:void 0})),s(n.hash?`${n.pathname}${n.hash}`:n.pathname,{replace:!0}))}({showOneToast:ed.showOneToast,i18n:Y,location:q,navigate:Z,username:Q.isAuth&&Q.username||"",fullName:Q.isAuth&&Q.fullName||"",avatarUrl:Q.isAuth&&Q.imageMediumUrl||""})},[]),(0,o.useEffect)(()=>(Q.isAuth&&Q.partner&&(0,I.lx)(Q,eo.data),()=>{Q.isAuth&&Q.partner&&(0,I.oT)("flyout.dismiss")}),[]),(0,o.useEffect)(()=>{(eo.data?.businesses??[]).length>0&&K(!0)},[eo]),(0,o.useEffect)(()=>{N?.(W)},[W]);let{pathname:eu}=q,eh=!(eu.startsWith("/settings")||eu.startsWith("/edit"))&&(Q.isAuth&&Q.username&&eu.startsWith(`/${Q.username}`)||eu.startsWith("/news_hub")),e_=et||eu.startsWith("/homefeed")||eu.startsWith("/business/hub")||"/"===eu;return(0,p.jsx)(B.Z,{children:(0,p.jsxs)(M.q,{children:[(0,p.jsx)(i.K0,{ref:el,accessibilityControls:W?"HeaderAccountOptionsFlyout":void 0,accessibilityExpanded:W,accessibilityHaspopup:!0,accessibilityLabel:f??Y.bt("Accounts and more options", "Accounts and more options", "header.accountsOptionsMenu.accountsOptionsMenuButton", undefined, true),dataTestId:"header-accounts-options-button",icon:m||"chevron-down",iconColor:W?x||"default":g||"subtle",onClick:()=>{W||F({event_type:101,element:18180}),y?.(),V(!W),K(!1),X(!1)},size:A||"xs",tooltip:{accessibilityLabel:"",text:f??Y.bt("Accounts and more options", "Accounts and more options", "navbar.actionsOptionsButton.tooltip", undefined, true),zIndex:b||new i.K5([O.Bf]),idealDirection:h}}),W&&(0,p.jsx)(i.az,{"data-test-id":"HeaderAccountsOptionsFlyout",children:(0,p.jsx)(w,{advertiser:u,anchor:el.current,isWwwSite:j(e),onDismiss:()=>{V(!1)},showAccountSwitcher:er,showAdsSupportOption:ec,showMoreOptions:U})}),ea&&(0,p.jsx)(i.fT,{anchor:el.current,message:Y.bt("To add this account for seamless switching, you’ll need to remove another one", "To add this account for seamless switching, you’ll need to remove another", "navbar.actionsOptionsButton.tooltip.accountSwitcherLimit", undefined, true),onDismiss:()=>ei(!1),primaryAction:{text:Y.bt("OK", "Okay", "navbar.actionsOptionsButton.tooltip.accountSwitcherLimit.button", undefined, true),role:"button",onClick:()=>{ei(!1)}}}),$&&(0,p.jsx)(i.az,{"data-test-id":"LinkedBusinessAccountFlyout",children:(0,p.jsx)(c.En,{anchor:el.current,experienceIds:[502787],placementId:1000109,showCaret:!0})}),(0,C.isBusinessAccessDashboardPage)(q)&&(0,p.jsx)(c.En,{anchor:el.current,experienceIds:[503137],idealDirection:"left",placementId:1000303}),Q.isAuth&&!Q.partner?(0,p.jsx)(i.Wd,{zIndex:new i.K5([D.dL]),children:(0,p.jsx)(c.En,{anchor:el.current,experienceIds:[503893,503602],onClickComplete:()=>Z("/settings"),placementId:1000109,showCaret:!0})}):null,en&&(0,p.jsx)(i.Wd,{zIndex:new i.K5([D.dL]),children:(0,p.jsx)(c.En,{anchor:el.current,experienceIds:[505848],hasFullWidthButton:!1,onClickComplete:()=>{X(!1),Z("/settings/permissions")},placementId:1000109,showCaret:!0,textWeight:"normal"})}),eh&&(0,p.jsx)(i.Wd,{zIndex:new i.K5([D.dL]),children:(0,p.jsx)(c.En,{anchor:el.current,experienceIds:[505283],flyoutSize:"md",hasFullWidthButton:!1,onClickComplete:()=>{Z("/settings/privacy/")},placementId:1000109,showCaret:!0,textAlign:"center",textWeight:"bold"})}),e_&&(0,p.jsx)(i.Wd,{zIndex:new i.K5([D.dL]),children:(0,p.jsx)(c.En,{anchor:el.current,experienceIds:[505949],hasFullWidthButton:!1,onClickComplete:()=>{Z("/settings/claim")},placementId:1000109,showCaret:!0,textWeight:"normal"})})]})})}},574075(e,t,n){n.d(t,{A:()=>s});function s(e){return"object"==typeof e&&null!==e&&"url"in e&&"media"in e}},414758(e,t,n){n.d(t,{A:()=>i});var s=n(296540),o=n(632321),a=n(869344);let i=e=>{let t=(0,s.useRef)(!1),{logContextEvent:n}=(0,o.o)(),{viewType:i,viewParameter:l}=(0,a.WQ)();(0,s.useEffect)(()=>{Object.entries(e).length>0&&!t.current&&i&&(n({event_type:13,view_type:i,view_parameter:l,...e}),t.current=!0)})}},240146(e,t,n){n.d(t,{B5:()=>i,NE:()=>c,Pg:()=>s,UN:()=>l,X5:()=>a,bE:()=>o,cu:()=>r,lL:()=>d});let s="permanent_account_closure",o="account_deletion_email_sent",a="account_deactivated",i="unlink_successful",l="lba_deprecation_personal_convert_account_message",r="lba_deprecation_business_convert_account_message",c="account_switch_to_settings",d="lba_deprecation_delete_account"},398750(e,t,n){n.d(t,{A:()=>a});var s=n(921534),o=n(221077);function a(e,t,n=""){if(!(t&&t.search))return"";let{message:i}=(0,o.A)(t.search),l=(0,o.A)(t.search).username||n,r="true"===(0,o.A)(t.search).multiple_accounts;return(0,s.A)({i18n:e,message:i,multipleAccounts:r,username:l})}},921534(e,t,n){n.d(t,{A:()=>r});var s=n(236507),o=n(327467),a=n(240146),i=n(474848);function l(e,t,n){return(0,i.jsx)(s.KJ,{align:n||"center",children:(0,o.vQ)(e,{username:(0,i.jsx)(s.KJ,{inline:!0,weight:"bold",children:t})})})}function r({i18n:e,message:t,multipleAccounts:n,username:s=""}){switch(t){case a.Pg:return e.bt("Your account has been deleted. We're sorry to see you go", "Your account has been deleted. We're sad to see you go", "unauthLoginPage.accountDeletedToast.message", undefined, true);case a.bE:if(n)return l(e.bt("An email has been sent with final steps to delete your account, {{username}}, and its linked accounts", "An email has been sent with final steps to delete your account, {{username}} and its linked accounts", "accountDeletedEmailToast.message.multipleAccounts", undefined, true),s);return l(e.bt("An email has been sent with final steps to delete your account, {{username}}", "An email has been sent with final steps to delete your account, {{username}}", "accountDeletedEmailToast.message.singleAccount", undefined, true),s);case a.X5:return l(n?e.bt("The account, {{username}}, and its associated linked accounts have been deactivated", "The account, {{username}}, and its associated linked accounts have been deactivated", "unauthLoginPage.deactivatedToast.message.multipleAccounts", undefined, true):e.bt("The account, {{username}}, has been deactivated", "The account, {{username}}, has been deactivated", "unauthLoginPage.deactivatedToast.message.singleAccount", undefined, true),s);case a.B5:return l(e.bt("Success! You've unlinked this business account. You are currently in {{username}}.", "Success! You've unlinked this business account. You are currently in {{username}}.", "authHomeFeedPage.unlinkAccountToast.message", undefined, true),s,"start");case a.NE:return l(e.bt("You've switched into and are currently in the account {{username}}", "You've switched into and are currently in the account {{username}}", "accountSettings.switchAccountToAccountChanges", undefined, true),s,"start");case a.UN:return e.bt("Your account is now a personal account", "Your account is now a personal account", "unauthLoginPage.unlinkAccountToast.personal.message", undefined, true);case a.cu:return e.bt("Your account is now a business account", "Your account is now a business account", "unauthLoginPage.unlinkAccountToast.business.message", undefined, true);case a.lL:return e.bt("Your linked business account was deleted", "Your Linked Business Account was deleted", "unauthLoginPage.unlinkAccountToast.business.message", undefined, true);default:return""}}},96082(e,t,n){n.d(t,{A:()=>a});var s=n(144837),o=n(703464);function a({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:a,advertiserId:i}){let l=e||t||n?`${o.Lj}`:"",r=`${l}${a}`;return i?(0,s.A)(r,{advertiserId:i}):r}},44014(e,t,n){n.r(t),n.d(t,{default:()=>ee,Header:()=>Q});var s=n(97407),o=n(296540),a=n(278106),i=n(236507),l=n(849905),r=n(70957),c=n(574075),d=n(842109),u=n(216463),h=n(216875),_=n(643357),p=n(104735),m=n(657572),A=n(622165),f=n(534955),g=n(570305),x=n(221077),b=n(611418),y=n(552695),w=n(380927),j=n(632321),v=n(611136),z=n(454236),T=n(474848);let P=({isSelected:e,onClick:t})=>{(0,o.useEffect)(()=>{(0,s.A)("CreateHeaderTab","/app/www/Header/CreateHeaderTab.tsx")},[]);let n=(0,_.A)(),{logContextEvent:a}=(0,j.o)(),r=(0,w.A)(!0),c=(0,o.useRef)(null),[d,u]=(0,o.useState)(!1),h=e=>{a({event_type:101,component:13988,element:e}),u(!1)};return(0,T.jsxs)(o.Fragment,{children:[(0,T.jsx)(i.az,{ref:c,"data-test-id":"create-tab",children:(0,T.jsx)(v.A,{contextData:z.ZT.createPin,iconEnd:r?void 0:"chevron-down",isSelected:e,navigateTo:r?{kind:"Legacy",url:(0,l.A)(r)}:null,onClick:()=>{t?.(),r?a({event_type:101,component:13988,element:10949}):u(e=>!e)},role:r?"link":"button",text:n.bt("Create", "Create", "header.section.createTab", undefined, true)})}),d&&(0,T.jsxs)(i.ms,{anchor:c.current,id:"header-create-dropdown",idealDirection:"down",onDismiss:()=>{u(!1)},zIndex:new i.rk(1e3),children:[(0,T.jsx)(i.ms.Link,{dataTestId:"create-idea-pin",href:"/idea-pin-builder/",onClick:()=>h(10949),option:{value:"ideaPin",label:n.bt("Create Pin for Idea ad", "Create Pin for Idea ad", "header.headerCreateMenu.ideaPinBtn", undefined, true)}}),(0,T.jsx)(i.ms.Link,{dataTestId:"create-static-pin",href:"/pin-builder/",onClick:()=>h(10643),option:{value:"pin",label:n.bt("Create Pin", "Create Pin", "header.headerCreateMenu.pinBtn", undefined, true)}})]})]})};var C=n(447627),I=n(266032),S=n(300430),k=n(302191),E=n(588628),B=n(151274),L=n(646844);function O({tabs:e}){(0,o.useEffect)(()=>{(0,s.A)("HeaderCollapsedTabs","/app/www/Header/HeaderCollapsedTabs.tsx")},[]);let t=(0,_.A)(),[n,a]=(0,o.useState)(!1),{hovered:l,onMouseEnter:r,onMouseLeave:c}=(0,E.A)(),d=(0,o.useRef)(null),u=e.find(e=>e.isSelected);u||(u=e.find(e=>"home"===e.key));let h=()=>a(!1);return(0,T.jsxs)(o.Fragment,{children:[(0,T.jsx)(i.az,{ref:d,color:n?"washDark":l?"secondary":void 0,"data-test-id":"HeaderCollapsedTabs",display:"inlineBlock",flex:"none",height:48,marginStart:2,minWidth:60,onMouseEnter:r,onMouseLeave:c,rounding:600,children:(0,T.jsx)(i.Rp,{fullHeight:!0,onTap:()=>{a(!n),u?.incrementKey&&(0,L.GV)(u.incrementKey)},rounding:600,children:(0,T.jsxs)(i.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"14px 14px",whiteSpace:"nowrap"}},display:"flex",flex:"none",justifyContent:"center",children:[(0,T.jsx)(i.KJ,{align:"center",color:n?"inverse":"default",overflow:"normal",weight:"bold",children:u?.text}),(0,T.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{marginTop:"1px"}},marginStart:2,children:(0,T.jsx)(i.In,{accessibilityLabel:t.bt("Open tab menu", "Open tab menu", "header.tabMenu.downArrow", undefined, true),color:n?"inverse":"default",icon:"chevron-down",size:12})})]})})}),n&&(0,T.jsx)(i.az,{"data-test-id":"HeaderCollapsedTabsMenu",children:(0,T.jsx)(i.ms,{anchor:d.current,disableMobileUI:!0,id:"HeaderCollapsedTabsMenu",onDismiss:h,zIndex:new i.K5([new i.rk(B.d1)]),children:e.map(({isSelected:e,key:n,text:s,url:o})=>(0,T.jsx)(i.ms.Link,{href:o,onClick:h,option:{value:n,label:s},children:(0,T.jsxs)(i.so,{alignItems:"center",width:"100%",children:[(0,T.jsx)(i.so.Item,{flex:"grow",children:(0,T.jsx)(i.KJ,{weight:"bold",children:s})}),(0,T.jsx)(i.In,{accessibilityLabel:t.bt("Selected option", "Selected option", "flyoutMenu.selectedOptionCheckmark", undefined, true),color:"default",icon:e?"check":void 0,inline:!0})]})},n))})})]})}var H=n(548588),R=n(759431),M=n(468133);function D({children:e,isSelected:t}){let{isLoaded:n,data:s}=(0,M.A)({name:"ApiResource",options:{url:"/v3/feeds/homefeed/badge/"},noCache:!0});return e(!!(n&&s)&&!t)}function N({anchor:e}){(0,o.useEffect)(()=>{(0,s.A)("RefreshedHomefeedTooltip","/app/www/Header/RefreshedHomefeedTooltip.tsx")},[]);let t=(0,_.A)();return(0,T.jsx)(i.fT,{anchor:e,idealDirection:"down",message:t.bt("Your home feed will show ideas for your new interests", "Your home feed will show ideas for your new interests", "Flyout message on Pinterest logo on Header", undefined, true),onDismiss:()=>{}})}var U=n(437364),Y=n(66150),F=n(414758),W=n(163525);function G({isSelected:e,onClick:t}){(0,o.useEffect)(()=>{(0,s.A)("TodayHeaderTab","/app/www/Header/TodayHeaderTab.tsx")},[]);let n=(0,_.A)();(0,F.A)({component:z.ZT.today.component,element:z.ZT.today.element});let a=n.bt("Explore", "Explore", "header.section.exploreTab", undefined, true);return(0,T.jsx)(v.A,{contextData:z.ZT.today,dataTestId:"today-tab",isSelected:e,navigateTo:{kind:"Legacy",url:(0,W.K5)()},onClick:t,showNotifBadge:!0,text:a})}var V=n(669078),$=n(697442),K=n(305678),J=n(26446);function X(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let{hidden:Z,visibilityChange:q}=(0,d.Lu)();class Q extends o.Component{constructor(e){super(e),X(this,"iconRoutes",(0,C.A)({username:this.props.viewer.username,isIdeaPinRenamingEnabled:this.props.isIdeaPinRenamingEnabled})),X(this,"logoButtonRef",(0,o.createRef)()),X(this,"profileRef",(0,o.createRef)()),X(this,"getCollapsedTabList",()=>[{key:"home",text:this.props.i18n.bt("Home", "Home", "header.homeButton.section", undefined, true),url:"/",incrementKey:z.YI.HOME_BUTTON_COLLAPSED_TAB},...this.props.isTodayTabEligible?[{key:"explore",text:this.props.i18n.bt("Explore", "Explore", "header.section.exploreTab", undefined, true),url:"/today/",incrementKey:z.YI.TODAY_TAB_COLLAPSED_TAB}]:[],{key:"create",text:this.props.i18n.bt("Create", "Create", "header.section.createTab", undefined, true),url:(0,l.A)(this.props.isIdeaPinRenamingEnabled),incrementKey:z.YI.CREATE_TAB_COLLAPSED_TAB}]),X(this,"handleDAUPing",()=>{document[Z]||(0,r.A)()}),X(this,"fetchUserAccounts",()=>{let{userAccountsRetrieved:e,viewer:t}=this.props;t.isAuth&&(0,m.WF)(t).then(t=>{e(t)})}),this.state={selected:(0,I.A)({pathname:e.location.pathname,iconRoutes:this.iconRoutes}),showLeftTabs:!0}}componentDidMount(){(0,s.A)("Header","/app/www/Header/Header.tsx");let{headerButtonContext:e}=this.props;this.fetchUserAccounts(),(0,o.startTransition)(()=>{e.setLogoButtonRef(this.logoButtonRef.current)}),q&&window.addEventListener(q,this.handleDAUPing,!1)}componentDidUpdate(e){let{location:t}=this.props;if(e.location.pathname!==t.pathname){let e=(0,I.A)({pathname:t.pathname,iconRoutes:this.iconRoutes});this.setState({selected:e})}}componentWillUnmount(){q&&window.removeEventListener(q,this.handleDAUPing)}renderSearchBox(){let{navigate:e,shrinkSearchBox:t,searchIconOnly:n}=this.props;return e?(0,T.jsx)(y.A,{handleIconOnlyChange:e=>this.setState({showLeftTabs:n&&e}),iconOnly:n,widthType:t?"shrink":void 0}):null}renderButtons(){let{currentSite:e,headerButtonContext:t,isVerticalNavEnabled:n,shrinkSearchBox:s,onMouseDownHomefeedPrefetch:a,onNavigateToHomefeedMousedownPrefetch:l}=this.props,{selected:r,showLeftTabs:c}=this.state;return n?(0,T.jsxs)(i.az,{alignItems:"center",column:12,"data-test-id":"button-container",display:"flex",height:56,children:[this.renderSearchBox(),(0,T.jsx)(i.so.Item,{children:(0,T.jsx)(U.A,{children:(0,T.jsx)(S.A,{idealTooltipDirection:"down",isSelected:"profile"===r||"boards"===r,onClick:()=>(0,L.GV)(z.N7.AVATAR),tooltipZIndex:J.Yo})})}),(0,T.jsx)(i.so.Item,{children:(0,T.jsx)(h.A,{currentSite:e,iconLabel:this.props.i18n.bt("Accounts", "Accounts", "header.accountOptionsButton.accountsOnly", undefined, true),onPanelChange:e=>{e&&(0,L.GV)(z.N7.ACCOUNT_SWITCHER)},showMoreOptions:!1})})]}):(0,T.jsxs)(i.az,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,T.jsxs)(i.az,{children:[(0,T.jsx)(i.az,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,T.jsx)(R.A,{onClick:()=>{(0,L.GV)(z.YI.PINTEREST_LOGO),l?.()},onMouseDown:a},"HomeButton")}),t.isTooltipOnLogoButtonShown&&(0,T.jsx)(N,{anchor:this.logoButtonRef.current})]}),!s&&c&&(0,T.jsxs)(o.Fragment,{children:[(0,T.jsx)(D,{isSelected:"home"===r,children:e=>(0,T.jsx)(v.A,{dataTestId:"home-tab",isSelected:"home"===r,navigateTo:{kind:"Legacy",url:"/"},onClick:()=>(0,L.GV)(z.YI.HOME_TAB),onMouseDown:a,onTap:l,showNotifBadge:e,text:this.props.i18n.bt("Home", "Home", "header.homeButton.section", undefined, true)})}),this.props.isTodayTabEligible&&(0,T.jsx)(G,{isSelected:"today"===r,onClick:()=>(0,L.GV)(z.YI.TODAY_TAB)}),(0,T.jsx)(P,{isSelected:"create"===r,onClick:()=>(0,L.GV)(z.YI.CREATE_TAB)})]}),s&&c&&(0,T.jsx)(O,{tabs:this.getCollapsedTabList().map(e=>({isSelected:r===e.key,...e}))}),this.renderSearchBox(),(0,T.jsxs)(i.az,{alignItems:"center","data-test-id":"button-container",display:"flex",children:[(0,T.jsx)(Y.v,{value:{currentSite:e},children:(0,T.jsx)($.A,{onConversationsClick:()=>(0,L.GV)(z.YI.CONVERSATIONS),onNewsClick:()=>(0,L.GV)(z.YI.NEWS)})}),(0,T.jsxs)(o.Fragment,{children:[(0,T.jsx)(i.az,{ref:this.profileRef,children:(0,T.jsx)(U.A,{children:(0,T.jsx)(S.A,{isSelected:"profile"===r,onClick:()=>(0,L.GV)(z.YI.AVATAR)})})}),(0,T.jsx)(h.A,{currentSite:e,onClick:()=>(0,L.GV)(z.YI.ACCOUNT_OPTIONS)})]})]})]})}renderHomeButtonAndAccountSwitcher(){let{currentSite:e,headerButtonContext:t}=this.props,{selected:n}=this.state;return(0,T.jsxs)(i.az,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,T.jsxs)(i.az,{children:[(0,T.jsx)(i.az,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,T.jsx)(R.A,{onClick:()=>(0,L.GV)(z.YI.EXTERNAL_BUTTON_QUERY_PINTEREST_LOGO)},"HomeButton")}),t.isTooltipOnLogoButtonShown&&(0,T.jsx)(N,{anchor:this.logoButtonRef.current})]}),(0,T.jsx)(i.az,{flex:"grow"}),(0,T.jsx)(i.az,{alignItems:"center","data-test-id":"button-container",display:"flex",children:(0,T.jsxs)(o.Fragment,{children:[(0,T.jsx)(i.az,{ref:this.profileRef,children:(0,T.jsx)(U.A,{children:(0,T.jsx)(S.A,{isSelected:"profile"===n,onClick:()=>(0,L.GV)(z.YI.EXTERNAL_BUTTON_QUERY_AVATAR)})})}),(0,T.jsx)(h.A,{currentSite:e,onClick:()=>(0,L.GV)(z.YI.EXTERNAL_BUTTON_QUERY_ACCOUNT_OPTIONS)})]})})]})}renderBusinessSsoPageHeader(){let{i18n:e}=this.props;return(0,T.jsxs)(i.az,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,T.jsx)(i.az,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,T.jsx)(R.A,{onClick:()=>(0,L.GV)(z.YI.SSO_PAGE_PINTEREST_LOGO)},"HomeButton")}),(0,T.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{letterSpacing:"-1px"}},children:(0,T.jsx)(i._Y,{accessibilityLevel:2,color:"default",overflow:"normal",size:"400",children:e.bt("Business", "Business", "authHeader.logoText.business", undefined, true)})})]})}renderUnsubscribePageHeader(){let{navigate:e,i18n:t,trackInteraction:n}=this.props;return(0,T.jsxs)(i.az,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,T.jsx)(i.az,{children:(0,T.jsx)(R.A,{onClick:()=>(0,L.GV)(z.YI.UNSUBSCRIBE_PAGE_PINTEREST_LOGO)},"HomeButton")}),(0,T.jsx)(i.az,{flex:"grow"}),(0,T.jsx)(i.az,{alignItems:"center","data-test-id":"button-container",display:"flex",children:(0,T.jsx)(i.Rp,{onTap:()=>{e("/"),n({action:"click",item:"back-to-pinterest",within:"unsubscribe-page"})},rounding:200,tapStyle:"compress",children:(0,T.jsxs)(i.so,{alignItems:"center",justifyContent:"start",children:[(0,T.jsx)(i.KJ,{inline:!0,size:"300",weight:"bold",children:t.bt("Back to Pinterest", "Back to Pinterest", "header.backToPinterest.section", undefined, true)}),(0,T.jsx)(S.A,{isSelected:!1,noNavigation:!0,onClick:()=>(0,L.GV)(z.YI.UNSUBSCRIBE_PAGE_AVATAR)})]})})})]})}renderHeaderContent(){let{location:e,viewer:t}=this.props;if((0,p.isPinBuilderPage)(e)){let t=(0,x.A)(e.search);if((0,c.A)(t))return this.renderHomeButtonAndAccountSwitcher()}else if((0,p.isEmailUnsubscribePage)(e)&&t.isLimitedLogin)return this.renderUnsubscribePageHeader();else if((0,p.isSsoSignupPage)(e))return this.renderBusinessSsoPageHeader();return this.renderButtons()}render(){let{headerShadowContext:{isScrolled:e,subheaderShadow:t},nags:n}=this.props;return(0,T.jsxs)(i.az,{color:"default",column:12,"data-test-id":"header-background",children:[n,(0,T.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{...null===t&&e?B.x9:{}}},children:(0,T.jsx)(i.so,{direction:"column",height:B.Ku,justifyContent:"start",width:"100%",children:(0,T.jsx)(i.az,{alignItems:"center",column:12,display:"flex",flex:"grow",paddingX:4,children:this.renderHeaderContent()})})})]})}}function ee(e){(0,o.useEffect)(()=>{(0,s.A)("Header","/app/www/Header/Header.tsx")},[]);let t=(0,_.A)(),n=(0,a.Zp)(),i=(0,a.zy)(),l=(0,k.v)(),r=(0,H.jR)(),c=(0,f._8)(),{checkExperiment:d}=(0,A.A)(),{userAccountsRetrieved:h}=(0,b.u)(),p=(0,g.A)(),{enabled:m}=(0,K.A)(),x=(0,z.Qb)(),{shrinkSearchBox:y,searchIconOnly:w}=(0,V.A)();return d("social_experience_holdout_2025_h1"),d("social_experience_holdout_2025_h2"),d("social_experience_holdout_2026_h1"),d("ce_project_habit_holdout_2025_h1"),d("inclusive_holdout_2025"),d("activation_res_holdout_2025_h2"),(0,u.A)(1000109),(0,T.jsx)(Q,{...e,...x,headerButtonContext:l,headerShadowContext:r,i18n:t,isVerticalNavEnabled:m,location:i,navigate:n,requestContext:c,searchIconOnly:w,showPersonalBoutique:e.viewer.show_personal_boutique??!1,shrinkSearchBox:y,trackInteraction:p,userAccountsRetrieved:h})}},300430(e,t,n){n.d(t,{A:()=>w});var s=n(97407),o=n(296540),a=n(236507),i=n(696561),l=n(194637),r=n(449798),c=n(643357),d=n(278646),u=n(853846),h=n(534955),_=n(96082),p=n(588628),m=n(367863),A=n(151274),f=n(305678),g=n(26446),x=n(474848);let b="circle";function y({children:e,show:t,text:n,idealDirection:s,zIndex:o}){return t?(0,x.jsx)(a.m_,{accessibilityLabel:"",idealDirection:s,text:n,zIndex:o||new a.K5([new a.rk(A.d1)]),children:e}):e}function w({isAdsSite:e=!1,isAnalyticsSite:t=!1,isTrendsSite:n=!1,isSelected:A,noNavigation:w=!1,idealTooltipDirection:j,tooltipZIndex:v,onClick:z}){(0,o.useEffect)(()=>{(0,s.A)("HeaderAvatarButton","/app/www/Header/HeaderAvatarButton.tsx")},[]);let T=(0,r.A)(),P=(0,h._8)(),C=(0,c.A)(),{active:I,hovered:S,onBlur:k,onFocus:E,onMouseDown:B,onMouseUp:L,onMouseEnter:O,onMouseLeave:H}=(0,p.A)(),{fullName:R,username:M,imageMediumUrl:D}=T.isAuth?T:{fullName:"",username:"",imageMediumUrl:""},N=T.isAuth?T?.avatar_color_index:void 0,{isInBiznuxFullscreen:U}=(0,m.A)(),Y=(0,o.useRef)(null),F=(0,_.A)({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:`/${M}/`,requestContext:P}),W=(0,u.A)({href:F,onHistoryChange:d.A}),{enabled:G}=(0,f.A)(),V=g.L4;return U||w?(0,x.jsx)(a.az,{"data-test-id":"header-profile",height:48,rounding:"circle",width:48,children:(0,x.jsx)(a.az,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,x.jsx)(a.az,{alignItems:"center",display:"flex",height:30,justifyContent:"center",rounding:"circle",width:30,children:(0,x.jsx)(l.eu,{color:N,name:R,size:"xs",src:D})})})}):(0,x.jsxs)(a.az,{"data-test-id":"header-profile",children:[(0,x.jsx)(i.X$,{anchors:{3014:Y.current},idealDirection:j,onAnchorTouch:"complete",placementId:1000109,scrollToDismiss:!0}),(0,x.jsx)(y,{idealDirection:j,show:![e,t,n].some(Boolean),text:C.bt("Your profile", "Your profile", "navbar.avatarButton.tooltip", undefined, true),zIndex:v,children:(0,x.jsx)(a.$A,{accessibilityLabel:C.bt("Your profile", "Your profile", "navbar.avatarButton.link", undefined, true),href:F,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{z?.(),t(),W({event:e})},rounding:G?V:b,tapStyle:G?g.yU:void 0,children:(0,x.jsx)(a.az,{ref:Y,"aria-hidden":!0,color:S&&!G?"secondary":void 0,dangerouslySetInlineStyle:G?{__style:{backgroundColor:S?g.XO:void 0}}:void 0,height:48,onBlur:k,onFocus:E,onMouseDown:B,onMouseEnter:O,onMouseLeave:H,onMouseUp:L,rounding:G?g.Vo:b,width:48,children:(0,x.jsx)(a.az,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,x.jsx)(a.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...I||A?{border:"2px solid #111111"}:{}}},display:"flex",height:G?38:30,justifyContent:"center",rounding:"circle",width:G?38:30,children:(0,x.jsx)(l.eu,{accessibilityLabel:C.bt("Your profile", "Your profile", "navbar.avatarButton.link", undefined, true),color:N,name:R,size:G?"sm":"xs",src:D})})})})})})]})}},611136(e,t,n){n.d(t,{A:()=>f});var s=n(97407),o=n(296540),a=n(236507),i=n(275552),l=n(696561),r=n(643357),c=n(278646),d=n(853846),u=n(588628),h=n(454236),_=n(825261),p=n(34412),m=n(474848);let A=({children:e,eventHandlers:{onBlur:t,onFocus:n,onMouseDown:s,onMouseEnter:o,onMouseLeave:l,onMouseUp:r},role:u,url:h,contextData:_,onClick:p,onMouseDown:A,onMouseEnter:f,onTap:g})=>{let x=(0,i.A)(),b=(0,d.A)({href:h||"",onHistoryChange:c.A}),y=e=>{_&&x(_),p&&p(e)};return"link"===u?(0,m.jsx)(a.$A,{href:h||"",onBlur:t,onFocus:()=>{n()},onMouseDown:()=>{s(),A?.()},onMouseEnter:()=>{o(),f?.()},onMouseLeave:()=>{l()},onMouseUp:r,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),y(e),h&&b({event:e}),g?.()},rounding:600,children:e}):(0,m.jsx)(a.Rp,{onBlur:t,onFocus:n,onMouseDown:()=>{s(),A?.()},onMouseEnter:()=>{o(),f?.()},onMouseLeave:l,onMouseUp:r,onTap:({event:e})=>{y(e),h&&b({event:e})},role:"button",rounding:600,children:e})};function f({contextData:e,dataTestId:t,iconEnd:n,isSelected:i,onClick:c,onMouseDown:d,onTap:f,role:g="link",showNotifBadge:x=!1,text:b,navigateTo:y}){(0,o.useEffect)(()=>{(0,s.A)("HeaderTab","/app/www/Header/HeaderTab.tsx")},[]);let w=(0,r.A)(),{active:j,hovered:v,onBlur:z,onFocus:T,onMouseDown:P,onMouseEnter:C,onMouseLeave:I,onMouseUp:S}=(0,u.A)(),k=(0,l.Du)(h.hl),{preload:E}=(0,_.R)(),B=(()=>{if(y?.kind==="Entrypoint"){let{preloadExtent:e}=y;if("None"!==e)return()=>E(y.route,e)}return null})(),L=y?.kind==="Entrypoint"?(0,p.P)(y.route):y?.kind==="Legacy"?y.url:null;return(0,m.jsx)(a.az,{"data-test-id":t,flex:"none",height:48,minWidth:60,rounding:600,children:(0,m.jsx)(A,{contextData:e,eventHandlers:{onBlur:z,onFocus:T,onMouseDown:P,onMouseEnter:C,onMouseLeave:I,onMouseUp:S},onClick:e=>{c?.(e),x&&k.completeExperience(h.hl,h.St)},onMouseDown:d??null,onMouseEnter:B,onTap:f,role:g,url:L,children:(0,m.jsx)(a.az,{color:i||j?"selected":v?"secondary":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:j&&!i?"#D2D2D2":void 0,whiteSpace:"nowrap"}},flex:"none",height:48,minWidth:60,paddingX:4,rounding:600,children:(0,m.jsxs)(a.so,{alignItems:"center",height:"100%",justifyContent:"center",children:[(0,m.jsx)(a.KJ,{align:"center",color:i?"inverse":"default",inline:!0,overflow:"normal",weight:"bold",children:b}),n&&(0,m.jsx)(a.az,{marginStart:2,children:(0,m.jsx)(a.In,{accessibilityLabel:"",color:i?"inverse":"default",icon:n,size:12})}),x&&(0,m.jsx)(l.Je,{eligibleIds:[h.St],placementId:h.hl,children:(0,m.jsx)(a.C1,{accessibilityLabel:w.bt("Notifications", "Notifications", "header.headerTab.notifBadge", undefined, true)})})]})})})})}},437364(e,t,n){n.d(t,{A:()=>f});var s=n(97407),o=n(296540),a=n(236507),i=n(542098),l=n(367863),r=n(925177),c=n(474848);function d(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u="SavePin",h={__style:{left:"50%",marginLeft:-125}},_={__style:{animationName:`${u}_AnimateIn, ${u}_CircleAnimateOut`,animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},p={__style:{animationName:`${u}_AnimateIn, ${u}_AnimateOut`,animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},m={__style:{animationName:`${u}_NavButtonAnimation`,animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}};class A extends o.Component{constructor(...e){super(...e),d(this,"state",{imageLoaded:!1}),d(this,"handleAnimationCompletion",()=>{let{animationEnded:e}=this.props;this.setState({imageLoaded:!1},()=>{e()})}),d(this,"handleImageLoad",()=>{this.setState({imageLoaded:!0})}),d(this,"loadImage",()=>{let e=new Image;e.onload=this.handleImageLoad,e.src=this.imageSrc()}),d(this,"imageSrc",()=>{let{images:e={}}=this.props.lastRepin||{};return e["236x"]?.url??""}),d(this,"shouldRenderAnimation",()=>{let{lastRepin:e,startAnimation:t}=this.props,{imageLoaded:n}=this.state;return!!(e&&n&&t)})}componentDidUpdate(e,t){let{lastRepin:n={}}=e,{imageLoaded:s}=t,{lastRepin:o,startAnimation:a}=this.props,{imageLoaded:i}=this.state;o&&o.id!==n?.id&&this.loadImage(),a&&i&&i!==s&&(this.dismissTimeout=setTimeout(this.handleAnimationCompletion,2500))}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}render(){let{children:e}=this.props;return this.shouldRenderAnimation()?(0,c.jsxs)(a.so,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,c.jsx)(i.A,{unsafeCSS:`
@keyframes ${u}_AnimateIn {
  from {
    transform: scale(0.0);
    opacity: 0;
  }
  to {
    opacity: 1;
    transform: scale(1.0);
  }
}
@keyframes ${u}_CircleAnimateOut {
  from {
    transform: scale(1.0);
    opacity: 1;
  }
  to {
    transform: scale(0.8);
    opacity: 0;
  }
}
@keyframes ${u}_AnimateOut {
  from {
    transform: translateY(0) scale(1.0);
    opacity: 1;
  }
  to {
    transform: translateY(-100px) scale(0.0);
    opacity: 0;
  }
}
@keyframes ${u}_NavButtonAnimation {
  0% {
    transform: scale(1.0);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1.0);
  }
}
`}),(0,c.jsxs)(a.az,{position:"relative",children:[(0,c.jsxs)(a.az,{dangerouslySetInlineStyle:h,height:250,position:"absolute",top:!0,width:250,children:[(0,c.jsx)(a.az,{alignItems:"center",dangerouslySetInlineStyle:_,display:"flex",height:"100%",justifyContent:"center",opacity:0,rounding:"circle",width:"100%"}),(0,c.jsx)(a.az,{bottom:!0,dangerouslySetInlineStyle:p,height:100,left:!0,margin:"auto",opacity:0,position:"absolute",right:!0,rounding:300,top:!0,width:100,children:(0,c.jsx)(a.n1,{height:"100%",rounding:200,wash:!0,width:"100%",children:(0,c.jsx)(a._V,{alt:"pin-image",fit:"cover",naturalHeight:1,naturalWidth:1,src:this.imageSrc()})})})]}),(0,c.jsx)(a.az,{dangerouslySetInlineStyle:m,children:e})]})]}):e}}function f(e){(0,o.useEffect)(()=>{(0,s.A)("SavePinAnimation","/app/www/Header/SavePinAnimation.tsx")},[]);let{repinPinId:t,repinStartAnimation:n,updateHeaderState:a}=(0,l.A)(),i=(0,r.HR)(),d=t?i(t):null;return(0,c.jsx)(A,{...e,animationEnded:()=>a({type:"hideRepinAnimation"}),lastRepin:d,startAnimation:n})}},669078(e,t,n){n.d(t,{A:()=>i});var s=n(296540),o=n(984273),a=n(913961);let i=function(){let[{shrinkSearchBox:e,searchIconOnly:t},n]=(0,s.useState)({searchIconOnly:!1,shrinkSearchBox:!1});return(0,s.useEffect)(()=>{let t=(0,o.A)(()=>{let t=document.getElementById(a.rv);if(!t)return;let s=300>=(t.offsetWidth||0);window.innerWidth<850?n({searchIconOnly:s,shrinkSearchBox:!0}):e?n({searchIconOnly:!1,shrinkSearchBox:!1}):n(e=>({...e,searchIconOnly:s}))},100);return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e]),{shrinkSearchBox:e,searchIconOnly:t}}},697442(e,t,n){n.d(t,{A:()=>c});var s=n(97407),o=n(296540),a=n(449798),i=n(965462),l=n(832274),r=n(474848);function c({onNewsClick:e,onConversationsClick:t}){(0,o.useEffect)(()=>{(0,s.A)("ConversationsAndNewsButtons","/app/www/messages/ConversationsAndNewsButtons.tsx")},[]);let n=(0,a.A)();return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(i.A,{onClick:e}),n.isAuth&&n.should_show_messaging&&(0,r.jsx)(l.A,{onClick:t})]})}},84214(e,t,n){n.d(t,{A:()=>o,a:()=>a});var s=n(173756);function o({user:e,viewer:t}){return!!(t.isAuth&&e?.username===t.username)}function a({user:e,viewer:t,location:n}){let{id:o}=e||{},{id:a,isAuth:i}=t,{pathname:l=""}=n||{};return!!(i&&a===o&&l.includes(`/${s.H}/`))}},173756(e,t,n){n.d(t,{H:()=>s});let s="_profile"},26943(e,t,n){n.d(t,{A:()=>i});var s=n(278106),o=n(958880),a=n(468133);function i(e){let{username:t}=(0,s.g)(),n=(0,o.A)()()?e||!t:e||null==t;return(0,a.A)(n?null:{name:"UserResource",options:{username:t,field_set_key:"profile"}})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/AuthDesktopHeader.en_GB-fb151944fbeb8f7f.mjs.map