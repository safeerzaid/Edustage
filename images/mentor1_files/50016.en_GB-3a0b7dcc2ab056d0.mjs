(self.modernJsonp=self.modernJsonp||[]).push([["50016"],{233570(e,a,t){var r={"./he_IL/LocaleDataLoader":["250125","45542"],"./zh_TW/LocaleDataLoader":["295476","24479"],"./en_AU/LocaleDataLoader":["876672","28511"],"./en_GB/LocaleDataLoader":["705573","86318"],"./en_IN/LocaleDataLoader":["318023","85872"],"./cs_CZ/LocaleDataLoader":["763032","10619"],"./hi_IN/LocaleDataLoader":["636983","41852"],"./ko_KR/LocaleDataLoader":["237140","82223"],"./nl/LocaleDataLoader":["740262","17891"],"./vi_VN/LocaleDataLoader":["413344","31063"],"./es_ES/LocaleDataLoader":["722633","11926"],"./sv_SE/LocaleDataLoader":["232516","78892"],"./ru_RU/LocaleDataLoader":["116427","6092"],"./uk_UA/LocaleDataLoader":["997599","29824"],"./en_US/LocaleDataLoader":["128606","21161"],"./ms_MY/LocaleDataLoader":["562623","77008"],"./bn_IN/LocaleDataLoader":["890176","62655"],"./nb_NO/LocaleDataLoader":["44636","26655"],"./it/LocaleDataLoader":["652891","81118"],"./te_IN/LocaleDataLoader":["799871","71596"],"./es_419/LocaleDataLoader":["247019","1186"],"./es_AR/LocaleDataLoader":["248236","51379"],"./tr/LocaleDataLoader":["245506","50579"],"./af_ZA/LocaleDataLoader":["878309","37742"],"./es_MX/LocaleDataLoader":["673358","55161"],"./pt_BR/LocaleDataLoader":["208549","46602"],"./fi_FI/LocaleDataLoader":["739531","68852"],"./da_DK/LocaleDataLoader":["81513","68962"],"./fr/LocaleDataLoader":["329276","50153"],"./pt_PT/LocaleDataLoader":["276189","68998"],"./ar_SA/LocaleDataLoader":["414046","87797"],"./sk_SK/LocaleDataLoader":["997017","6594"],"./hu_HU/LocaleDataLoader":["277311","90108"],"./hr_HR/LocaleDataLoader":["746397","65714"],"./tl_PH/LocaleDataLoader":["61965","75014"],"./el_GR/LocaleDataLoader":["438235","63652"],"./ja/LocaleDataLoader":["676959","10642"],"./ro_RO/LocaleDataLoader":["627023","68460"],"./es_US/LocaleDataLoader":["227577","76198"],"./zh_CN/LocaleDataLoader":["924872","12383"],"./pl_PL/LocaleDataLoader":["115853","74374"],"./bg_BG/LocaleDataLoader":["430847","19052"],"./id_ID/LocaleDataLoader":["861419","82752"],"./th_TH/LocaleDataLoader":["278213","38238"],"./de/LocaleDataLoader":["336329","29928"]};function s(e){if(!t.o(r,e))return Promise.resolve().then(function(){var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a});var a=r[e],s=a[0];return t.e(a[1]).then(function(){return t(s)})}s.keys=()=>Object.keys(r),s.id=233570,e.exports=s},976817(e,a,t){var r={"./af_ZA/LocaleDataLoader":"878309","./ar_SA/LocaleDataLoader":"414046","./bg_BG/LocaleDataLoader":"430847","./bn_IN/LocaleDataLoader":"890176","./cs_CZ/LocaleDataLoader":"763032","./da_DK/LocaleDataLoader":"81513","./de/LocaleDataLoader":"336329","./el_GR/LocaleDataLoader":"438235","./en_AU/LocaleDataLoader":"876672","./en_GB/LocaleDataLoader":"705573","./en_IN/LocaleDataLoader":"318023","./en_US/LocaleDataLoader":"128606","./es_419/LocaleDataLoader":"247019","./es_AR/LocaleDataLoader":"248236","./es_ES/LocaleDataLoader":"722633","./es_MX/LocaleDataLoader":"673358","./es_US/LocaleDataLoader":"227577","./fi_FI/LocaleDataLoader":"739531","./fr/LocaleDataLoader":"329276","./he_IL/LocaleDataLoader":"250125","./hi_IN/LocaleDataLoader":"636983","./hr_HR/LocaleDataLoader":"746397","./hu_HU/LocaleDataLoader":"277311","./id_ID/LocaleDataLoader":"861419","./it/LocaleDataLoader":"652891","./ja/LocaleDataLoader":"676959","./ko_KR/LocaleDataLoader":"237140","./ms_MY/LocaleDataLoader":"562623","./nb_NO/LocaleDataLoader":"44636","./nl/LocaleDataLoader":"740262","./pl_PL/LocaleDataLoader":"115853","./pt_BR/LocaleDataLoader":"208549","./pt_PT/LocaleDataLoader":"276189","./ro_RO/LocaleDataLoader":"627023","./ru_RU/LocaleDataLoader":"116427","./sk_SK/LocaleDataLoader":"997017","./sv_SE/LocaleDataLoader":"232516","./te_IN/LocaleDataLoader":"799871","./th_TH/LocaleDataLoader":"278213","./tl_PH/LocaleDataLoader":"61965","./tr/LocaleDataLoader":"245506","./uk_UA/LocaleDataLoader":"997599","./vi_VN/LocaleDataLoader":"413344","./zh_CN/LocaleDataLoader":"924872","./zh_TW/LocaleDataLoader":"295476"};function s(e){var a=o(e);if(!t.m[a]){var r=Error("Module '"+e+"' ('"+a+"') is not available (weak dependency)");throw r.code="MODULE_NOT_FOUND",r}return t(a)}function o(e){if(!t.o(r,e)){var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return r[e]}s.keys=()=>Object.keys(r),s.resolve=o,s.id=976817,e.exports=s},234059(e,a,t){t.d(a,{A:()=>p});var r=t(81588),s=t(626073),o=t(173279),n=t(534907),i=t(960926),l=t(441472),d=t(646844);async function c(){let e=navigator.serviceWorker;if(!l.Ay.getItem(i.Gj)&&((0,d.GV)("web_service_worker.install",{sampleRate:.1}),e&&e.register))try{let a=await e.register("/sw.js");return(0,d.GV)("web_service_worker.install.success",{sampleRate:.1}),a}catch(e){throw(0,d.GV)("web_service_worker.install.error",{sampleRate:.1}),e}}async function _(){let e=navigator.serviceWorker;if((0,d.GV)("web_service_worker.update",{sampleRate:.1}),e&&e.getRegistration){let a=await e.getRegistration();if(!a)return(0,d.GV)("web_service_worker.update.registration.not_exist",{sampleRate:.1}),await c();(0,d.GV)("web_service_worker.update.registration.exist",{sampleRate:.1});try{await a.update(),(0,d.GV)("web_service_worker.update.success",{sampleRate:.1})}catch(e){throw(0,d.GV)("web_service_worker.update.fail",{sampleRate:.1}),e}}}var u=t(16172);let p=new class{constructor(){this.versionState=1,this.preparingNewVersion=!1}checkVersion(e,a,t){let i=(0,u.A)(),{isAuthenticated:l,userAgent:{isMobile:c,isTablet:p}}=t,E=l&&!c&&!p;e!==i&&(3!==this.versionState&&((0,r.A)({appType:t.appTypeDetailed,currVersion:(0,u.A)(),deviceType:E?"desktop":"mobile",eventType:"signal",eventName:"new_version_required",isBot:t.isBot??!1,nextVersion:e,originHost:a,stage:t.stage??"unknown"}),this.versionState=3),e===this.nextVersion||this.preparingNewVersion||(this.preparingNewVersion=!0,E?_().catch(()=>(0,o.A)("checkVersion")).finally(()=>{this.preparingNewVersion=!1}):(c||p)&&l&&(0,s.DB)().catch(()=>((0,d.GV)("mweb_service_worker.prepareNewVersion.error",{sampleRate:1}),(0,n.A)())).finally(()=>{(0,d.GV)("mweb.new_version.refresh",{sampleRate:1}),this.preparingNewVersion=!1}),this.nextVersion=e))}isNewVersionRequired(){return 3===this.versionState}}},110359(e,a,t){t.d(a,{Ay:()=>p,XH:()=>u});var r=t(850607),s=t(414491),o=t(931872),n=t(182835),i=t(646844);let l={".pinterdev.com":"pinterdev","playhouse-worker-www":"playhouse-worker-www","playhouse-worker-sterling":"playhouse-worker-sterling","playhouse-worker-analytics":"playhouse-worker-analytics"},d=["accounts-oauth.pinterest.com","analytics-latest.pinterest.com","analytics.pinterest.com","canary.pinterest.com","latest.pinterest.com","sss.www.pinterest.com","testing.pinterest.com","testing-k8s.pinterest.com","unknown","www.pinterest.com","www.pinterest.co.kr","www.pinterest.co.uk","www.pinterest.com.au","www.pinterest.com.mx"],c=/www\.pinterest\.[A-Za-z]{2}/,_=/[A-Za-z]{2}\.pinterest\.com/;function u(e){if(d.indexOf(e)>-1||c.test(e)||_.test(e))return e;for(let a in l)if(Object.prototype.hasOwnProperty.call(l,a)&&e.indexOf(a)>-1)return l[a];return"other"}function p({pageType:e,requestContext:a,route:t}){(({moduleName:e,pageType:a,requestContext:t})=>{let l,d=(e=>{let{userAgent:a}=e;if(!a.isMobile&&!a.isTablet)return"desktop";switch(a.platform){case"ios":return"iphone";case"android":return a.isTablet?"android_tablet":"android";case"ipad":return"ipad";default:return"mobile_other"}})(t),c=t.isAuthenticated?"auth":"unauth",_=(()=>{let e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";else if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";else if(e.indexOf("applebot")>-1)return"apple_bot";else if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";else if(e.indexOf("yandex")>-1)return"yandex"}})(),p=(0,o.A)(),E=(l=!1,s.Jt(r.DN)||(s.hZ(r.DN,"1",(0,s.N_)(r.DN)),l=!0),l),S=document.domain||"unknown";E&&((0,n.PM)(`traffic.${d}.${p}.${e}.${c}`),(0,n.PM)(`traffic_subdomain.${S}.${p}.${e}.${c}`),(0,n.PM)(`traffic_subdomain.${S}.${d}.${p}.${e}.${c}`),(0,n.PM)(`traffic_subdomain.${S}.${d}.${c}`),(0,n.PM)(`traffic_duplo.${d}.${p}.${e}.${c}`),_&&(0,n.PM)(`traffic_bot.${_}.${e}`));let T={domain:u(S),referrer:p??"unknown",platform:d??"unknown",browser:t.userAgent.browserName??"unknown",bot_type:_??"none",page_type:a??"unknown",is_auth:c??"unknown",module:e??"unknown",moduleType:function(e){if(/.*Board(React)?Page(Wrapper)?$/.test(e))return"Board";if(/Closeup|.*Pin(Landing|React)?Page$/.test(e))return"Pin";if("HomePage"===e||"UnauthHomeReactPage"===e||"LoginPage"===e||"Signup"===e)return"Home";if(/.*ProfilePage(Container)?$/.test(e))return"Profile";if("TopicPage"===e||"UnauthTopicPage"===e)return"Topic";if(/.*TodayTab(Feed)?Page$/.test(e))return"TodayTab";if("UnauthTodayArticleFeedPage"===e||"TodayArticleFeedPage"===e)return"TodayArticle";else if(/.*Idea(s)?RootPage$/.test(e))return"IdeasRoot";else if(/.*Idea(s)?(Topic)?Page$/.test(e))return"Ideas";else if(/.*Video(s)?RootPage$/.test(e))return"VideosRoot";else if(/.*Video(s)?(Category)?Page$/.test(e))return"VideosCategory";else if(/.*ShoppingRootPage$/.test(e))return"ShoppingRoot";else if(/.*Shopping(Category)?Page$/.test(e))return"ShoppingCategory";else return"other"}(e??"unknown"),first_visit:E??"unknown"};(0,i.GV)("webapp.traffic",{sampleRate:.1,tags:T}),("google"===p||"other"===p)&&(0,i.GV)(`webapp.traffic.${d}.${p}`,{sampleRate:.1,tags:T})})({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}["/"!==t&&t.endsWith("/")?t.slice(0,-1):t]||"other",pageType:e,requestContext:a})}},70957(e,a,t){t.d(a,{A:()=>u});var r=t(418562),s=t(231309),o=t(684059),n=t(107792),i=t(427575),l=t(646844),d=t(869344),c=t(370590),_=t(16172);let u=function(){let e=(0,s.A)();if(e?.isAuthenticated&&!function(){let e=(0,s.A)(),a=window.location.pathname.startsWith("/settings/notifications"),t=window.location.pathname.startsWith("/reports-and-violations/"),r=window.location.pathname.startsWith("/email/subscription")||window.location.pathname.startsWith("/email/remove")||a,o=window.location.pathname.startsWith("/pin/create/"),n="/pin-builder/"===window.location.pathname&&/url=/.test(window.location.href),{userAgent:i}=e||{userAgent:{isMobile:!1,isTablet:!1}};return i.isMobile||i.isTablet?r||t:o||n||r||t}()){var a,t;let s,u,{viewType:p,viewParameter:E}=(0,d.Cs)()??{},S=(0,c.uy)(window);a={data:{appVersion:(0,_.A)(),auxData:{pwa_type:S&&"unknown"!==S?S:void 0,stage:e.stage??"unknown"},browser:e.userAgent.browserType,clientUUID:(0,r.A)(),event_type:7137,time:1e6*Date.now(),unauth_id:e.unauthId,view_type:p,view_parameter:E}},t=e.isAuthenticated,s=o.A.create("ActiveUserResource",a),u=3e4,s.callCreate().catch(e=>{let r,o=e.message;if(o&&"object"==typeof o){"_t_message"in o&&delete o._t_message;try{r=JSON.stringify(o)}catch(e){r="Unable to serialize error message"}}else r=o;(0,l.GV)("webapp.metrics.dau.errors",{sampleRate:1,tags:{message:r,browser:a.data.browser,error_code:(0,i.A)(e,"api_error_code")||"unknown",is_auth:t}}),setTimeout(()=>{u>n.Qv||(u*=2,s.callCreate())},u)})}}},81588(e,a,t){t.d(a,{A:()=>s});var r=t(646844);function s({appType:e,currVersion:a,deviceType:t,eventType:s,eventName:o,stage:n,nextVersion:i,isBot:l,originHost:d}){let c="desktop"===t?5:6;(0,r.GV)(`web.client_refresh.${s}.${t}`,{sampleRate:1,tags:{stage:n,currVersion:a,nextVersion:i,isBot:l,siteType:e||c,appType:e||c,event:o,originHost:d||"unknown"}})}},58882(e,a,t){t.d(a,{BP:()=>d,Cj:()=>_,H3:()=>c,Ic:()=>o,O1:()=>r,qx:()=>s,vC:()=>l,xg:()=>i,zF:()=>n});let r="desktop",s={browserName:"",browserType:null,browserVersion:"",canUseNativeApp:!1,isTablet:!1,isMobile:!1,platform:"",platformVersion:[0,0,0],osName:null,raw:""},o=[],n=[],i=[],l=[],d=[],c=18e5,_=()=>{let e=Date.now();return{ts:e,sessionTimestamps:[e]}}},650873(e,a,t){t.d(a,{A:()=>s});var r=t(106149);function s(e){let a=new Date,t=new Date(new Date().setDate(a.getDate()-28));return e.filter(e=>"closeup"===e.pageType&&new Date(e.ts)>=t).map(e=>({...e,id:(0,r.A)(e.path)||""}))}},175962(e,a,t){function r(){return new Date(Date.now())}t.d(a,{A:()=>r})},667759(e,a,t){function r(e){let a=new Date(e);return a.setUTCMilliseconds(0),a.setUTCMinutes(0),a.setUTCSeconds(0),a.setUTCHours(0),a}t.d(a,{A:()=>r})},200824(e,a,t){t.d(a,{Dq:()=>s,KP:()=>n,RQ:()=>i,XB:()=>o,yU:()=>r});let r="REFRESH_ALL_EXPERIENCES_MULTI",s="UPDATE_EXPERIENCE_MULTI",o="FETCH_EXPERIENCES",n="REFRESH_ALL_EXPERIENCES",i="UPDATE_EXPERIENCE"},780658(e,a,t){let r;t.d(a,{a:()=>O,A:()=>N});var s=t(97407),o=t(296540),n=t(643357),i=t(48049),l=t(646844);let d="string_usage_logger.exceptions",c=[];function _(){if(!c.length)return;let e=[...c];c=[],clearTimeout(r),r=void 0;try{(()=>{let{default:a}=t(953512);a.logToServer(a.SERVER_LOG_TYPE.STRING_USAGE,a.HTTP_METHOD.POST,e,3,1e3)})()}catch(e){(0,l.GV)(d)}}function u(e,a,t,s,o,n,p,E=1e-4){Math.random()<E&&(()=>{try{let l=i.A.getTextUnitName(e,t,p,a),d={repository:"webapp",sample_rate:E,content:e,text_unit_name:l,asset_path:"messages.pot",comment:s.trim(),app_locale:a,mojito_locale:a,target:o,translation_status:n,version:"1.0"};!function(e){c.push(e),r||(r=setTimeout(_.bind(this),1e4))}(d)}catch(e){(0,l.GV)(d)}})()}let p="TRANSLATED",E="UNTRANSLATED",S="DELTA",T="i18n.ota_deltas.prod.lookup.hit";function y(e){return window.location.hostname.includes("pinterdev.com")?{locale:e,repository:"webapp",hostname:window.location.hostname}:{locale:e,repository:"webapp"}}let A="NATIVE",R="MT_REQUIRED";function I(e,a,t,r,s,o){let{localeCode:n,inContextTranslation:d,getDeltaTranslation:c}=e,_=a,I=o||void 0===n||"en-US"===n?p:E;if(t=t.replace(/\s+/g," "),"en-US"!==n&&c){let e=c(i.A.getTextUnitName(t,r,s,n));if(e)return(0,l.GV)(T,{sampleRate:.001,tags:y(n)}),u(t,n,r,"",e,S,s),e}return d&&(_=I===p?d.getIctTranslationOrDefault(t,r,s,n,a,A):d.getIctTranslationOrDefault(t,r,s,n,a,R)),u(t,n,r,"",_,I,s),_}function m(e,a,t="",r="",s){let{localeCode:o,i18nStrings:n,inContextTranslation:d,getDeltaTranslation:c}=e;if(a=a.replace(/\s+/g," "),"en-US"!==o&&c){let e=c(i.A.getTextUnitName(a,t,s,o));if(e)return(0,l.GV)(T,{sampleRate:.001,tags:y(o)}),u(a,o,t,r,e,S,s),e}let _=a,I=void 0===o||"en-US"===o?p:E;return void 0!==o&&"en-US"!==o&&void 0!==n&&void 0!==n[t]&&void 0!==n[t][a]&&(I=p,Array.isArray(n[t][a])?void 0!==s&&(_=n[t][a][s]):_=n[t][a]),d&&(_=I===p?d.getIctTranslationOrDefault(a,t,s,o,_,A):d.getIctTranslationOrDefault(a,t,s,o,_,R)),u(a,o,t,r,_,I,s),_}var g=t(622165),C=t(840085),f=t(947814),P=t(474848);let O=(0,f.A)(e=>t(233570)(`./${e?.localeCode}/LocaleDataLoader`),{dynamicRequestKey:"localeCode",fallback:(0,P.jsx)(function({group:e}){let a=(0,C.AJ)();return(0,l.GV)("webapp.i18nProvider.suspend",{sampleRate:1,tags:{handler:a,group:e,environment:"client"}}),null},{group:"enabled"})},e=>t(976817).resolve(`./${e?.localeCode}/LocaleDataLoader`),"locale-[request]-LocaleDataLoader",e=>({"locale-en_GB-LocaleDataLoader":["86318"],"locale-es_ES-LocaleDataLoader":["11926"],"locale-he_IL-LocaleDataLoader":["45542"],"locale-zh_CN-LocaleDataLoader":["12383"],"locale-es_419-LocaleDataLoader":["1186"],"locale-es_US-LocaleDataLoader":["76198"],"locale-en_US-LocaleDataLoader":["21161"],"locale-id_ID-LocaleDataLoader":["82752"],"locale-vi_VN-LocaleDataLoader":["31063"],"locale-pt_PT-LocaleDataLoader":["68998"],"locale-sv_SE-LocaleDataLoader":["78892"],"locale-ar_SA-LocaleDataLoader":["87797"],"locale-te_IN-LocaleDataLoader":["71596"],"locale-zh_TW-LocaleDataLoader":["24479"],"locale-bg_BG-LocaleDataLoader":["19052"],"locale-sk_SK-LocaleDataLoader":["6594"],"locale-ms_MY-LocaleDataLoader":["77008"],"locale-el_GR-LocaleDataLoader":["63652"],"locale-af_ZA-LocaleDataLoader":["37742"],"locale-de-LocaleDataLoader":["29928"],"locale-hr_HR-LocaleDataLoader":["65714"],"locale-tr-LocaleDataLoader":["50579"],"locale-uk_UA-LocaleDataLoader":["29824"],"locale-th_TH-LocaleDataLoader":["38238"],"locale-it-LocaleDataLoader":["81118"],"locale-fr-LocaleDataLoader":["50153"],"locale-en_AU-LocaleDataLoader":["28511"],"locale-da_DK-LocaleDataLoader":["68962"],"locale-bn_IN-LocaleDataLoader":["62655"],"locale-nl-LocaleDataLoader":["17891"],"locale-es_AR-LocaleDataLoader":["51379"],"locale-nb_NO-LocaleDataLoader":["26655"],"locale-pl_PL-LocaleDataLoader":["74374"],"locale-ru_RU-LocaleDataLoader":["6092"],"locale-en_IN-LocaleDataLoader":["85872"],"locale-hu_HU-LocaleDataLoader":["90108"],"locale-tl_PH-LocaleDataLoader":["75014"],"locale-cs_CZ-LocaleDataLoader":["10619"],"locale-pt_BR-LocaleDataLoader":["46602"],"locale-es_MX-LocaleDataLoader":["55161"],"locale-hi_IN-LocaleDataLoader":["41852"],"locale-ja-LocaleDataLoader":["10642"],"locale-ko_KR-LocaleDataLoader":["82223"],"locale-fi_FI-LocaleDataLoader":["68852"],"locale-ro_RO-LocaleDataLoader":["68460"]}));function N({children:e,otaData:a,enableInContextTranslation:r,locale:i}){(0,o.useEffect)(()=>{(0,s.A)("I18nProvider","/app/packages/i18n/I18nProvider.tsx")},[]);let[l,d]=(0,o.useState)(),c=(0,g.A)(),_=i.split("-").join("_");return(0,o.useEffect)(()=>{let e=async()=>{d(new(await t.e("15911").then(t.bind(t,174842))).default("webapp"))};r&&e()},[r]),(0,P.jsx)(O,{localeCode:_,children:t=>{let r=function(e,a){let{otaData:t}=a,r={...a,[e]:{...a[e]||{},i18nStrings:a[e]?.i18nStrings||a.i18nStrings,plural:a[e]?.plural||a.plural}},s={localeCode:e,i18nStrings:r.i18nStrings,pluralFunction:r.locale===e&&r.plural||null,inContextTranslation:r.inContextTranslationWebapp,getDeltaTranslation:t?e=>t.deltas?t.deltas[e]:null:null},o={_:(e,a="",t="",r)=>m(s,e,a,t,r),bt:(e,a,t,r,o)=>I(s,e,a,t,r,o),nbt:(e,a,t,r)=>(function(e,a,t,r,s){let{localeCode:o,pluralFunction:n}=e,i=+(n||(e=>1!==e))(t),l="en-US"===o&&1===i?a[1]:a[0];return I(e,a[i]??a[0],l,r,i,s)})(s,e,a,t,r),ngettext:(e,a,t,r,o)=>(function(e,a,t,r,s,o){let{localeCode:n,pluralFunction:i}=e,l=+(i||(e=>1!==e))(r);return m(e,"en-US"===n&&1===l?t:a,s,o,l)})(s,e,a,t,r,o),getLocaleData:()=>r,getPluralFunction:(a=e)=>r[a]&&r[a].plural?r[a].plural:e=>1!==e},n={defaultErrorMessage:o.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end!", " - ", undefined, true),asciiPasswordError:o.bt("Your password can only contain letters, numbers and basic symbols.", "Oops! Your password can only have letters, numbers and basic symbols.", " - ", undefined, true)};return{...o,commonStrings:n}}(i,{...t,otaData:a,experimentsClient:c,inContextTranslationWebapp:l});return(0,P.jsx)(n.z,{value:r,children:e})}})}},870854(e,a,t){t.d(a,{OK:()=>n});var r=t(850607),s=t(414491),o=t(769178);let n=()=>{let e=(0,o.XC)();!!s.Jt(r.BD)!==e&&(e?s.hZ(r.BD,String(!0),(0,s.N_)(r.BD)):s.wC(r.BD.name),"u">typeof window&&window.location.reload())}},576159(e,a,t){function r(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}t.d(a,{A:()=>r})},435845(e,a,t){function r(e,a){return a in e}t.d(a,{A:()=>r})},803710(e,a,t){t.d(a,{Al:()=>s,BD:()=>S,EQ:()=>c,Fm:()=>n,Gb:()=>l,Km:()=>u,L3:()=>p,Ll:()=>E,ON:()=>T,TL:()=>i,Wv:()=>y,dK:()=>A,qm:()=>d,t2:()=>r,tg:()=>o,w5:()=>_});let r=["attempted","publishing","succeeded","uploading"],s={carousel:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],single:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],story:[{w:9,h:16}],storyFARPortrait:[{w:1,h:2},{w:9,h:16},{w:2,h:3},{w:3,h:4},{w:4,h:5},{w:1,h:1}],storyFARLandscape:[{w:2,h:1},{w:16,h:9},{w:3,h:2},{w:4,h:3},{w:5,h:4},{w:1,h:1}]},o=["tl","tc","tr","bl","bc","br"],n=["left","center"],i=["top","center","bottom"],l=["none","uppercase"],d=["sm","md","lg"],c=[1,.75],_="cubic-bezier(0.66, 0.025, 0.33, 0.975)",u=["creating","processing","publishing","saving"],p=0xc800000,E="pin-builder-default-education-id",S="pin-builder-default-tour-id",T="pin-builder-editing-tour-id",y="save_from_url",A=["processing","edited","creating","saving","saved"]},618163(e,a,t){t.d(a,{A:()=>c});var r=t(684059),s=t(152767),o=t(900144);function n(e,a,t){var r;return(a="symbol"==typeof(r=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,a||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?r:r+"")in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}class i{constructor(e={},a={},t=!1){n(this,"useBatching",!1),n(this,"flush",()=>{}),n(this,"_markExperimentAsActivated",()=>{}),n(this,"checkExperiment",(e,a)=>{a?.dangerouslySkipActivation||this._markExperimentAsActivated(e);let t=(this.active[e]??this.triggerable[e])||"";return{anyEnabled:(0,o.A)(t),group:t}}),this.active=e,this.triggerable=a,this.useBatching=t}updateExperiments(e,a){e&&(this.active=e),a&&(this.triggerable=a)}}var l=t(646844);function d(e,a,t){var r;return(a="symbol"==typeof(r=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,a||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?r:r+"")in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}class c extends i{constructor(...e){super(...e),d(this,"_queuedResource",void 0),d(this,"_markExperimentAsActivated",e=>{let a=this.active[e];if(void 0===a&&void 0!==(a=this.triggerable[e])){this.active[e]=a;let t={experiment_name:e,...a?{experiment_group:a}:Object.freeze({})};this.useBatching?(this._queuedResource||(this._queuedResource=(0,s.A)({flush:e=>{r.A.create("ActivateExperimentResource",{experiments:e}).callCreate()},flushTimeoutMs:5e3})),this._queuedResource.enqueue(t)):r.A.create("ActivateExperimentResource",t).callCreate({showError:!1}),(0,l.GV)("ExperimentsClient.markExperimentAsActivated",{sampleRate:.01,tags:{group:a,location:"client",name:e}})}}),d(this,"flush",()=>{this._queuedResource&&this._queuedResource.flush()})}}},389772(e,a,t){t.d(a,{A:()=>r});let r=t(618163).A},900144(e,a,t){t.d(a,{A:()=>r});let r=e=>e.startsWith("enabled")||e.startsWith("employee")},48049(e,a,t){t.d(a,{A:()=>r});let r=new class{getTextUnitName(e,a,t,r){let s=e;return a&&(s=`${s} --- ${a}`),s=s.replace(/"/g,'\\"'),null!==t&&t>=0&&(s=s+" _"+this.poPluralFormToCLDRForm(t,r)),s}poPluralFormToCLDRForm(e,a){return(({"cs-CZ":{0:"one",1:"few",2:"other"},"ja-JP":{0:"other"},"ko-KR":{0:"other"},"pl-PL":{0:"one",1:"few",2:"many"},"ro-RO":{0:"one",1:"few",2:"other"},"ru-RU":{0:"one",1:"few",2:"many"},"sk-SK":{0:"one",1:"few",2:"other"},"uk-UA":{0:"one",1:"few",2:"many"},"vi-VN":{0:"other"},"id-ID":{0:"other"},"th-TH":{0:"other"},"ms-MY":{0:"other"},"zh-CN":{0:"other"},"zh-TW":{0:"other"},"he-IL":{0:"one",1:"two",2:"many",3:"other"},"ar-SA":{0:"zero",1:"one",2:"two",3:"few",4:"many",5:"other"},"hr-HR":{0:"one",1:"few",2:"other"}})[a]||{0:"one",1:"other"})[e]||"other"}}},528831(e,a,t){t.d(a,{A:()=>o});var r=t(520270),s=t(839335);function o(e){return("desktop"!==e||!!window.performance?.timing)&&!!s.A&&(0,r.c)()}},981071(e,a,t){t.d(a,{A:()=>n});var r=t(241368),s=t(34099),o=t(16172);function n({requestContext:e}){return{appVersion:(0,o.A)(),browserName:e.userAgent.browserName,browserVersion:e.userAgent.browserVersion,country:e.country,deviceType:(0,r.A)(e),fullPath:e.fullPath,getExperimentGroup:a=>e.experimentsClient.checkExperiment(a,{dangerouslySkipActivation:!0}).group||null,hasActiveServiceWorker:(0,s.A)(),isAppShell:!1,isAuthenticated:e.isAuthenticated,isBot:e.isBot,isSocialBot:e.isSocialBot,locale:e.locale,osName:e.userAgent.osName||"",getServerData:()=>window&&window.PWS_TRACE_LOGGER?window.PWS_TRACE_LOGGER:null,stageName:e.stage,startType:"",unauthId:e.unauthId}}},576045(e,a,t){t.d(a,{T2:()=>u,XI:()=>S,b6:()=>E,xZ:()=>T});var r=t(528831),s=t(109571),o=t(494358),n=t(909711),i=t(864310),l=t(472452),d=t(839335),c=t(474623);let _={},u=(e,a)=>{a.forEach(a=>{_[a]=(({name:e,pwtStaticContext:a})=>{if(!d.A||!(0,r.A)())return null;let t={type:"stopwatch",name:e},s=[],c=!0;return{abort:e=>{if(!c)return;c=!1;let r={type:"ABORT",reason:e,traceId:(0,l.A)(),startTime:0,endTime:d.A?.now()||0,spans:[],annotationMap:(0,i.A)(s),binaryAnnotationMap:(0,o.jp)({metricId:t,pwtStaticContext:a,type:"ABORT",stopwatchVersion:1})};(0,n.A)({metricId:t,pwtStaticContext:a,result:r})},annotate:e=>{c&&s.push({label:e,timestamp:d.A.now()})},stop:()=>{if(!c)return;c=!1;let e={type:"COMPLETE",traceId:(0,l.A)(),startTime:0,endTime:d.A.now(),spans:[],annotationMap:(0,i.A)(s),binaryAnnotationMap:(0,o.jp)({metricId:t,pwtStaticContext:a,type:"COMPLETE",stopwatchVersion:1})};(0,n.A)({metricId:t,pwtStaticContext:a,result:e})}}})({name:a,pwtStaticContext:e})})},p=e=>_[e],E=(e,a)=>{let t=p(e);if(t)try{t.abort(a)}catch(a){(0,s.vV)("app_load_stopwatch_error",{name:e,result:"abort"})}},S=(e,a)=>{let t=p(e);t&&(t.annotate(a),(0,c.A)(`stopwatch_${e}_${a}`))},T=e=>{let a=p(e);if(a)try{a.stop()}catch(a){(0,s.vV)("app_load_stopwatch_error",{name:e,result:"complete"})}}},430329(e,a,t){t.d(a,{z:()=>i});var r=t(576159),s=t(426459);let o=new class{constructor(e){this.table={},this.interval=e,this.lastCallTime=Date.now()}_garbageCollectEntries(){Date.now()-this.lastCallTime>this.interval&&(this.table={})}_generateHash(e){let a=Object.keys(e).sort(),t=[];return a.forEach(a=>{if(e[a]){let s=(0,r.A)(e[a])?JSON.stringify(e[a]):e[a]+"";s=a+":"+s,t.push(s)}}),t.join("")}getTableKey(e){return e.auxData?this._generateHash({message:e.errorObj.message,...e.auxData}):e.errorObj.message?e.errorObj.message:""}isWithinRateLimit(e){this._garbageCollectEntries();let a=Date.now();this.lastCallTime=a;let t=this.getTableKey(e);return this.table[t]&&a-this.table[t]<this.interval||(this.table[t]=a,!1)}}(5e3),n={};n._reportToConsole=(e,a={})=>{if(console&&console.error){let{name:t="",message:r="No message available",stack:s="No stack trace available"}=e;console.error(`Name: ${t}
Message: ${r}
----------
Stack: 
${s}
`,a)}},n._reportToServer=(e,a)=>{let t={errorObj:e};a&&(t.auxData=a),o.isWithinRateLimit(t)||(0,s.c)({...e,message_detail:a?JSON.stringify(a):""})};let i=(e,a)=>{let{columnNumber:t="",fileName:r="",lineNumber:s="",message:o="",original_message:i="",name:l="",stack:d="",stack_trace:c="",moduleName:_="",location:u="",contextRequestId:p=""}=e,E={columnNumber:t,fileName:r,lineNumber:s,message:i||o,name:l,stack:d||c,moduleName:_,location:u,contextRequestId:p};n._reportToConsole(E,a),function(e){let a=e.http_status||e.httpStatus||e.status;if(404===a||500===a)return!1;let t=e.stack||e.stack_trace;return!(t&&-1!==t.indexOf("global code")||e.message&&("Connectivity error or cancelled by navigation"===e.message||e.message.includes("count mfss fcw")||e.message.includes("evaluating 'elem.classList'")))}(e)&&n._reportToServer(E,a)};n.report=i},929301(e,a,t){t.d(a,{n1:()=>l,hr:()=>i});var r=t(104456),s=t(38772),o=t(233342),n=t(441472);function i({searchParams:e,sourceUrl:a,isDesktop:t,isAuthenticated:r,appliedUnifiedFilters:s}){let{autoCorrectionDisabled:o,bubbleId:n,category:i,currentlyAppliedFiltersParamTerm:l,domains:c,guidedSearchQuery:_,inGlobalSearch:u,journeyDepth:p,personalizationPinSig:E,priceMax:S,priceMin:T,query:y,requestParams:A,rs:R,scope:I,selectedOneBarModules:m,sourceId:g,sourceModuleId:C,topPinIds:f,user:P}=e;return function(e){let{selectedOneBarModules:a,currentlyAppliedFiltersParamTerm:t,personalizationPinSig:r,inGlobalSearch:s,appliedUnifiedFilters:o,initialCategory:n,initialDomains:i,initialMaxPrice:l,initialMinPrice:c,isDuplo:_,...u}=e,p=a?.split(","),E={...u,filters:t,selectedOneBarModules:p,selectedPinImgSig:r};if(s)return d(E);let S={...E,appliedUnifiedFilters:o,appliedProductFilters:function({category:e,domains:a,maxPrice:t,minPrice:r}){return[e,a,t,r].map(e=>e??"").join("-")}({category:n,domains:i,maxPrice:l,minPrice:c})};return _&&(S.domains=i,S.priceMax=l?parseInt(l,10):void 0,S.priceMin=c?parseInt(c,10):void 0),d(S)}({appliedUnifiedFilters:s,autoCorrectionDisabled:o,bubbleId:n,currentlyAppliedFiltersParamTerm:l,guidedSearchQuery:_,inGlobalSearch:u,initialCategory:i,initialDomains:c,initialMaxPrice:S,initialMinPrice:T,isDuplo:!r||!t,journeyDepth:p,personalizationPinSig:E,query:y,requestParams:A,rs:R,scope:I,selectedOneBarModules:m,sourceId:g,sourceModuleId:C,sourceUrl:a,topPinIds:f,user:P})}function l({appliedProductFilters:e,applied_unified_filters:a,auto_correction_disabled:t,filters:r,journey_depth:s,query:o,rs:n,scope:i,selected_one_bar_modules:l,query_pin_sigs:d,source_id:c,source_module_id:_,top_pin_ids:u,user:p}){let E=[e,r,s,o,n,i,l,d,c,_,a,u,p].map(e=>e??"").join(":");return t?"auto-correction-disabled:"+E:E}function d(e){return{name:"BaseSearchResource",options:(e=>{let{query:a="",scope:t="pins",appliedUnifiedFilters:i=null,appliedProductFilters:l=null,filters:d=null,domains:c=null,priceMax:_=null,priceMin:u=null,rs:p=o.I.DIRECT_NAVIGATION,journeyDepth:E=null,sourceId:S=null,sourceModuleId:T=null,sourceUrl:y=null,selectedOneBarModules:A=null,selectedPinImgSig:R=null,user:I=null,autoCorrectionDisabled:m=!1,seoDrawerEnabled:g=!1,bubbleId:C=null,pageSize:f=null,requestParams:P=null,topPinIds:O=null}=e,N="u">typeof window?(0,n.y1)().getItem("pwt_performance_testing"):null,h=y&&y.includes("pwt_performance_testing"),D=!!(!0===N||"true"===N||h);return{query:a,scope:t,appliedProductFilters:l,domains:c,user:I,seoDrawerEnabled:g,applied_unified_filters:i,auto_correction_disabled:m,journey_depth:E,source_id:S,source_module_id:T,source_url:function(e){if(!e)return"";let a=new Set,t=e.split("?")[1];t&&t.split("&").forEach(e=>{e.includes("=")||a.add(e)});let{directory:o,queryKey:n}=(0,r.A)((0,s.A)(e,["request_params"])),i=Object.keys(n).sort().map(e=>a.has(e)?e:`${e}=${n[e]}`).join("&");return i?`${o}?${i}`:o}(y),static_feed:D,selected_one_bar_modules:A,query_pin_sigs:R,page_size:f,price_max:_,price_min:u,request_params:P,top_pin_ids:O,article:C,corpus:R?"personalize":null,customized_rerank_type:R?"manas_graph_sage_only_wand_rewrite":null,filters:d,rs:p,redux_normalize_feed:!0}})({...e,autoCorrectionDisabled:!!e.autoCorrectionDisabled})}}},626073(e,a,t){let r;t.d(a,{DB:()=>y,J8:()=>T,Lz:()=>R,gm:()=>I,yQ:()=>m});var s=t(960926),o=t(427575),n=t(370590),i=t(474623),l=t(295700),d=t(441472),c=t(182835);let _=["web_sw_with_early_hydration","web_install_sw_on_unauth_landing"],u={enabled_15m:9e5,enabled_30m:18e5,enabled_60m:36e5,enabled_12h:432e5},p=()=>({isAuthenticated:String(r?.getState().session.isAuthenticated),isDesktop:String(!(r?.getState().session.isMobile||r?.getState().session.isMobile)),browser:String(r?.getState().session.browser)}),E=e=>{function a(e){(0,i.A)(`sw_${e}`)}let t=e.installing||e.waiting||e.active;t&&(t._hasListener||(t._hasListener=!0,a(t.state),t.addEventListener("statechange",()=>a(t.state))))},S=e=>{e.onupdatefound=()=>{(0,c.PM)("mweb_service_worker.update_found"),(0,i.A)("sw_update_found"),(0,l.pI)({eventName:"service_worker.update_found",value:1,tags:p(),sampleRate:1,annotateExperiments:_}),E(e)}},T=()=>new Promise((e,a)=>{if(!r||d.Ay.getItem(s.Gj))return void e(void 0);if(window.__EARLY_SW_REGISTRATION__){(0,i.A)("sw_skip_late_registration"),e(void 0);return}let t=navigator.serviceWorker,{pwaType:l,twaType:_}=r.getState().session,u=new URLSearchParams({source_url:window.location.pathname});l&&_&&(0,n.Zz)(_)&&(u.append("pwa_type",l),u.append("twa_type",_)),"u">typeof document&&document.referrer&&!document.referrer.startsWith(window.location.origin)&&u.append("referrer",document.referrer),t&&t.register?((0,c.PM)("mweb_service_worker.install_attempt"),(0,i.A)("sw_register_begin"),t.register(`/sw.js?${u.toString()}`).then(a=>{(0,i.A)("sw_register_end"),(0,c.PM)("mweb_service_worker.install_success"),E(a),S(a),e(a)}).catch(e=>{(0,c.fu)("mweb_service_worker.install_fail",{error:(0,o.A)(e,"message")}),(0,i.A)("sw_register_fail"),a(e)})):e(void 0)}),y=()=>new Promise((e,a)=>{let t=navigator.serviceWorker;t&&t.getRegistration?((0,c.PM)("mweb_service_worker.update_attempt"),t.getRegistration().then(t=>{t?t.update().then(()=>{(0,c.PM)("mweb_service_worker.update_success"),S(t),e(t)}).catch(e=>{(0,c.fu)("mweb_service_worker.update_fail",{error:(0,o.A)(e,"message")}),a(e)}):T().then(e)})):e(void 0)});async function A(e){let a=u[e],t={...p(),experimentGroup:e};try{let e=await navigator.serviceWorker.ready;if(!e.periodicSync)return void(0,l.pI)({eventName:"periodic_sync.not_supported",value:1,tags:t,sampleRate:1,annotateExperiments:_});let r=await navigator.permissions.query({name:"periodic-background-sync"});if("granted"!==r.state)return void(0,l.pI)({eventName:"periodic_sync.permission_denied",value:1,tags:{...t,permissionState:r.state},sampleRate:1,annotateExperiments:_});await e.periodicSync.register("precache-update",{minInterval:a}),(0,l.pI)({eventName:"periodic_sync.register_success",value:1,tags:{...t,minIntervalMs:String(a)},sampleRate:1,annotateExperiments:_})}catch(e){(0,l.pI)({eventName:"periodic_sync.register_failed",value:1,tags:t,sampleRate:1,annotateExperiments:_})}}let R=({enablePeriodicSync:e=!1,periodicSyncGroup:a=null}={})=>{(0,i.A)("registerServiceWorkerStart"),navigator.serviceWorker&&navigator.serviceWorker.addEventListener("controllerchange",()=>{let{controller:e}=navigator.serviceWorker;e?(0,i.A)(`sw_controller_change_${e.state}`):(0,i.A)("sw_controller_change_no_controller")});let t=e&&a&&a in u;t&&function(e){if(!navigator.serviceWorker)return;let a={...p(),experimentGroup:e};navigator.serviceWorker.addEventListener("message",e=>{switch(e.data.message){case"periodic-sync-update-complete":(0,l.pI)({eventName:"periodic_sync.update_complete",value:1,tags:a,sampleRate:1,annotateExperiments:_});break;case"periodic-sync-update-failed":(0,l.pI)({eventName:"periodic_sync.update_failed",value:1,tags:a,sampleRate:1,annotateExperiments:_})}})}(a);let s=r?.getState().session.isAuthenticated;(0,c.PM)(`mweb.${s?"auth":"unauth"}.register_service_worker`),T(),t&&A(a)},I=e=>{r=e},m=({isAuthenticated:e,isAppShell:a})=>{let t=!1,r=r=>{if(t)return;t=!0;let s=`${a?"warm":"cold"}.${e?"auth":"unauth"}`;(0,c.PM)(`mweb_service_worker.appshell_status.${s}.${r}`)},s=navigator.serviceWorker,o=s?.controller;s&&o?setTimeout(()=>r("timeout"),1e3):r("no_worker")}},173279(e,a,t){t.d(a,{A:()=>o});var r=t(646844);async function s(e){let a=navigator.serviceWorker;if((0,r.GV)("web_service_worker.clear_app_shell",{sampleRate:.1,tags:{source:e||"unknown"}}),a&&window.caches){let a=(await window.caches.keys()).find(e=>e.startsWith("workbox-precaching"));a?((0,r.GV)("web_service_worker.clear_app_shell.precache.exist",{sampleRate:.1,tags:{source:e||"unknown"}}),(await window.caches.open(a)).delete("/sw-shell.html"),(0,r.GV)("web_service_worker.clear_app_shell.delete",{sampleRate:.1,tags:{source:e||"unknown"}})):(0,r.GV)("web_service_worker.clear_app_shell.precache.not_exist",{sampleRate:.1,tags:{source:e}})}}async function o(e){let a=navigator.serviceWorker;if((0,r.GV)("web_service_worker.unregister",{sampleRate:.1,tags:{source:e||"unknown"}}),a&&a.getRegistration)try{let t=await a.getRegistration();t?((0,r.GV)("web_service_worker.unregister.registration.exist",{sampleRate:.1,tags:{source:e||"unknown"}}),await t.unregister(),(0,r.GV)("web_service_worker.unregister.success",{sampleRate:.1,tags:{source:e||"unknown"}}),s(e)):(0,r.GV)("web_service_worker.unregister.registration.not_exist",{sampleRate:.1,tags:{source:e||"unknown"}})}catch(a){(0,r.GV)("web_service_worker.unregister.fail",{sampleRate:.1,tags:{source:e||"unknown"}})}}},799437(e,a,t){function r(e,a,t,r){let s=a?"shop":0===e||2===e?"trending":1===e?"best":"article",o=t.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\â€™'"]/g,"").trim().replace(/\s+/g,"-");return`/today/${s}/${encodeURIComponent(o)}/${r}/`}t.d(a,{J:()=>s,Tj:()=>o,oF:()=>r,pH:()=>i,u8:()=>n});let s=(e,a,t)=>e||a||t||"",o=e=>"todayarticle"===e.type,n=e=>Array.isArray(e)&&e.length>0&&e.every(e=>"story"===e.type),i=(e,a)=>(e??1)/(a??1)},931872(e,a,t){t.d(a,{A:()=>s});var r=t(221077);function s(){let e=(0,r.A)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";let a=document.referrer;return a?a.includes("/t.co/")?"twitter":a.includes("cdn.ampproject.org")?"amp":a.includes("google.")?"google":a.includes("bing.")?"bing":a.includes("facebook.")?"facebook":"other":"direct"}},120690(e,a,t){function r(e){if(!e)return"";try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return""}}t.d(a,{A:()=>r})},221077(e,a,t){t.d(a,{A:()=>s});var r=t(120690);function s(e,a={shouldDecode:!0}){return e?("?"===e[0]&&(e=e.substr(1)),e.split("&").reduce((e,t)=>{let[s,o]=t.split(/=(.+)/);return a?.shouldDecode?e[(0,r.A)(s)]=(0,r.A)(o):e[s]=o,e},{})):{}}},712871(e,a,t){t.d(a,{A:()=>s});var r=t(786207);function s(e){return e&&e.id?{allow_personalization_cookies:e.allow_personalization_cookies??!1,allow_analytic_cookies:e.allow_analytic_cookies??!1,allow_marketing_cookies:e.allow_marketing_cookies??!1,analytics_is_logging_enabled:e.analytics_is_logging_enabled??!1,avatar_color_index:e.avatar_color_index,boardCount:e.board_count,groupBoardCount:e.group_board_count,secretBoardCount:e.secret_board_count,pinCount:e.pin_count,eligibleForStlTool:e.eligible_for_stl_tool,isAuth:!0,id:e.id,epik:e.epik,username:e.username,fullName:e.full_name??"",firstName:e.first_name??"",lastName:e.last_name??"",email:e.email??"",facebookId:e.facebook_id,hasPassword:e.has_password??!1,hasPublishedPins:e.has_published_pins,isEmployee:e.is_employee??!1,isEligibleForCoreActionsHeader:e.is_eligible_for_core_actions_header??!1,isEligibleForImageOnlyGrid:e.is_eligible_for_image_only_grid??!1,isLimitedLogin:e.login_state===r.A.LIMITED,isMaturedNewUser:e.is_matured_new_user??!1,isPartner:e.is_partner??!1,isPrivateProfile:e.is_private_profile??!1,isUnder16:e.is_under_16??!1,isUnder18:e.is_under_18??!1,isWriteBanned:e.is_write_banned??!1,imageSmallUrl:e.image_small_url??"",imageMediumUrl:e.image_medium_url??"",imageLargeUrl:e.image_large_url??"",imageXLargeUrl:e.image_xlarge_url??"",nags:e.nags??[],profileDiscoveredPublic:e.profile_discovered_public??!1,shouldDefaultCommentsOff:e.should_default_comments_off,showDiscoveredFeed:e.show_discovered_feed??!1,createdAt:e.created_at??"",resurrectionInfo:e.resurrection_info&&e.resurrection_info.resurrection_dt?{resurrectionDate:e.resurrection_info.resurrection_dt}:void 0,country:e.country??"",domainUrl:e.domain_url,domainVerified:e.domain_verified,isAnyWebsiteVerified:e.is_any_website_verified,verifiedWebsites:e.verified_user_websites,listedWebsiteUrl:e.listed_website_url??"",gender:e.gender,customGender:e.custom_gender,firstHomeFeedRequestAfterNux:e.firstHomeFeedRequestAfterNux??!1,partner:e.partner,socialNetwork:{facebook:{connected:!!e.connected_to_facebook},google:{connected:!!e.connected_to_google},youtube:{connected:!!e.connected_to_youtube},gplus:{connected:!!e.gplus_url,url:e.gplus_url},microsoft:{connected:!!e.connected_to_microsoft},twitter:{connected:!!e.twitter_url,url:e.twitter_url},etsy:{connected:!!e.connected_to_etsy},instagram:{connected:!!e.connected_to_instagram,username:e.instagram_data?.username,url:e.instagram_data?.url},dropbox:{connected:!!e.connected_to_dropbox}},can_enable_mfa:e.can_enable_mfa??!1,has_mfa_enabled:e.has_mfa_enabled??!1,is_sso_user:e.is_sso_user??!1,has_quicksave_board:e.has_quicksave_board,phone_country:e.phone_country??"",phone_number:e.phone_number??"",phone_number_end:e.phone_number_end??"",push_package_user_id:e.push_package_user_id??"",third_party_marketing_tracking_enabled:void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled,age_in_years:e.age_in_years,save_behavior:e.save_behavior,shopping_rec_disabled:e.shopping_rec_disabled,show_personal_boutique:e.show_personal_boutique??!1,should_show_messaging:e.should_show_messaging??!1,isParentalControlPasscodeEnabled:e.is_parental_control_passcode_enabled??!1,isParentalControlPasscodeVerificationPending:e.is_parental_control_passcode_verification_pending??!1,isCandidateForParentalControlPasscode:e.is_candidate_for_parental_control_passcode??!1,parentalControlAnonymizedEmail:e.parental_control_anonymized_email??"",teenSafetyOptionsUrl:e.teen_safety_options_url??"",weight_loss_ads_opted_out:e.weight_loss_ads_opted_out??!1}:{isAuth:!1,isLimitedLogin:!1}}},255105(e,a,t){t.d(a,{A:()=>o});var r=t(918312),s=t(418562);function o({relayEnvironment:e,nodeId:a,value:t,feedbackText:o}){e&&a&&(0,r.commitLocalUpdate)(e,e=>{let r=e.get(a);r||(r=e.create(a,"Pin")),r.setValue(t,"showFeedback");let n=r.getOrCreateLinkedRecord("feedbackText","FeedbackText");n.setValue__UNSAFE(o?.title,"title"),n.setValue__UNSAFE(o?.subTitle,"subTitle");let{unfollow:i,undoCallbackProps:l}=o??{},d=n.getOrCreateLinkedRecord("unfollow","Unfollow");d.setValue(i?.action,"action"),d.setValue__UNSAFE(i?.title,"title"),d.setValue__UNSAFE(i?.subTitle,"subTitle");let c=n.getOrCreateLinkedRecord("undoCallbackProps","UndoCallbackProps");c.setValue(l?.action,"action"),c.setValue(l?.viewType,"viewType"),c.setValue(l?.viewParameter,"viewParameter");let _=(a,t)=>{let r=a.getOrCreateLinkedRecord("actionOptions","ActionOptions");if(r.setValue(t?.board_id,"boardId"),r.setValue(t?.interest_id,"interestId"),r.setValue(t?.interest_list,"interestList"),r.setValue(t?.complaint_reason,"complaintReason"),r.setValue(t?.feedback_type,"feedbackType"),r.setValue(t?.pin_id,"pinId"),r.setValue(t?.pin_type,"pinType"),r.setValue(t?.pin,"pin"),r.setValue(t?.promoted,"promoted"),r.setValue(t?.recommendation_reason_id,"recommendationReasonId"),r.setValue(t?.undo,"undo"),r.setValue(t?.user_id,"userId"),r.setValue(t?.query,"query"),r.setValue(t?.news_id,"newsId"),r.setValue(t?.through_id,"throughId"),r.setValue(t?.client_tracking_params,"clientTrackingParams"),r.setValue(t?.is_third_party_ad,"isThirdPartyAd"),t?.through_properties){let a=Object.keys(t.through_properties).map(a=>{let r=e.create((0,s.A)(),"ThroughProperties"),o=t.through_properties?.[a],n=o?[...o]:null;return r?.setValue(n,"data"),r?.setValue(a,"key"),r});r.setLinkedRecords(a,"throughProperties")}};_(d,i?.actionOptions),_(c,l?.actionOptions)})}},571123(e,a,t){t.d(a,{E:()=>o,k:()=>s});var r=t(964657);let s=e=>decodeURIComponent(e),o=e=>encodeURIComponent((0,r.j)(e))},564444(e,a,t){t.d(a,{A:()=>tM});var r=t(126439),s=t(70957),o=t(218432),n=t(694134);function i(e){let{ts:a}=e,t=new Date,r=new Date(a||t);return Math.max(Math.floor(Number(((t.getTime()-r.getTime())/864e5).toFixed(2))),0)}function l({completedSearches:e,closeupPins:a,clickthroughPins:t,downloadedPinsCount:r}){return Number(e.length>=1||a.length>=3||t.length>=1||r>=1)}var d=t(906474),c=t(320384),_=t(760906),u=t(650873),p=t(387663),E=t(241368),S=t(125212),T=t(743250);let y=Object.freeze({desktop:Object.freeze({T1:20,T2:40}),mobile:Object.freeze({T1:20,T2:40}),N1:2,N2:3,X:2,Y:14,weights:Object.freeze({pinSave:5,download:5,pinView:1,pinClickRelatedPins:2,pinImpression:1}),negativeWeights:Object.freeze({upsellDismiss:1,appUpsellDismiss:1})});var A=t(280177),R=t(370590),I=t(981071),m=t(576045),g=t(474623),C=t(431092),f=t(626073),P=t(534907),O=t(441472),N=t(693117),h=t(221077),D=t(712871),L=t(324860),w=t(82960),v=t(230370),U=t(901265),b=t(430329);let G=[U.A,e=>a=>t=>{if("ERROR_LOG_EVENT"===t.type){let{error:e,auxData:r}=t;return(0,b.z)(e,r),a(t)}try{return a(t)}catch(a){return(0,b.z)(a||Error("unknown error"),{action:t}),e.getState()}}],M={isUnderageConfirmationModalVisible:!1},B=(e,a)=>{if(e=e||M,"SET_IS_UNDERAGE_CONFIRMATION_MODAL_VISIBLE"!==a.type)return e;{let{isUnderageConfirmationModalVisible:t}=a.payload;return{...e,isUnderageConfirmationModalVisible:t}}},k=(e=null,a)=>e;var F=t(58882),V=t(371959),H=t(702464);let x={closeup:3,search:2,home:1,profile:4,board:5,section:5,own_board:5,own_section:5,ideas:442,today:1,topic:210};function Y(e={isAuthenticated:0,downloadedPinsCount:0,visitedUnauthPages:F.Ic,closeupPins:F.zF,completedSearches:F.xg,clickthroughPins:F.vC,savedPins:F.BP,isQUS:0,revisitationState:(0,F.Cj)(),daysSinceLastRevisitation:0,country:"",referrer:"",unauthId:"",userAgent:F.qx,region:"",channel:"",iab:"",deviceType:F.O1,storageAccessAllowed:0,isIAB:!1,landingPageType:"",revisitationCount:0,currentPageViewType:202},a){if(e.isAuthenticated)return e;switch(a.type){case V.KK.ADD_VISITED_PAGE:{let{path:t,pageType:r,storageType:s}=a.payload;(0,n.dE)(t,r,s);let o=(0,H.Tb)(e.visitedUnauthPages,t,r,100),i=(0,u.A)(o),d=l({completedSearches:e.completedSearches,closeupPins:i,clickthroughPins:e.clickthroughPins,downloadedPinsCount:e.downloadedPinsCount});return{...e,visitedUnauthPages:o,closeupPins:i,isQUS:d,currentPageViewType:x[r]??202}}case V.KK.ADD_COMPLETED_SEARCH:{let{search:t,storageType:r}=a.payload;(0,n.xc)(t,r);let s=(0,H.X5)(e.completedSearches,t,100),o=l({completedSearches:s,closeupPins:e.closeupPins,clickthroughPins:e.clickthroughPins,downloadedPinsCount:e.downloadedPinsCount});return{...e,completedSearches:s,isQUS:o}}case V.KK.REMOVE_COMPLETED_SEARCH:{let{query:t,storageType:r}=a.payload;(0,n.L_)(t,r);let s=(0,H.JF)(e.completedSearches,t),o=l({completedSearches:s,closeupPins:e.closeupPins,clickthroughPins:e.clickthroughPins,downloadedPinsCount:e.downloadedPinsCount});return{...e,completedSearches:s,isQUS:o}}case V.KK.ADD_CLICKTHROUGH_PIN:{let{pin:t,storageType:r}=a.payload;(0,n.Qe)(t,r);let s=(0,H.Yy)(e.clickthroughPins,t,100),o=l({completedSearches:e.completedSearches,closeupPins:e.closeupPins,clickthroughPins:s,downloadedPinsCount:e.downloadedPinsCount});return{...e,clickthroughPins:s,isQUS:o}}case V.KK.UPDATE_DOWNLOAD_COUNT:{let{storageType:t}=a.payload,r=e.downloadedPinsCount+1;(0,n.If)(r,t);let s=l({completedSearches:e.completedSearches,closeupPins:e.closeupPins,clickthroughPins:e.clickthroughPins,downloadedPinsCount:r});return{...e,downloadedPinsCount:r,isQUS:s}}case V.KK.UPDATE_SAVED_PINS:{let{pins:t,storageType:r}=a.payload;return(0,n.Uz)(t,r),{...e,savedPins:t}}case V.KK.UPDATE_REVISITATION:{let{revisitation:t,storageType:r}=a.payload;(0,n.ML)(t,r);let s=(0,n.ZB)(r),o=i(s);return{...e,revisitationState:s,daysSinceLastRevisitation:o}}default:return e}}var W=t(200824);let j=["completed","dismissed","view-end"];function $(e={},a){switch(a.type){case W.Dq:let{experienceId:t,placementId:r,status:s}=a.payload,o={...e},n=o[r]||[],i=n.findIndex(e=>e.experience_id===t);return i>=0&&(j.includes(s)?n.splice(i,1):n[i].status=s),o;case W.yU:let{experiencesMulti:l}=a.payload;return{...l};default:return e}}function q(e={},a){switch(a.type){case W.RQ:let{placementId:t,status:r}=a.payload,s={...e};return s[t]&&(j.includes(r)?delete s[t]:s[t].status=r),s;case W.XB:return{...e,...a.payload.experiences};case W.KP:let{experiences:o}=a.payload;return{...o};default:return e}}t(901856);let K={adsNotifications:{data:[],error:null,isLoading:!1,isLoaded:!1,lastCallParams:null}};function z(e=K,a){let t=e||K;switch(a.type){case"GUIDANCE_FETCH_RECOMMENDATION_DATA_START":case"GUIDANCE_FETCH_RECOMMENDATION_DATA_SUCCESS":case"GUIDANCE_FETCH_RECOMMENDATION_DATA_FAILURE":return{...t,adsNotifications:{...t.adsNotifications,...a.payload}};default:return t}}var J=t(802424),Q=t(110924);let X=e=>({api_error_code:e.api_error_code,code:e.code,message:e.message,message_detail:e.message_detail,extraData:e.extraData||e.extra_data||void 0,httpStatus:e.httpStatus||e.http_status||void 0});function Z(e={},a){if(a.type===Q.Pg){let t={...e||{},[a.payload.resource]:{...(e||{})[a.payload.resource]||Object.freeze({})}},r="string"==typeof a.payload.optionsOrOptionsKey?a.payload.optionsOrOptionsKey:(0,J.A)(a.payload.optionsOrOptionsKey);return delete t[a.payload.resource][r],0===Object.keys(t[a.payload.resource]).length&&delete t[a.payload.resource],t}if(a.type===Q.v6||a.type===Q.LB||a.type===Q.iv||a.type===Q.v$){let{options:t,resource:r}=a.payload,s=(0,J.A)(t),o=e?.[r]||{},n=function(e,a){switch(e.type){case Q.v$:return{...a||{},fetching:e.payload.isFetching,error:null};case Q.iv:return{...a||{},fetching:!1,error:X(e.payload.error),data:null};default:let t,{options:r,resource:s,response:o}=e.payload,n=e.type===Q.v6&&e.payload.isRefresh,i=(t=r?.bookmarks||o.bookmarks)&&"-end-"!==t[0]?t[0]:"-end-",l=o.resource_response.error?X(o.resource_response.error):void 0,d=a?.auxData,c=n?void 0:a?.data,_=o.resource_response.data,u=o.auxData;if(("BaseSearchResource"===s||"VisualLiveSearchResource"===s||"StoreFrontSearchResource"===s||"VisualSearchFlashlightUnifiedResource"===s||"NativeInteractionsResource"===s)&&c?Array.isArray(c.results)&&(_=_?{...c,results:[...c.results||[],..._.results||[]]}:c):Array.isArray(c)&&(_=[...c||[],..._||[]]),"VisualSearchFlashlightUnifiedResource"===s&&d){let e=u.metadata.one_bar_modules||d.metadata.one_bar_modules;u.metadata.one_bar_modules=e}return{...a||{},auxData:d?{...d,...u}:u,data:_,fetching:!1,nextBookmark:i,error:l}}}(a,o[s]);return{...e,[r]:{...o,[s]:n}}}return e}var ee=t(104735),ea=t(706397),et=t(233284),er=t(364270);function es(e,a,t){var r,s;let o={pinSaveCount:e.pinSaveCount+(e.mWeb?.pinSaveCount??0),unauthDownloadCount:e.unauthDownloadCount,pinViewCount:e.pinViewCount+(e.mWeb?.pinViewCount??0),pinClickRelatedPinsCount:e.pinClickRelatedPinsCount,pinImpressionCount:(0,ea.kF)(),upsellDismissCount:e.upsellDismissCount,appUpsellDismissCount:e.appUpsells.appUpsellDismissCount,revisitationCount:t?.revisitationCount??0,daysSinceLastVisit:t?.daysSinceLastRevisitation??0},n=(r=y.weights,o.pinSaveCount*r.pinSave+o.unauthDownloadCount*r.download+o.pinViewCount*r.pinView+o.pinClickRelatedPinsCount*r.pinClickRelatedPins+o.pinImpressionCount*r.pinImpression),i=(s=y.negativeWeights,o.upsellDismissCount*s.upsellDismiss+o.appUpsellDismissCount*s.appUpsellDismiss),l="desktop"===t?.deviceType?"desktop":"mobile",d=function(e,a,t,r,s){let{N1:o,N2:n,X:i}=r,{T1:l,T2:d}="mobile"===s?r.mobile:r.desktop;return t>=i||e>=d&&a>=n?"low":t<i&&e>=l&&e<d&&a<o?"high":t<i&&e>=d&&a<n?"medium":"unknown"}(n,i,o.revisitationCount,y,l),c="mobile"===l?y.mobile:y.desktop;(0,et.I)(a||"no_action",{metrics:{pinSaveCount:o.pinSaveCount,unauthDownloadCount:o.unauthDownloadCount,pinViewCount:o.pinViewCount,pinClickRelatedPinsCount:o.pinClickRelatedPinsCount,pinImpressionCount:o.pinImpressionCount,upsellDismissCount:o.upsellDismissCount,appUpsellDismissCount:o.appUpsellDismissCount,revisitationCount:o.revisitationCount,daysSinceLastVisit:o.daysSinceLastVisit},calculation:{PES:`${o.pinSaveCount}*5 + ${o.unauthDownloadCount}*5 + ${o.pinViewCount}*1 + ${o.pinClickRelatedPinsCount}*2 + ${o.pinImpressionCount}*1 = ${n}`,NUS:`${o.upsellDismissCount}*1 + ${o.appUpsellDismissCount}*1 = ${i}`},scores:{PES:n,NUS:i,conversionIntentLevel:d,oldIntent:e.engagementScore.conversionIntentLevel,deviceType:l,T1:c.T1,T2:c.T2},params:y});let _={...e,engagementScore:{PES:n,NUS:i,conversionIntentLevel:d,lastCalculated:Date.now()}};return a&&(0,er.w)({PES:n,NUS:i,conversionIntentLevel:d,triggerAction:a,deviceType:l}),_}var eo=t(799596),en=t(627203),ei=t(718254),el=t(240338);let ed={unauthDownloadCount:0,unauthClickthroughCount:0,latestL1Vertical:null,pinClickRelatedPinsCount:0,upsellReason:"",pinViewCount:0,pinSaveCount:0,showBanner:!1,showSaveModal:!1,attributionLabel:"",pinId:"",showScrollDownUpsell:!0,showSaveEducationPopover:!1,saveEducationPopoverEverShown:!1,showRelatedPinsGradientUpsell:!1,relatedPinsGradientUpsellEverShown:!1,showReplyToSenderSheet:!1,replyToSenderSheetEverShown:!1,clickCloseUp:!1,clickContextMenuSaveButton:!1,clickContextMenuDownloadButton:!1,clickFollowButton:!1,followIsIdeaPin:!1,clickCloseUpContextMenuSaveButton:!1,clickFollowingButton:!1,clickFollowersButton:!1,clickCommentComposerUpsell:!1,clickPinLinkUpsell:!1,clickPinLinkCount:0,clickRelatedPinOpenLinkUpsell:!1,uniqueNavigationalPagesSeen:[],navigationalPagesUpsellSeen:!1,navigationalContainerPage:"navigationalContainerPage_unspecified_container",modal:{isShown:!1},socialPinLandingInviter:null,socialPinLandingContainerPage:"socialPinLandingContainerPage_unspecified_container",socialPinLandingModalShown:!1,socialPinLandingModalDismissed:!1,mWeb:{pinSaveCount:0,pinViewCount:0},mWebSignupModal:{modal:{isShown:!1},scrollControllerHasDisplayed:!1,upsellEligibleNavigationCount:0,isUnauthSharingModalsShown:!1,lastShownTime:null,timesShownForSessionCount:0,modalHasShown:!1},upsellDismissCount:0,engagementScore:{PES:0,NUS:0,conversionIntentLevel:"unknown",lastCalculated:0},appUpsells:{learningUpsell:{isShown:!1},floatingUpsell:{shouldShow:!0,isDismissed:!1},iabAppUpsell:{isShown:!1,appUpsellType:"other",isBlocking:!1},appUpsellDismissCount:0}};function ec(e=ed,a){switch(a.type){case eo.PO:return{...e,latestL1Vertical:a.payload.l1Vertical};case ei.lI:return{...e,modal:{isShown:!0,displayProps:a.payload.displayProps}};case ei.sL:{let t=!1;return e.modal?.isShown===!0&&e.modal.displayProps?.container&&(t=e.modal.displayProps.container===e.socialPinLandingContainerPage&&e.socialPinLandingModalShown),es({...e,upsellDismissCount:e.upsellDismissCount+1,showSaveModal:!1,clickCloseUp:!1,clickContextMenuSaveButton:!1,clickContextMenuDownloadButton:!1,clickFollowButton:!1,clickCloseUpContextMenuSaveButton:!1,clickCloseUpContextMenuDownloadButton:!1,clickFollowingButton:!1,clickFollowersButton:!1,clickCommentComposerUpsell:!1,clickPinLinkUpsell:!1,clickRelatedPinOpenLinkUpsell:!1,socialPinLandingModalDismissed:e.socialPinLandingModalDismissed||t,modal:{isShown:!1}},a.type)}case ei.oW:{let t=13007===a.payload.componentType||155===a.payload.viewParameter,r={...e,pinViewCount:e.pinViewCount+1,pinClickRelatedPinsCount:t?e.pinClickRelatedPinsCount+1:e.pinClickRelatedPinsCount};if(en.JR.shouldShowCloseupNavigationalModal?.evaluate({pinViewCount:r.pinViewCount,navigationalPagesUpsellSeen:r.navigationalPagesUpsellSeen,checkExperiment:a.payload?.checkExperiment}))return en.JR.shouldShowCloseupNavigationalModal.getNextState({action:a,state:r});return r}case ei.zm:return es(en.JR.shouldShowSaveModal?.getNextState({action:a,state:e})||e,a.type);case eo.GY:{let{pageUniqueKey:t,currentUserTracker:r}=a.payload;if(e.uniqueNavigationalPagesSeen.includes(t))return e;let s={...e,uniqueNavigationalPagesSeen:[...e.uniqueNavigationalPagesSeen,t],navigationalContainerPage:a.payload.containerPage},o={uniqueNavigationalPagesSeen:(s=es(s,a.type,r)).uniqueNavigationalPagesSeen,navigationalPagesUpsellSeen:s.navigationalPagesUpsellSeen,engagementScore:s.engagementScore,checkExperiment:a.payload?.checkExperiment,currentUserTracker:a.payload?.currentUserTracker},n=a.payload?.checkExperiment?.("engagement_score_v0_dweb"),i=n?.anyEnabled;if(en.JR.shouldShowNavigationalModalIntentBased?.evaluate(o))return en.JR.shouldShowNavigationalModalIntentBased.getNextState({state:s,action:a});if(!i&&en.JR.shouldShowNavigationalModal?.evaluate(o))return en.JR.shouldShowNavigationalModal.getNextState({state:s,action:a});return s}case eo._k:return{...e,socialPinLandingInviter:a.payload.inviter,socialPinLandingContainerPage:a.payload.containerPage};case eo.F_:case eo.fI:if(en.JR.shouldShowSocialPinLandingModal?.evaluate({inviter:e.socialPinLandingInviter,socialPinLandingModalShown:e.socialPinLandingModalShown,checkExperiment:a.payload.checkExperiment}))return en.JR.shouldShowSocialPinLandingModal.getNextState({action:a,state:e});return e;case ei.JP:if(en.JR.shouldShowSignupModalOnCloseUpClick?.evaluate({modal:e.modal,clickCloseUp:e.clickCloseUp}))return en.JR.shouldShowSignupModalOnCloseUpClick.getNextState({action:a,state:e});return e;case ei.WD:if(en.JR.shouldShowSignupModalOnClickContextMenuSaveButton?.evaluate({modal:e.modal,clickContextMenuSaveButton:e.clickContextMenuSaveButton}))return en.JR.shouldShowSignupModalOnClickContextMenuSaveButton.getNextState({state:e,action:a});return{...e,pinId:a.payload.pinId,attributionLabel:a.payload.attributionLabelSource};case ei.ZF:if(en.JR.shouldShowSignupModalOnClickCloseupSaveButton?.evaluate({modal:e.modal,clickCloseUpContextMenuSaveButton:e.clickCloseUpContextMenuSaveButton}))return en.JR.shouldShowSignupModalOnClickCloseupSaveButton.getNextState({action:a,state:e});return{...e,pinId:a.payload.pinId,attributionLabel:a.payload.attributionLabelSource};case ei.Ss:if(en.JR.shouldShowSignupModalOnCloseupDownloadClick?.evaluate({limitReached:a.payload.limitReached,modal:e.modal,checkExperiment:a.payload.checkExperiment}))return en.JR.shouldShowSignupModalOnCloseupDownloadClick.getNextState({action:a,state:e});return{...e,pinId:a.payload.pinId,attributionLabel:a.payload.attributionLabelSource};case ei.dh:if(en.JR.shouldShowSignupModalOnContextMenuDownloadClick?.evaluate({limitReached:a.payload.limitReached,inImmediateUpsellGroup:a.payload.inImmediateUpsellGroup,checkExperiment:a.payload.checkExperiment,modal:e.modal}))return en.JR.shouldShowSignupModalOnContextMenuDownloadClick.getNextState({action:a,state:e});return{...e,pinId:a.payload.pinId,attributionLabel:a.payload.attributionLabelSource};case ei.s4:if(en.JR.shouldShowSignupModalOnFollowButtonClick?.evaluate({modal:e.modal,clickFollowButton:e.clickFollowButton}))return en.JR.shouldShowSignupModalOnFollowButtonClick.getNextState({action:a,state:e});return e;case ei.gr:if(en.JR.shouldShowSignupModalOnFollowingButtonClick?.evaluate({modal:e.modal,clickFollowingButton:e.clickFollowingButton}))return en.JR.shouldShowSignupModalOnFollowingButtonClick.getNextState({action:a,state:e});return e;case ei.Mh:if(en.JR.shouldShowSignupModalOnFollowersButtonClick?.evaluate({modal:e.modal,clickFollowersButton:e.clickFollowersButton}))return en.JR.shouldShowSignupModalOnFollowersButtonClick.getNextState({action:a,state:e});return e;case ei.yi:if(en.JR.shouldShowLoginModalOnCommentComposerClick?.evaluate({modal:e.modal,clickCommentComposerUpsell:e.clickCommentComposerUpsell}))return en.JR.shouldShowLoginModalOnCommentComposerClick.getNextState({action:a,state:e});return e;case ei.Ip:if(en.JR.shouldShowLoginModalOnPinLinkClick?.evaluate({modal:e.modal,pinLinkClickCount:a.payload.count}))return en.JR.shouldShowLoginModalOnPinLinkClick.getNextState({action:a,state:e});return{...e,clickPinLinkCount:a.payload.count};case ei.xD:if(en.JR.shouldShowLoginModalOnRelatedPinOpenLinkClick?.evaluate({modal:e.modal,clickRelatedPinOpenLinkUpsell:e.clickRelatedPinOpenLinkUpsell}))return en.JR.shouldShowLoginModalOnRelatedPinOpenLinkClick.getNextState({action:a,state:e});return e;case ei.u5:return{...e,upsellReason:a.payload.upsellReason};case ei.PH:return{...e,showScrollDownUpsell:!1};case ei._7:if(en.tj.shouldShowSaveEducationPopover?.evaluate({saveEducationPopoverEverShown:e.saveEducationPopoverEverShown,checkExperiment:a.payload.checkExperiment}))return en.tj.shouldShowSaveEducationPopover?.getNextState({action:a,state:e})||e;return e;case ei.h4:return{...e,showSaveEducationPopover:!1};case ei.xl:if(en.JR.shouldShowRelatedPinsGradientUpsell?.evaluate({relatedPinsGradientUpsellEverShown:e.relatedPinsGradientUpsellEverShown,checkExperiment:a.payload.checkExperiment}))return en.JR.shouldShowRelatedPinsGradientUpsell?.getNextState({action:a,state:e})||e;return e;case ei.oj:return{...e,showRelatedPinsGradientUpsell:!1};case ei.G0:if(en.tj.shouldShowReplyToSenderSheet?.evaluate({replyToSenderSheetEverShown:e.replyToSenderSheetEverShown,checkExperiment:a.payload.checkExperiment}))return en.tj.shouldShowReplyToSenderSheet?.getNextState({action:a,state:e})||e;return e;case ei.Fe:return{...e,showReplyToSenderSheet:!1};case ei.A4:return{...e,showScrollDownUpsell:!0};case ei.$n:return es({...e,upsellDismissCount:e.upsellDismissCount+1,showScrollDownUpsell:!1});case eo.vR:{let{triggerKey:t}=a.payload;if(!(t in e))return e;return{...e,[t]:!1}}case ei.d6:return{...e,mWebSignupModal:{...e.mWebSignupModal,upsellEligibleNavigationCount:(e.mWebSignupModal.upsellEligibleNavigationCount??0)+1}};case ei.xS:return es({...e,upsellDismissCount:e.upsellDismissCount+1,mWebSignupModal:{...e.mWebSignupModal,modal:{isShown:!1}}},a.type);case ei.IP:return{...e,mWebSignupModal:{...e.mWebSignupModal,topInterest:a.payload.topInterest}};case ei._q:return{...e,mWebSignupModal:{...e.mWebSignupModal,upsellEligibleNavigationCount:a.payload.upsellEligibleNavigationCount??e.mWebSignupModal.upsellEligibleNavigationCount}};case ei.fQ:return{...e,mWebSignupModal:{...e.mWebSignupModal,isUnauthSharingModalsShown:!1}};case ei.gk:return{...e,mWebSignupModal:{...e.mWebSignupModal,isUnauthSharingModalsShown:!0}};case ei.EY:return{...e,mWebSignupModal:{...e.mWebSignupModal,lastShownTime:Date.now(),timesShownForSessionCount:(e.mWebSignupModal.timesShownForSessionCount??0)+1,scrollControllerHasDisplayed:e.mWebSignupModal.scrollControllerHasDisplayed,modal:{isShown:!0,displayProps:{headingType:a.payload.headingType,trigger:{attributionLabel:a.payload.attributionLabel,reason:a.payload.reason},allowCloseOnOutsideClick:a.payload.allowCloseOnOutsideClick,shouldMoveCancelButtonRight:a.payload.shouldMoveCancelButtonRight,customUpsellConfig:a.payload.customUpsellConfig,savePinImageUrl:a.payload.savePinImageUrl},pinId:a.payload.pinId||null}}};case ei.nH:return es(en.tj.shouldAllowUnauthSave?.getNextState({action:a,state:e})??e,a.type);case ei.KL:return es({...e,mWeb:{...e.mWeb,pinSaveCount:e.mWeb.pinSaveCount+1}},ei.KL);case ei.SJ:return{...e,unauthClickthroughCount:e.unauthClickthroughCount+1};case ei.Gd:return es({...e,unauthDownloadCount:a.payload.count},a.type);case ei.My:return{...e,mWeb:{...e.mWeb,pinSaveCount:e.mWeb.pinSaveCount-1}};case ei.SI:{let{conversionDecision:t,appUpsellDecision:r}=a.payload,s={...e};return t&&(s=en.tj.shouldShowMainPinImageNavigationalModal?.getNextState({action:a,state:s})??s),r.shouldToggleAppUpsell&&(s={...s,appUpsells:{...s.appUpsells,learningUpsell:{isShown:!r.currentlyShowing}}}),s}case ei.rD:{let{oldLocation:t,newLocation:r,isNavigationFromSwipe:s,checkExperiment:o,currentUserTracker:n,pageThreshold:i,isWashDismissible:l,isUpsellEnabledGlobally:d,isModalCurrentlyShown:c,hasSeenModal:_,currentNavigationCount:u,canShowSignupModalOnRouteChange:p,canShowSignupModalOnRouteChangeControl:E}=a.payload,S=!!r&&(0,el.A)(o,r),T=(0,ee.isCloseupPage)(r)&&t&&(0,ee.isCloseupPage)(t)&&r.pathname!==t.pathname,y=!c&&d&&!s&&!!r&&p?.(r,S),A={...e};c&&(A={...A,mWebSignupModal:{...A.mWebSignupModal,modal:{isShown:!1}}}),y&&(A={...A,pinClickRelatedPinsCount:T?A.pinClickRelatedPinsCount+1:A.pinClickRelatedPinsCount,mWebSignupModal:{...A.mWebSignupModal,upsellEligibleNavigationCount:(A.mWebSignupModal.upsellEligibleNavigationCount??0)+1},mWeb:{...A.mWeb,pinViewCount:(0,ee.isCloseupPage)(r)?A.mWeb.pinViewCount+1:A.mWeb.pinViewCount}}),A=es(A,a.type,n);let R={checkExperiment:o,isUpsellEnabledGlobally:d,isModalCurrentlyShown:c,oldLocation:t,newLocation:r,isNavigationFromSwipe:s,currentNavigationCount:u,hasSeenModal:_,pageThreshold:i,isWashDismissible:l,canShowSignupModalOnRouteChange:p,canShowSignupModalOnRouteChangeControl:E,currentUserTracker:n,engagementScore:A.engagementScore},I=o?.("engagement_score_v0_mweb"),m=I?.anyEnabled,g=en.tj.shouldShowNavigationUpsellIntentBased?.evaluate(R);return m||g&&g.shouldShowModal||(g=en.tj.shouldShowNavigationUpsell?.evaluate(R)),g.shouldShowModal&&(A=en.tj.shouldShowNavigationUpsell?.getNextState({action:a,state:A,decision:g})??A),A}case ei.j6:let{decision:t}=a.payload,r={...e};return t.shouldIncrementCount&&(r={...r,mWebSignupModal:{...r.mWebSignupModal,upsellEligibleNavigationCount:(r.mWebSignupModal.upsellEligibleNavigationCount??0)+1}}),t.shouldShowModal&&(r=en.tj.shouldShowOnLandUpsell?.getNextState({action:a,state:r,decision:t})??r),r;case ei.jw:{let t=e.appUpsells.learningUpsell?.isShown??!1,r=!a.payload.isShown,{isDismissedByUser:s}=a.payload,o=t&&r&&s,n={...e,appUpsells:{...e.appUpsells,appUpsellDismissCount:o?e.appUpsells.appUpsellDismissCount+1:e.appUpsells.appUpsellDismissCount,learningUpsell:{...e.appUpsells.learningUpsell,isShown:a.payload.isShown}}};return o?es(n,a.type):n}case ei.Uk:if(en.tj.shouldShowSignupModalOnContextMenuDownloadClick?.evaluate({limitReached:a.payload.limitReached,inImmediateUpsellGroup:a.payload.inImmediateUpsellGroup,checkExperiment:a.payload.checkExperiment,modal:e.modal}))return en.tj.shouldShowSignupModalOnContextMenuDownloadClick.getNextState({action:a,state:e});return e;case ei.hq:if(en.tj.shouldShowSignupModalOnFollowButtonClickMobile?.evaluate({mWebSignupModal:e.mWebSignupModal}))return en.tj.shouldShowSignupModalOnFollowButtonClickMobile.getNextState({action:a,state:e});return e;case ei.no:{let t=e.appUpsells.floatingUpsell?.shouldShow&&!e.appUpsells.floatingUpsell?.isDismissed,{isDismissedByUser:r}=a.payload,s=t&&r,o={...e,appUpsells:{...e.appUpsells,appUpsellDismissCount:s?e.appUpsells.appUpsellDismissCount+1:e.appUpsells.appUpsellDismissCount,floatingUpsell:{shouldShow:e.appUpsells.floatingUpsell?.shouldShow??!1,isDismissed:!0}}};return s?es(o,a.type):o}case ei.XV:{let t=e.appUpsells.iabAppUpsell?.isShown??!1,r=!1===a.payload.isShown,s=t&&r,o={...e,appUpsells:{...e.appUpsells,appUpsellDismissCount:s?e.appUpsells.appUpsellDismissCount+1:e.appUpsells.appUpsellDismissCount,iabAppUpsell:{isShown:a.payload.isShown??e.appUpsells.iabAppUpsell?.isShown??!1,appUpsellType:a.payload.appUpsellType??e.appUpsells.iabAppUpsell?.appUpsellType??"other",isBlocking:a.payload.isBlocking??e.appUpsells.iabAppUpsell?.isBlocking??!1}}};return s?es(o,a.type):o}case ei.AD:if(en.tj.shouldShowRelatedPinsGradientUpsell?.evaluate({checkExperiment:a.payload.checkExperiment}))return en.tj.shouldShowRelatedPinsGradientUpsell?.getNextState({action:a,state:e})||e;return e;default:return e}}let e_={data:null,loading:!1,error:null},eu={data:{},loading:!1,error:void 0,businessIdsAssociatedWithAoaas:[],totalCountByStatus:void 0},ep={requests:{},loading:!1,error:void 0},eE={data:[],loading:!1,error:void 0,refreshToken:{data:void 0,loading:!1,error:void 0}},eS={assetGroups:{},owners:{adAccountOwners:[],profileOwners:[],aoaaIds:[]},selectedAssetGroupId:void 0,loading:!1,error:void 0,ownerError:void 0,adAccountsLoading:!1,profilesLoading:!1,catalogsLoading:!1,employeesLoading:!1,systemUsersLoading:!1,ownersLoading:!1,partnersLoading:!1,adAccountsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},profilesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},catalogsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},employeesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},systemUsersTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},partnersTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1}},eT={audiences:{sharedAudiences:[],receivedAudiences:[],ownedAudiences:[],sharedAudiencesLoading:!1,receivedAudiencesLoading:!1,ownedAudiencesLoading:!1,error:null},sharedAccounts:{accounts:{},loading:!1,error:null}},ey={adAccounts:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},catalogs:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},assetGroups:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},businessHierarchyBusinessMembers:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},profiles:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},employees:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},partners:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1},loading:!1,error:void 0},pending:{childBusinesses:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1}},organizationManagers:{data:[],table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1}},loading:!1,error:void 0}},eA={data:{},loading:!1,error:void 0},eR={data:{},sharedData:{},invites:{},loading:!1,selectedCatalogId:void 0,selectedInviteId:void 0,error:void 0,employeesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},employeesLoading:!1,partnersTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},partnersLoading:!1,catalogOwners:{},catalogOwnersLoading:!1},eI={data:[],loading:!1,error:void 0},em={data:[],sharedData:[],loading:!1,error:void 0,adAccountLoading:!1,adAccounts:[],conversionTypeLoading:!1,conversionTypes:[],mainPanelLoading:!1,selectedConversionId:"",table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0}},eg={employees:{},invites:{},loading:!1,currentBusiness:void 0,invitesLoading:!1,selectedEmployeeId:void 0,selectedEmployeeInviteId:void 0,error:void 0,adAccountsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},adAccountsLoading:!1,profilesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},profilesLoading:!1,assetGroupsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},assetGroupsLoading:!1,catalogsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},catalogsLoading:!1,adAccountError:void 0,profileError:void 0,assetGroupsError:void 0,catalogError:void 0,assetRoles:void 0,assetRolesLoading:!1,assetRolesError:void 0},eC={list:null,isLoading:!1,error:null};var ef=t(200979),eP=t(175962),eO=t(667759);let eN={data:{},loading:!1,error:null,dateRange:{startDate:(0,eO.A)((0,ef.A)((0,eP.A)(),7)).toISOString(),endDate:(0,eO.A)((0,ef.A)((0,eP.A)(),1)).toISOString()}},eh={invites:{},requests:{},loading:!1,error:void 0},eD={invites:{people:{},partner:{}},requests:{partner:{}},type:"PENDING",loading:!1,error:void 0},eL={data:{},loading:!1,error:null,invoiceTabVisibility:"PROGRESS"},ew={users:{collapse:!1},accounts:{collapse:!1},isLoading:!1},ev={invites:{businessRole:"",businesses:[]},selectedPartners:{selectedPartnerBusinessIds:[],selectedCountries:[],searchValue:"",totalSelected:0},selectedAssets:{adAccounts:{resourceIdToRoles:{},roleToNumberOfAssets:{}},catalogs:{resourceIdToRoles:{},roleToNumberOfAssets:{}},profiles:{resourceIdToRoles:{},roleToNumberOfAssets:{}}},selectedRmnAssets:{audiences:{resourceIdToRoles:{},resourceIdToNames:{}},conversionSegments:{resourceIdToRoles:{},resourceIdToNames:{}},catalogs:{resourceIdToRoles:{},resourceIdToNames:{}}},requestedAssets:{adAccounts:{resourceIdToRoles:{}},catalogs:{resourceIdToRoles:{}},profiles:{resourceIdToRoles:{}}},loading:!1,error:void 0,selectedApps:{resourceIdToRoles:{},roleToNumberOfAssets:{}},systemUserData:void 0},eU={data:{},loading:!1,error:void 0,isSelectedPartnerAssociatedWithAoaa:!1},eb={people:{},partner:{},assets:{},type:["PENDING","EXPIRED"],loading:!1,error:void 0},eG={data:{},loading:!1,error:void 0},eM={data:{},loading:!1,error:null},eB={data:{},loading:!1,error:null,totalCount:0},ek={isLoading:!1,data:{rows:null,summary:[],count:0},error:null},eF={isLoading:!1,data:[{topRisers:[],topDecliners:[],metric:""},{topRisers:[],topDecliners:[],metric:""}],error:null},eV=(0,w.combineReducers)({partners:(e,a)=>{let t=e||eB;switch(a.type){case"GET_RMN_PARTNERS":return{...t,loading:!0,error:null};case"GET_RMN_PARTNERS_ERROR":return{...t,loading:!1,error:a.error};case"GET_RMN_PARTNERS_SUCCESS":return{...t,loading:!1,error:null,data:{...t.data,...a.payload?.data??{}},totalCount:a.payload?.totalCount??t.totalCount};case"UPDATE_RMN_PARTNERS_TOTAL_COUNT":return{...t,totalCount:a.payload?.totalCount};default:return t}},partnerOverviewMetrics:(e,a)=>{let t=e||ek;switch(a.type){case"GET_PARTNER_OVERVIEW_METRICS":return{...t,isLoading:!0,error:null,data:{rows:null,summary:[],count:0}};case"GET_PARTNER_OVERVIEW_METRICS_ERROR":return{...t,isLoading:!1,error:a.error};case"GET_PARTNER_OVERVIEW_METRICS_SUCCESS":return{...t,isLoading:!1,error:null,data:a.payload?.data||{rows:[],summary:[],count:0}};default:return t}},topRiserDecliners:(e,a)=>{let t=e||eF;switch(a.type){case"GET_TOP_RISER_DECLINERS":return{...t,isLoading:!0,error:null};case"GET_TOP_RISER_DECLINERS_ERROR":return{...t,isLoading:!1,error:a.error};case"GET_TOP_RISER_DECLINERS_SUCCESS":return{...t,isLoading:!1,error:null,data:a.payload?.data||[{topRisers:[],topDecliners:[],metric:""},{topRisers:[],topDecliners:[],metric:""}]};default:return t}}}),eH={data:[],systemUsers:{},adAccounts:[],assetGroups:[],catalogs:[],systemApps:[],profiles:[],loading:!1,adAccountLoading:!1,selectedSystemId:"",profilesLoading:!1,appsLoading:!1,catalogsLoading:!1,assetGroupsLoading:!1,error:void 0,table:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"full_name",searchBy:void 0,searchTerm:"",startIndex:0,filtersPayload:void 0},adAccountTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:0,filtersPayload:void 0},profilesTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:0,filtersPayload:void 0},appsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:0,filtersPayload:void 0},catalogsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:0,filtersPayload:void 0},assetGroupsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:"name",searchBy:void 0,searchTerm:"",startIndex:0,filtersPayload:void 0}},ex={visibleData:[],page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:""},eY={tags:{},loading:!1,selectedTagId:void 0,error:void 0,adAccountsTable:{page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:"",startIndex:1,filtersPayload:void 0},adAccountsLoading:!1,adAccountError:void 0,selectedAdAccounts:[],overlayOpen:!1},eW={previousPermissions:void 0,selectedId:void 0,loading:!1,error:void 0},ej={loading:!1,error:null,data:[]},e$={loading:!1,error:void 0,data:[]},eq={data:void 0},eK=(0,w.combineReducers)({people:(e,a)=>{let t=e||eG;switch(a.type){case"GET_PERSON":case"DELETE_PEOPLE":case"GET_PEOPLE":case"GET_AD_ACCOUNTS_PEOPLE":case"GET_PROFILE_DETAIL_PEOPLE":case"CREATE_PEOPLE_INVITE":case"GET_BUSINESS_HIERARCHY_MANAGERS":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_EMPLOYEE":return{...t,loading:!0};case"GET_PERSON_ERROR":case"DELETE_PEOPLE_ERROR":case"GET_PEOPLE_ERROR":case"GET_AD_ACCOUNTS_PEOPLE_ERROR":case"GET_PROFILE_DETAIL_PEOPLE_ERROR":case"CREATE_PEOPLE_INVITE_ERROR":case"GET_BUSINESS_HIERARCHY_MANAGERS_ERROR":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_EMPLOYEE_ERROR":return{...t,error:a.error,loading:!1};case"DELETE_PEOPLE_SUCCESS":case"CREATE_PEOPLE_INVITE_SUCCESS":return{...t,loading:!1,error:void 0};case"GET_PERSON_SUCCESS":case"GET_PEOPLE_SUCCESS":case"GET_BUSINESS_HIERARCHY_MANAGERS_SUCCESS":return{...t,loading:!1,data:{...t.data,...a.payload?.data??{}},error:void 0};case"GET_AD_ACCOUNTS_PEOPLE_SUCCESS":case"GET_PROFILE_DETAIL_PEOPLE_SUCCESS":return{...t,loading:!1,error:void 0,data:{...t.data,...Object.keys(a.payload?.data||{}).reduce((e,t)=>({...e,...!!t&&{[t]:a.payload?.data[t]}}),{})}};case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_EMPLOYEE_SUCCESS":if(!a.payload?.data?.userId||"string"!=typeof a.payload.data.userId||!t.data[a.payload.data.userId]||!a.payload.data.adAccountId||!a.payload.data.userId||!a.payload.data.permissions)return{...t,error:a.error,loading:!1};return{...t,loading:!1,error:void 0,data:{...t.data,[a.payload.data.userId]:{...t.data[a.payload.data.userId],permissions:a.payload.data.permissions}}};case"CLEAR_ERROR":return{...t,error:void 0};case"UPDATE_PEOPLE_TOTAL_COUNT":return{...t,loading:!1,totalCount:a.payload?.totalCount};default:return t}},invitesOrRequests:(e,a)=>{let t=e||eD,{type:r,data:s,id:o}=a.payload??{};switch(a.type){case"GET_PARTNERS_REQUESTS":case"CREATE_PARTNER_INVITE":case"CREATE_RMN_PARTNER_INVITE":case"CREATE_PARTNER_REQUEST":return{...t,loading:!0};case"GET_PARTNERS_REQUESTS_ERROR":case"CREATE_PARTNER_INVITE_ERROR":case"CREATE_RMN_PARTNER_INVITE_ERROR":case"CREATE_PARTNER_REQUEST_ERROR":return{...t,error:a.error,loading:!1};case"CREATE_PARTNER_INVITE_SUCCESS":case"CREATE_RMN_PARTNER_INVITE_SUCCESS":case"CREATE_PARTNER_REQUEST_SUCCESS":return{...t,loading:!1,error:void 0};case"GET_PARTNERS_REQUESTS_SUCCESS":return{...t,loading:!1,requests:{...t.requests,[r]:{...t.requests[r],...s}}};case"CLEAR_ERROR":return{...t,error:void 0};case"CLEAR_INVITE":if(t.invites.partner){let{[o]:e,...a}=t.invites.partner;return{...t,invites:{...t.invites,partner:{...a}}}}return t;case"CLEAR_REQUEST":if(t.requests.partner){let{[o]:e,...a}=t.requests.partner;return{...t,requests:{...t.requests,partner:{...a}}}}return t;default:return t}},partners:(e,a)=>{let t=e||eU;switch(a.type){case"GET_PARTNER":case"UPDATE_PARTNERS":case"DELETE_PARTNERS":case"GET_PARTNERS":case"GET_AD_ACCOUNTS_PARTNERS":case"GET_PROFILE_DETAIL_PARTNERS":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_PARTNER":case"GET_IS_PARTNER_ASSOCIATED_WITH_AOAA":return{...t,loading:!0};case"GET_PARTNER_ERROR":case"UPDATE_PARTNERS_ERROR":case"DELETE_PARTNERS_ERROR":case"GET_PARTNERS_ERROR":case"GET_AD_ACCOUNTS_PARTNERS_ERROR":case"GET_PROFILE_DETAIL_PARTNERS_ERROR":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_PARTNER_ERROR":case"GET_IS_PARTNER_ASSOCIATED_WITH_AOAA_ERROR":return{...t,error:a.error,loading:!1};case"UPDATE_PARTNERS_SUCCESS":case"DELETE_PARTNERS_SUCCESS":return{...t,loading:!1,error:void 0};case"GET_PARTNER_SUCCESS":case"GET_PARTNERS_SUCCESS":return{...t,loading:!1,data:{...t.data,...a.payload?.data??{}}};case"GET_AD_ACCOUNTS_PARTNERS_SUCCESS":case"GET_PROFILE_DETAIL_PARTNERS_SUCCESS":return{...t,loading:!1,data:{...t.data,...Object.keys(a.payload?.data??{}).reduce((e,t)=>({...e,[t??""]:a.payload?.data[t]}),{})}};case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_PARTNER_SUCCESS":if(!a.payload?.data?.userId||"string"!=typeof a.payload.data.userId||!t.data[a.payload.data.userId]||!a.payload.data.adAccountId||!a.payload.data.userId||!a.payload.data.permissions)return{...t,error:a.error,loading:!1};return{...t,loading:!1,error:void 0,data:{...t.data,[a.payload.data.userId]:{...t.data[a.payload.data.userId],permissions:a.payload.data.permissions}}};case"GET_IS_PARTNER_ASSOCIATED_WITH_AOAA_SUCCESS":return{...t,loading:!1,error:void 0,isSelectedPartnerAssociatedWithAoaa:a.payload??!1};case"CLEAR_ERROR":return{...t,error:void 0};case"UPDATE_PARTNERS_TOTAL_COUNT":return{...t,loading:!1,totalCount:a.payload?.totalCount};default:return t}},employers:(e,a)=>{let t=e||eC;switch(a.type){case"GET_EMPLOYERS":return{...t,error:null,isLoading:!0};case"GET_EMPLOYERS_SUCCESS":if(a.payload?.showTooltip){let e=[];for(let r of a.payload.data)t&&t.list&&!t.list.some(({id:e})=>e===r.id)?e.push({...r,showInTooltip:!0}):e.push(r);return{...t,list:e,isLoading:!1}}return{...t,list:a.payload?.data,isLoading:!1};case"GET_EMPLOYERS_ERROR":return{...t,list:[],error:a.error,isLoading:!1};case"HIDE_EMPLOYERS_TOOLTIP":return{...t,list:t.list?t.list.map(e=>{if("showInTooltip"in e){let{showInTooltip:a,...t}=e;return t}return e}):t.list};default:return t}},adAccounts:(e,a)=>{let t=e||eu;switch(a.type){case"CREATE_AD_ACCOUNTS":case"GET_MULTIPLE_AD_ACCOUNTS":case"GET_PERSON_ASSETS":case"GET_PARTNER_ASSETS":case"GET_AD_ACCOUNT":case"UPDATE_USER_PERMISSION_TO_AD_ACCOUNT":case"GET_BUSINESS_IDS_ASSOCIATED_WITH_AOAAS":case"GET_AD_ACCOUNTS_SETTINGS":case"UPDATE_AD_ACCOUNTS_SETTINGS":return{...t,loading:!0};case"CREATE_AD_ACCOUNTS_ERROR":case"GET_MULTIPLE_AD_ACCOUNTS_ERROR":case"GET_PERSON_ASSETS_ERROR":case"GET_PARTNER_ASSETS_ERROR":case"GET_AD_ACCOUNT_ERROR":case"UPDATE_USER_PERMISSION_TO_AD_ACCOUNT_ERROR":case"GET_AD_ACCOUNTS_ASSET_GROUPS_ERROR":case"GET_BUSINESS_IDS_ASSOCIATED_WITH_AOAAS_ERROR":case"GET_AD_ACCOUNTS_SETTINGS_ERROR":case"UPDATE_AD_ACCOUNTS_SETTINGS_ERROR":return{...t,error:a.error,loading:!1};case"CREATE_AD_ACCOUNTS_SUCCESS":return{...t,loading:!1,error:void 0};case"GET_MULTIPLE_AD_ACCOUNTS_SUCCESS":case"GET_PERSON_ASSETS_SUCCESS":case"GET_PARTNER_ASSETS_SUCCESS":case"GET_AD_ACCOUNT_SUCCESS":return{...t,loading:!1,data:{...t.data,...a.payload?.data??{}},totalCountByStatus:a.payload?.totalCountByStatus,error:void 0};case"UPDATE_USER_PERMISSION_TO_AD_ACCOUNT_SUCCESS":if(!a.payload?.data?.adAccountId||"string"!=typeof a.payload.data.adAccountId||!t.data[a.payload.data.adAccountId]||!a.payload.data.adAccountId||!a.payload.data.userId||!a.payload.data.permissions)return{...t,error:a.error,loading:!1};return{...t,loading:!1,error:void 0,data:{...t.data,[a.payload.data.adAccountId]:{...t.data[a.payload.data.adAccountId],permissions:a.payload.data.permissions}}};case"CLEAR_ERROR":return{...t,error:void 0};case"UPDATE_AD_ACCOUNTS_TOTAL_COUNT":return{...t,loading:!1,totalCount:a.payload?.totalCount};case"GET_BUSINESS_IDS_ASSOCIATED_WITH_AOAAS_SUCCESS":return{...t,loading:!1,businessIdsAssociatedWithAoaas:a.payload?.businessIdsAssociatedWithAoaas||[]};case"GET_AD_ACCOUNTS_SETTINGS_SUCCESS":case"UPDATE_AD_ACCOUNTS_SETTINGS_SUCCESS":if(!a.payload?.data?.adAccountId||"string"!=typeof a.payload.data.adAccountId||!t.data[a.payload.data.adAccountId])return{...t,loading:!1};return{...t,loading:!1,data:{...t.data,[a.payload.data.adAccountId]:{...t.data[a.payload.data.adAccountId],settings:a.payload.data.settings??{}}}};default:return t}},businessMetrics:(e,a)=>{let t=e||eA;switch(a.type){case"GET_ADS_MONTHLY_SPEND":return{...t,loading:!0};case"GET_ADS_MONTHLY_SPEND_ERROR":return{...t,error:a.error,loading:!1};case"GET_ADS_MONTHLY_SPEND_SUCCESS":return{...t,loading:!1,data:{...t?.data,...a?.data??{}},error:void 0};case"CLEAR_ERROR":return{...t,error:void 0};default:return t??{}}},actingUser:(e=e_,a)=>{let t=e||e_;switch(a.type){case"GET_ACTING_USER":return{...t,loading:!0,error:null};case"GET_ACTING_USER_SUCCESS":return{...t,data:a.payload,loading:!1};case"GET_ACTING_USER_ERROR":return{...t,loading:!1,error:a.error};default:return t}},table:(e,a)=>{let t=e||ex;switch(a.type){case"GET_BUSINESS_HIERARCHY_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILES_SUCCESS":case"GET_BUSINESS_HIERARCHY_ASSET_GROUPS_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS_SUCCESS":case"GET_PEOPLE_SUCCESS":case"GET_SYSTEM_USERS_SUCCESS":case"GET_PARTNERS_REQUESTS_SUCCESS":case"GET_PARTNERS_SUCCESS":case"GET_MULTIPLE_AD_ACCOUNTS_SUCCESS":case"GET_PERSON_ASSETS_SUCCESS":case"GET_PARTNER_ASSETS_SUCCESS":case"GET_PERSON_PROFILES_SUCCESS":case"GET_PERSON_ASSET_GROUPS_SUCCESS":case"GET_PARTNER_ASSET_GROUPS_SUCCESS":case"GET_AD_ACCOUNTS_ASSET_GROUPS_SUCCESS":case"GET_AD_ACCOUNTS_PARTNERS_SUCCESS":case"GET_AD_ACCOUNTS_PEOPLE_SUCCESS":case"GET_AD_ACCOUNT_SYSTEM_USERS_SUCCESS":case"GET_PROFILE_DETAIL_PEOPLE_SUCCESS":case"GET_PROFILE_DETAIL_SYSTEM_USERS_SUCCESS":case"GET_PROFILE_DETAIL_PARTNERS_SUCCESS":case"GET_ALL_PROFILES_SUCCESS":case"GET_PENDING_PEOPLE_SUCCESS":case"GET_PENDING_PARTNERS_SUCCESS":case"GET_AOAA_REQUESTS_SUCCESS":case"GET_HISTORY_SUCCESS":case"GET_BUSINESS_HIERARCHY_MANAGERS_SUCCESS":case"GET_BILLING_INVOICES_SUCCESS":case"GET_ASSET_GROUP_ASSETS_SUCCESS":case"GET_PROFILE_ASSET_GROUPS_SUCCESS":case"GET_SHARED_AUDIENCE_ACCOUNTS_SUCCESS":case"GET_TAG_ASSETS_SUCCESS":{let{updateDataOnly:e,data:r,ids:s,...o}=a.payload??{};if(e)return t;let n=o?.table??{};return{...t,visibleData:s,...o,...n}}case"SET_ROUTER_PARAMS":return ex;case"SET_SORT_PARAMS":return{...t,sortBy:a.payload?.sortBy,sortDirection:a.payload?.sortDirection||"ASCENDING"};default:return t}},history:(e,a)=>{let t=e||eN;switch(a.type){case"GET_HISTORY":return{...t,loading:!0,error:null};case"GET_HISTORY_SUCCESS":return{...t,data:{...t.data,...a.payload?.data??{}},loading:!1};case"GET_HISTORY_ERROR":return{...t,loading:!1,error:a.error};case"SET_HISTORY_DATE_RANGE":return{...t,dateRange:a.dateRange};default:return t}},inviteOrRequestData:(e=eh,a)=>{let t=e||eh,{updateDataOnly:r,type:s,...o}=a.payload??{};switch(a.type){case"GET_INVITE_DATA":case"GET_REQUEST_DATA":return{...t,loading:!0};case"GET_INVITE_DATA_ERROR":case"GET_REQUEST_DATA_ERROR":return{...t,loading:!1,error:a.error};case"GET_INVITE_DATA_SUCCESS":return{...t,invites:{...t.invites,[s]:{...t.invites[s],...o}},loading:!1};case"GET_REQUEST_DATA_SUCCESS":return{...t,requests:{...t.requests,[s]:{...o,...t.requests[s]}},loading:!1};case"CLEAR_PARTNER_INVITE_DATA":return{...t,invites:{...t.invites,partners:{}}};case"CLEAR_PARTNER_REQUEST_DATA":return{...t,requests:{...t.requests,partners:{}}};default:return t}},pending:(e,a)=>{let t=e||eb;switch(a.type){case"GET_PENDING_PEOPLE":case"GET_PENDING_PARTNERS":case"GET_PENDING_ASSETS":return{...t,loading:!0};case"GET_PENDING_PEOPLE_ERROR":case"GET_PENDING_PARTNERS_ERROR":case"GET_PENDING_ASSETS_ERROR":return{...t,error:a.error,loading:!1};case"GET_PENDING_PEOPLE_SUCCESS":return{...t,loading:!1,people:{...t.people,...a.payload.data??{}},type:a.payload.inviteStatus??["PENDING","EXPIRED"]};case"GET_PENDING_PARTNERS_SUCCESS":return{...t,loading:!1,partner:{...t.partner,...a.payload.data??{}},type:a.payload.inviteStatus??["PENDING","EXPIRED"]};case"GET_PENDING_ASSETS_SUCCESS":return{...t,loading:!1,assets:{...t.assets,...a.payload??{}},type:["PENDING"]};case"CLEAR_PENDING_DATA":return{...t,loading:!1,people:{},partner:{},assets:{}};case"CLEAR_PENDING_ASSETS":return{...t,loading:!1,assets:{}};case"CLEAR_ERROR":return{...t,error:void 0};default:return t}},aoaaRequests:(e,a)=>{let t=e||ep;switch(a.type){case"GET_AOAA_REQUESTS":case"UPDATE_AOAA_REQUEST":return{...t,loading:!0};case"UPDATE_AOAA_REQUEST_ERROR":case"GET_AOAA_REQUESTS_ERROR":return{...t,error:a.error,loading:!1};case"GET_AOAA_REQUESTS_SUCCESS":return{...t,loading:!1,requests:{...t.requests,...a.payload.data??{}}};case"UPDATE_AOAA_REQUEST_SUCCESS":if(!a.payload.requestId||"string"!=typeof a.payload.requestId||!t.requests||!t.requests[a.payload.requestId])return{...t,error:a.error,loading:!1};return{...t,loading:!1,requests:{...t.requests,...a.payload.data??{},[a.payload.requestId]:{...t.requests[a.payload.requestId],permissions:a.payload.businessIdToPermissions}}};case"CLEAR_AOAA_REQUESTS":return{...t,loading:!1,requests:{}};case"CLEAR_ERROR":return{...t,error:void 0};default:return t}},assetGroups:(e,a)=>{let t=e||eS;switch(a.type){case"GET_ASSET_GROUPS":return{...t,loading:!0,loadingAssetGroups:!0};case"GET_ASSET_GROUPS_ERROR":return{...t,error:a.error,loading:!1,loadingAssetGroups:!1};case"GET_ASSET_GROUPS_SUCCESS":return{...t,loadingAssetGroups:!1,loading:!1,assetGroups:{...(Array.isArray(a.payload?.data)?a.payload.data:[]).reduce((e,a)=>("id"in a&&(e[a.id]=a),e),{})}};case"CREATE_ASSET_GROUP":case"EDIT_ASSET_GROUP":case"DELETE_ASSET_GROUP":case"UPDATE_EMPLOYEE_PERMISSION_TO_ASSET_GROUP":case"UPDATE_SYSTEM_USER_PERMISSION_TO_ASSET_GROUP":case"UPDATE_PARTNER_PERMISSION_TO_ASSET_GROUP":return{...t,loading:!0};case"CREATE_ASSET_GROUP_ERROR":case"EDIT_ASSET_GROUP_ERROR":case"DELETE_ASSET_GROUP_ERROR":case"UPDATE_EMPLOYEE_PERMISSION_TO_ASSET_GROUP_ERROR":case"UPDATE_SYSTEM_USER_PERMISSION_TO_ASSET_GROUP_ERROR":case"UPDATE_PARTNER_PERMISSION_TO_ASSET_GROUP_ERROR":return{...t,error:a.error,loading:!1};case"CREATE_ASSET_GROUP_SUCCESS":let r=a.payload?.data;if("object"==typeof r&&!Array.isArray(r)&&"string"==typeof r.id)return{...t,loading:!1,error:void 0,selectedAssetGroupId:r.id,assetGroups:{...t.assetGroups,...{[r.id]:{...r,profiles:[],adAccounts:[],employees:[],partners:[]}}}};return t;case"EDIT_ASSET_GROUP_SUCCESS":let s=a.payload?.data;if("object"==typeof s&&"object"==typeof a.payload?.data&&!Array.isArray(s)&&!Array.isArray(a.payload.data)&&"string"==typeof s.id)return{...t,loading:!1,assetGroups:{...t.assetGroups,...{[s.id]:{...t.assetGroups[s.id],...a.payload.data}}}};return t;case"DELETE_ASSET_GROUP_SUCCESS":let o={...t.assetGroups},n=a.payload?.data,i={};if("string"!=typeof n)return t;{Object.keys(o).forEach(e=>{e!==n&&(i[e]=o[e])});let e=Object.keys(i).length>0?Object.keys(i)[0]:void 0;return{...t,loading:!1,loadingAssetGroups:!1,assetGroups:i,selectedAssetGroupId:e}}case"SELECT_ASSET_GROUP":return{...t,selectedAssetGroupId:"string"==typeof a.payload?.data?a.payload.data:void 0};case"UPDATE_EMPLOYEE_PERMISSION_ASSET_GROUP_SUCCESS":if(!a.payload?.data?.assetGroupId||"string"!=typeof a.payload.data.assetGroupId||!t.assetGroups[a.payload.data.assetGroupId]||!a.payload.data.assetGroupId||!a.payload.data.employeeId||!a.payload.data.newPermissions)return{...t,error:a.error,loading:!1};let l=a.payload.data.employeeId,d=a.payload.data.newPermissions;return{...t,loading:!1,assetGroups:{...t.assetGroups,[a.payload.data.assetGroupId]:{...t.assetGroups[a.payload.data.assetGroupId],employees:(t.assetGroups[a.payload.data.assetGroupId].employees||[]).map(e=>e.id===l?{...e,permissions:d}:e)}}};case"UPDATE_SYSTEM_USER_PERMISSION_ASSET_GROUP_SUCCESS":if(!a.payload?.data?.assetGroupId||"string"!=typeof a.payload.data.assetGroupId||!t.assetGroups[a.payload.data.assetGroupId]||!a.payload.data.assetGroupId||!a.payload.data.systemUserId||!a.payload.data.newPermissions)return{...t,error:a.error,loading:!1};let c=a.payload.data.systemUserId,_=a.payload.data.newPermissions;return{...t,loading:!1,assetGroups:{...t.assetGroups,[a.payload.data.assetGroupId]:{...t.assetGroups[a.payload.data.assetGroupId],systemUsers:(t?.assetGroups[a.payload.data.assetGroupId]?.systemUsers||[]).map(e=>e.id===c?{...e,permissions:_}:e)}}};case"UPDATE_PARTNER_PERMISSION_TO_ASSET_GROUP_SUCCESS":if(!a.payload?.data?.assetGroupId||"string"!=typeof a.payload.data.assetGroupId||!t.assetGroups[a.payload.data.assetGroupId]||!a.payload.data.assetGroupId||!a.payload.data.partnerId||!a.payload.data.newPermissions)return{...t,error:a.error,loading:!1};let u=a.payload.data.partnerId,p=a.payload.data.newPermissions;return{...t,loading:!1,assetGroups:{...t.assetGroups,[a.payload.data.assetGroupId]:{...t.assetGroups[a.payload.data.assetGroupId],partners:(t.assetGroups[a.payload.data.assetGroupId].partners||[]).map(e=>e.id===u?{...e,permissions:p}:e)}}};case"GET_ASSET_GROUP_ASSETS":if(a.payload?.data==="AD_ACCOUNT")return{...t,loading:!1,adAccountsLoading:!0};if(a.payload?.data==="PROFILE")return{...t,loading:!1,profilesLoading:!0};return{...t,loading:!1};case"GET_ASSET_GROUP_ASSETS_SUCCESS":if(!a.payload?.data?.assetGroupId||"string"!=typeof a.payload.data.assetGroupId||!t.assetGroups[a.payload.data.assetGroupId])return{...t,error:a.error,loading:!1};let{assetGroupId:E}=a.payload.data,S=a.payload.data.child_asset_ids||[];if(Array.isArray(a.payload.data.adAccounts))return{...t,loading:!1,adAccountsLoading:!1,assetGroups:{...t.assetGroups,[E]:{...t.assetGroups[E],adAccounts:a.payload.data.adAccounts,...S&&{child_ad_account_ids:S}}}};if(Array.isArray(a.payload.data.profiles))return{...t,loading:!1,profilesLoading:!1,assetGroups:{...t.assetGroups,[E]:{...t.assetGroups[E],profiles:a.payload.data.profiles,...S&&{child_profile_ids:S}}}};if(Array.isArray(a.payload.data.catalogs))return{...t,loading:!1,catalogsLoading:!1,assetGroups:{...t.assetGroups,[E]:{...t.assetGroups[E],catalogs:a.payload.data.catalogs,...S&&{child_catalog_ids:S}}}};return{...t,loading:!1,profilesLoading:!1,adAccountsLoading:!1};case"GET_ASSET_GROUP_ASSETS_ERROR":return{...t,error:a.error,loading:!1,profilesLoading:!1,adAccountsLoading:!1};case"GET_ASSET_GROUP_USERS":if(a.payload?.data==="PEOPLE")return{...t,loading:!1,employeesLoading:!0};if(a.payload?.data==="SYSTEM_USERS")return{...t,loading:!1,systemUsersLoading:!0};if(a.payload?.data==="PARTNER")return{...t,loading:!1,partnersLoading:!0};return{...t,loading:!1};case"GET_ASSET_GROUP_USERS_SUCCESS":if(!a.payload?.data?.assetGroupId||"string"!=typeof a.payload.data.assetGroupId||!t.assetGroups[a.payload.data.assetGroupId])return{...t,error:a.error,loading:!1,employeesLoading:!1,partnersLoading:!1,systemUsersLoading:!1};let T=a.payload.data.assetGroupId;if(Array.isArray(a.payload.data.people))return{...t,loading:!1,employeesLoading:!1,assetGroups:{...t.assetGroups,[T]:{...t.assetGroups[T],employees:a.payload.data.people}}};if(Array.isArray(a.payload.data.systemUsers))return{...t,loading:!1,systemUsersLoading:!1,assetGroups:{...t.assetGroups,[T]:{...t.assetGroups[T],systemUsers:a.payload.data.systemUsers}}};if(Array.isArray(a.payload.data.partners))return{...t,loading:!1,partnersLoading:!1,assetGroups:{...t.assetGroups,[T]:{...t.assetGroups[T],partners:a.payload.data.partners}}};return{...t,loading:!1,employeesLoading:!1,partnersLoading:!1};case"GET_ASSET_GROUP_USERS_ERROR":return{...t,error:a.error,loading:!1,employeesLoading:!1,partnersLoading:!1,systemUsersLoading:!1};case"GET_ASSET_GROUP_OWNERS":return{...t,loading:!1,ownersLoading:!0};case"GET_ASSET_GROUP_OWNERS_SUCCESS":if(!a.payload||!a.payload.data||"object"!=typeof a.payload.data||"string"!=typeof a.payload.data.resourceType||!a.payload.data.owners||!a.payload.data.aoaaIds||!Array.isArray(a.payload.data.owners)||!Array.isArray(a.payload.data.aoaaIds))return{...t,loading:!1};let y=[];a.payload.data.owners.forEach(e=>{e&&"object"==typeof e&&y.push({id:"string"==typeof e.id?e.id:"",fullName:"string"==typeof e.fullName?e.fullName:"",assetIds:Array.isArray(e.assetIds)?e.assetIds.map(e=>"string"==typeof e?e:""):[]})});let A=Array.isArray(a.payload?.data?.aoaaIds)?a.payload.data.aoaaIds.map(e=>"string"==typeof e?e:""):[];return a.payload?.data?.resourceType==="AD_ACCOUNT"?{...t,loading:!1,ownersLoading:!1,owners:{...t.owners,adAccountOwners:y,aoaaIds:A}}:{...t,loading:!1,ownersLoading:!1,owners:{...t.owners,profileOwners:y}};case"GET_ASSET_GROUP_OWNERS_ERROR":return{...t,ownerError:a.error,loading:!1,ownersLoading:!1};case"CLEAR_ERROR":return{...t,error:void 0};case"SET_TABLE_STATE":if(!a.payload?.data?.table)return{...t};if("AD_ACCOUNT"===a.payload.data.assetOrMemberType)return{...t,adAccountsTable:{...t.adAccountsTable,...a.payload.data.table}};if("PROFILE"===a.payload.data.assetOrMemberType)return{...t,profilesTable:{...t.profilesTable,...a.payload.data.table}};if("CATALOG"===a.payload.data.assetOrMemberType)return{...t,catalogsTable:{...t.catalogsTable,...a.payload.data.table}};if("PEOPLE"===a.payload.data.assetOrMemberType)return{...t,employeesTable:{...t.employeesTable,...a.payload.data.table}};else if("PARTNER"===a.payload.data.assetOrMemberType)return{...t,partnersTable:{...t.partnersTable,...a.payload.data.table}};return{...t};case"GET_PERSON_ASSET_GROUPS":case"GET_AD_ACCOUNTS_ASSET_GROUPS":case"GET_PROFILE_ASSET_GROUPS":case"GET_PARTNER_ASSET_GROUPS":return{...t,loadingAssetGroups:!0,loading:!0};case"GET_PERSON_ASSET_GROUPS_ERROR":case"GET_AD_ACCOUNTS_ASSET_GROUPS_ERROR":case"GET_PROFILE_ASSET_GROUPS_ERROR":case"GET_PARTNER_ASSET_GROUPS_ERROR":return{...t,loadingAssetGroups:!1,loading:!1,error:a.error??void 0};case"GET_PERSON_ASSET_GROUPS_SUCCESS":case"GET_AD_ACCOUNTS_ASSET_GROUPS_SUCCESS":case"GET_PROFILE_ASSET_GROUPS_SUCCESS":case"GET_PARTNER_ASSET_GROUPS_SUCCESS":let R="object"!=typeof a.payload?.data||Array.isArray(a.payload.data)?{}:a.payload.data;return{...t,loadingAssetGroups:!1,loading:!1,assetGroups:Object.keys(R).reduce((e,a)=>({...e,[a]:{entity_type:"ASSET_GROUP",id:a,name:R[a]?.asset.name,description:R[a]?.asset.description,asset_group_types:R[a]?.asset.asset_group_types,adAccounts:[],profiles:[],child_ad_account_ids:R[a]?.asset.child_ad_account_ids||[],child_profile_ids:R[a]?.asset.child_profile_ids||[],employees:[],partners:[],created_by:{username:R[a]?.created_by.username,full_name:R[a]?.created_by.full_name},created_time:R[a]?.asset.created_time,owner:{username:R[a]?.owner.username,full_name:R[a]?.owner.full_name,id:R[a]?.owner.id},permissions:R[a]?.permissions}}),{})};default:return t}},profiles:(e=eM,a)=>{let t=e||eM;switch(a.type){case"GET_ALL_PROFILES":case"GET_DASHBOARD_PROFILES":case"GET_PROFILE_META":case"GET_PERSON_PROFILES":return{...t,loading:!0,error:null};case"GET_ALL_PROFILES_ERROR":case"GET_DASHBOARD_PROFILES_ERROR":case"GET_PERSON_PROFILES_ERROR":case"GET_PROFILE_META_ERROR":return{...t,loading:!1,error:a.error};case"GET_ALL_PROFILES_SUCCESS":case"GET_PROFILE_META_SUCCESS":case"GET_PERSON_PROFILES_SUCCESS":return{...t,loading:!1,error:null,data:{...t.data,...a.payload?.data}};case"GET_DASHBOARD_PROFILES_SUCCESS":return{...t,loading:!1,error:null,data:{...t.data,...a.payload?.data},dashboardVisibleData:a.payload?.ids};default:return t}},viewerInvites:(e,a)=>{let t=e||e$;switch(a.type){case"GET_VIEWER_INVITES":return{...t,loading:!0};case"GET_VIEWER_INVITES_ERROR":return{...t,loading:!1,error:a.error};case"GET_VIEWER_INVITES_SUCCESS":return{...t,loading:!1,data:a.payload?.data??[]};default:return t}},viewerIsProfileOwnerOrProfileManager:(e,a)=>{let t=e||eq;return"UPDATE_VIEWER_IS_PROFILE_OWNER_OR_PROFILE_MANAGER"===a.type?{...t,data:a.payload??void 0}:t},viewerBusinessHierarchyInvites:(e,a)=>{let t=e||ej;switch(a.type){case"GET_VIEWER_BUSINESS_HIERARCHY_INVITES":return{...t,loading:!0};case"GET_VIEWER_BUSINESS_HIERARCHY_INVITES_ERROR":return{...t,loading:!1,error:a.error};case"GET_VIEWER_BUSINESS_HIERARCHY_INVITES_SUCCESS":return{...t,loading:!1,data:a.payload?.data??[]};default:return t}},navigation:(e,a)=>{let t=e||ew;switch(a.type){case"TOGGLE_USERS":return{...t,users:{collapse:!t.users.collapse},isLoading:!1};case"TOGGLE_ACCOUNTS":return{...t,accounts:{collapse:!t.accounts.collapse},isLoading:!1};case"SET_INITIAL_COLLAPSED_STATE":return{...t,users:{collapse:a.payload?.usersCollapsed??!1},accounts:{collapse:a.payload?.accountsCollapsed??!1},isLoading:!1};default:return t}},newRelationshipAssetAssignmentFlow:(e=ev,a)=>{let t=e||ev;switch(a.type){case"SET_RELATIONSHIP_INVITES":return{...t,loading:!1,invites:{...t?.invites,...a.invites??{}}};case"SET_SELECTED_PARTNERS":return{...t,loading:!1,selectedPartners:{...t?.selectedPartners,selectedPartnerBusinessIds:a.selectedPartners??[]}};case"SET_SELECTED_PARTNERS_TOTAL":return{...t,loading:!1,selectedPartners:{...t?.selectedPartners,totalSelected:a.totalSelected??0}};case"SET_ALL_PARTNERS_SELECTED":return{...t,loading:!1,selectedPartners:{...t?.selectedPartners,allOwnersSelected:a.allOwnersSelected}};case"SET_SELECTED_PARTNERS_COUNTRIES_FILTER":return{...t,loading:!1,selectedPartners:{...t?.selectedPartners,selectedCountries:a.countries??[]}};case"SET_SELECTED_PARTNERS_PARTNER_NAME_FILTER":return{...t,loading:!1,selectedPartners:{...t?.selectedPartners,searchValue:a.partnerName??[]}};case"SET_SELECTED_ASSETS":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,...a.selectedAssets??{}}};case"SET_SELECTED_RMN_ASSETS":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,...a.selectedRmnAssets??{}}};case"SET_REQUESTED_ASSETS":return{...t,loading:!1,requestedAssets:{...t?.requestedAssets,...a.requestedAssets??{}}};case"CLEAR_SLICE":return ev;case"CLEAR_SELECTED_PARTNERS_AND_ASSET_ASSIGNMENTS":return{...t,selectedPartners:ev.selectedPartners,selectedAssets:ev.selectedAssets,loading:!1};case"SET_SELECTED_AD_ACCOUNTS":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,adAccounts:{...t.selectedAssets?.adAccounts,resourceIdToRoles:a.selectedAdAccounts||{}}}};case"SET_SELECTED_AD_ACCOUNTS_SEARCH_VALUE":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,adAccounts:{...t.selectedAssets?.adAccounts,searchValue:a.adAccountsSearchValue}}};case"SET_SELECTED_AD_ACCOUNTS_NUMBER_MAP":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,adAccounts:{...t.selectedAssets?.adAccounts,roleToNumberOfAssets:a.roleToNumberOfAssets||{}}}};case"SET_ALL_SELECTED_AD_ACCOUNTS":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,adAccounts:{...t.selectedAssets?.adAccounts,allAssetsSelected:a.allAssetsSelected}}};case"SET_REQUESTED_AD_ACCOUNTS":return{...t,loading:!1,requestedAssets:{...t?.requestedAssets,adAccounts:{...t.requestedAssets?.adAccounts,resourceIdToRoles:a.requestedAdAccounts||{}}}};case"SET_SELECTED_CATALOGS":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,catalogs:{...t.selectedAssets?.catalogs,resourceIdToRoles:a.selectedCatalogs||{}}}};case"SET_SELECTED_CATALOGS_SEARCH_VALUE":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,catalogs:{...t.selectedAssets?.catalogs,searchValue:a.catalogsSearchValue}}};case"SET_SELECTED_CATALOGS_NUMBER_MAP":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,catalogs:{...t.selectedAssets?.catalogs,roleToNumberOfAssets:a.roleToNumberOfAssets||{}}}};case"SET_ALL_SELECTED_CATALOGS":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,catalogs:{...t.selectedAssets?.catalogs,allAssetsSelected:a.allAssetsSelected}}};case"SET_SELECTED_RMN_CATALOGS":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,catalogs:{...t.selectedRmnAssets?.catalogs,...a.selectedCatalogs||{}}}};case"SET_SELECTED_RMN_CATALOGS_SEARCH_VALUE":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,catalogs:{...t.selectedRmnAssets?.catalogs,searchValue:a.catalogsSearchValue}}};case"SET_ALL_SELECTED_RMN_CATALOGS":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,catalogs:{...t.selectedRmnAssets?.catalogs,allAssetsSelected:a.allAssetsSelected}}};case"SET_REQUESTED_CATALOGS":return{...t,loading:!1,requestedAssets:{...t?.requestedAssets,catalogs:{...t.requestedAssets?.catalogs,resourceIdToRoles:a.requestedCatalogs||{}}}};case"SET_SELECTED_PROFILES":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,profiles:{...t.selectedAssets?.profiles,resourceIdToRoles:a.selectedProfiles||{}}}};case"SET_SELECTED_PROFILES_SEARCH_VALUE":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,profiles:{...t.selectedAssets?.profiles,searchValue:a.profilesSearchValue}}};case"SET_SELECTED_PROFILES_NUMBER_MAP":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,profiles:{...t.selectedAssets?.profiles,roleToNumberOfAssets:a.roleToNumberOfAssets||{}}}};case"SET_ALL_SELECTED_PROFILES":return{...t,loading:!1,selectedAssets:{...t?.selectedAssets,profiles:{...t.selectedAssets?.profiles,allAssetsSelected:a.allAssetsSelected}}};case"SET_REQUESTED_PROFILES":return{...t,loading:!1,requestedAssets:{...t?.requestedAssets,profiles:{...t.requestedAssets?.profiles,resourceIdToRoles:a.requestedProfiles||{}}}};case"SET_SELECTED_APPS":return{...t,loading:!1,selectedApps:{...t.selectedApps,...a.selectedApps||{}}};case"SET_SELECTED_AUDIENCES":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,audiences:{...t.selectedRmnAssets?.audiences,...a.selectedAudiences||{}}}};case"SET_SELECTED_AUDIENCES_SEARCH_VALUE":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,audiences:{...t.selectedRmnAssets?.audiences,searchValue:a.audiencesSearchValue}}};case"SET_ALL_SELECTED_AUDIENCES":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,audiences:{...t.selectedRmnAssets?.audiences,allAssetsSelected:a.allAssetsSelected}}};case"SET_SELECTED_CONVERSION_SEGMENTS":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,conversionSegments:{...t.selectedRmnAssets?.conversionSegments,...a.selectedConversionSegments||{}}}};case"SET_SELECTED_CONVERSION_SEGMENTS_SEARCH_VALUE":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,conversionSegments:{...t.selectedRmnAssets?.conversionSegments,searchValue:a.conversionSegmentsSearchValue}}};case"SET_ALL_SELECTED_CONVERSION_SEGMENTS":return{...t,loading:!1,selectedRmnAssets:{...t?.selectedRmnAssets,conversionSegments:{...t.selectedRmnAssets?.conversionSegments,allAssetsSelected:a.allAssetsSelected}}};case"SET_SYSTEM_USER_DATA":return{...t,loading:!1,systemUserData:a.systemUserData};default:return t}},invoiceManagement:(e,a)=>{let t=e||eL;switch(a.type){case"GET_BILLING_INVOICES":return{...t,loading:!0,error:null};case"GET_BILLING_INVOICES_SUCCESS":return{...t,data:{...t.data,...a.payload?.data??eL.data},loading:!1};case"GET_BILLING_INVOICES_ERROR":return{...t,loading:!1,error:a.error};case"SET_BILLING_INVOICES_VISIBILITY":return{...t,invoiceTabVisibility:a.payload};default:return t}},businessHierarchy:(e,a)=>{let t=e||ey;switch(a.type){case"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS":return{...t,adAccounts:{...t.adAccounts,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS_ERROR":return{...t,adAccounts:{...t.adAccounts,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_AD_ACCOUNTS_SUCCESS":return{...t,adAccounts:{...t.adAccounts,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...t.adAccounts.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_PROFILES":return{...t,profiles:{...t.profiles,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_PROFILES_ERROR":return{...t,profiles:{...t.profiles,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_PROFILES_SUCCESS":return{...t,profiles:{...t.profiles,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...t.profiles.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_ASSET_GROUPS":return{...t,assetGroups:{...t.assetGroups,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_ASSET_GROUPS_ERROR":return{...t,assetGroups:{...t.assetGroups,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_ASSET_GROUPS_SUCCESS":return{...t,assetGroups:{...t.assetGroups,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...t.assetGroups.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_CATALOGS":return{...t,catalogs:{...t.catalogs,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_CATALOGS_ERROR":return{...t,catalogs:{...t.catalogs,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_CATALOGS_SUCCESS":return{...t,catalogs:{...t.catalogs,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...t.catalogs.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_EMPLOYEES":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES":case"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES":return{...t,employees:{...t.employees,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS":return{...t,businessHierarchyBusinessMembers:{...t.businessHierarchyBusinessMembers,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS_ERROR":return{...t,businessHierarchyBusinessMembers:{...t.businessHierarchyBusinessMembers,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_BUSINESS_MEMBERS_SUCCESS":return{...t,businessHierarchyBusinessMembers:{...t.businessHierarchyBusinessMembers,data:a.payload?.data||[],table:{...t.businessHierarchyBusinessMembers.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_EMPLOYEES_ERROR":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES_ERROR":case"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES_ERROR":return{...t,employees:{...t.employees,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_EMPLOYEES_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILE_EMPLOYEES_SUCCESS":return{...t,employees:{...t.employees,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...t.employees.table,...a.payload?.table},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_PARTNERS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS":case"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS":return{...t,partners:{...t.partners,data:[],loading:!0}};case"GET_BUSINESS_HIERARCHY_PARTNERS_ERROR":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS_ERROR":case"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS_ERROR":return{...t,partners:{...t.partners,error:a.error,loading:!1}};case"GET_BUSINESS_HIERARCHY_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_AD_ACCOUNT_PARTNERS_SUCCESS":case"GET_BUSINESS_HIERARCHY_PROFILE_PARTNERS_SUCCESS":return{...t,partners:{...t.partners,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...t.partners.table,...a.payload?.table},loading:!1,error:void 0}};case"CREATE_BUSINESS_HIERARCHY_INVITE":case"GET_BUSINESS_HIERARCHY_PENDING_CHILD_BUSINESSES":case"GET_BUSINESS_HIERARCHY_PENDING_ORGANIZATION_MANAGERS":return{...t,pending:{...t.pending,loading:!0}};case"CREATE_BUSINESS_HIERARCHY_INVITE_ERROR":case"GET_BUSINESS_HIERARCHY_PENDING_CHILD_BUSINESSES_ERROR":case"GET_BUSINESS_HIERARCHY_PENDING_ORGANIZATION_MANAGERS_ERROR":return{...t,pending:{...t.pending,error:a.error,loading:!1}};case"CREATE_BUSINESS_HIERARCHY_INVITE_CHILD_BUSINESSES_SUCCESS":case"GET_BUSINESS_HIERARCHY_PENDING_CHILD_BUSINESSES_SUCCESS":return{...t,pending:{...t.pending,childBusinesses:{...t.pending.childBusinesses,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...t.pending.childBusinesses.table,...a.payload?.table}},loading:!1,error:void 0}};case"GET_BUSINESS_HIERARCHY_PENDING_ORGANIZATION_MANAGERS_SUCCESS":return{...t,pending:{...t.pending,organizationManagers:{...t.pending.organizationManagers,data:Array.isArray(a.payload?.data)?a.payload.data:[],table:{...t.pending.organizationManagers.table,...a.payload?.table}},loading:!1,error:void 0}};default:return t}},tags:(e,a)=>{let t=e||eY;switch(a.type){case"GET_TAGS":return{...t,loading:!0};case"GET_TAGS_ERROR":return{...t,error:a.error,loading:!1};case"GET_TAGS_SUCCESS":return{...t,loading:!1,tags:{...(Array.isArray(a.payload?.data)?a.payload.data:[]).reduce((e,a)=>{if(a.leader_tag_id){let t=e[a.leader_tag_id];t&&(t.tags=t.tags.concat(a))}else if(a.id){let t=e[a.id]?.tags??[];e[a.id]={...{id:a.id,name:a.name,automatic_enhanced_match:a.automatic_enhanced_match,ad_account_id:a.ad_account_id,business_id:a.business_id,created_time:a.created_time,last_fired_event:a.last_fired_event,tags:t??[],adAccounts:[]}}}return e},{})}};case"SELECT_TAGS":return{...t,selectedTagId:"string"==typeof a.payload?.data?a.payload.data:void 0};case"SET_OVERLAY":return{...t,overlayOpen:!("object"!=typeof a.payload?.data||Array.isArray(a.payload.data))&&(a.payload.data.overlayState??!1)};case"SELECT_TAG_AD_ACCOUNTS":return{...t,selectedAdAccounts:"object"!=typeof a.payload?.data||Array.isArray(a.payload.data)?[]:a.payload.data.adAccounts??[]};case"CLEAR_ERROR":return{...t,error:void 0};case"SET_TABLE_STATE":if(!a.payload?.data?.table)return{...t};return{...t,adAccountsTable:{...t.adAccountsTable,...a.payload.data.table}};case"GET_TAG_ASSETS_SUCCESS":if(!a.payload?.data?.tagId||"string"!=typeof a.payload.data.tagId||!t.tags[a.payload.data.tagId])return{...t,error:a.error,loading:!1};let{tagId:r}=a.payload.data,s={};if(a.payload.data.ownerAdAccount&&"object"==typeof a.payload.data.ownerAdAccount&&!Array.isArray(a.payload.data.ownerAdAccount)&&(s={ownerAdAccount:a.payload.data.ownerAdAccount}),Array.isArray(a.payload.data.adAccounts))return{...t,loading:!1,adAccountsLoading:!1,tags:{...t.tags,[r]:{...t.tags[r],adAccounts:a.payload.data.adAccounts,...s}}};return{...t,loading:!1,adAccountsLoading:!1};case"GET_TAG_ASSETS":case"ADD_TAG_ASSETS_AD_ACCOUNT":case"REVOKE_TAG_ASSETS_AD_ACCOUNT":return{...t,adAccountsLoading:!0};case"GET_TAG_ASSETS_ERROR":case"ADD_TAG_ASSETS_AD_ACCOUNT_ERROR":case"REVOKE_TAG_ASSETS_AD_ACCOUNT_ERROR":return{...t,adAccountsLoading:!1,adAccountError:a.error??void 0};case"ADD_TAG_ASSETS_AD_ACCOUNT_SUCCESS":case"REVOKE_TAG_ASSETS_AD_ACCOUNT_SUCCESS":if(!a.payload?.data?.tagId||"string"!=typeof a.payload.data.tagId||!t.tags[a.payload.data.tagId])return{...t,error:a.error,loading:!1};if(Array.isArray(a.payload.data.adAccounts)&&Array.isArray(a.payload.data.tags))return{...t,adAccountsLoading:!1,tags:{...t.tags,[a.payload.data.tagId]:{...t.tags[a.payload.data.tagId],tags:a.payload.data.tags,adAccounts:a.payload.data.adAccounts}}};return{...t,adAccountsLoading:!1};default:return t}},audienceSharing:(e,a)=>{let t=e||eT;switch(a.type){case"GET_SHARED_AUDIENCES":return{...t,audiences:{...t.audiences,sharedAudiencesLoading:!0,error:null}};case"GET_SHARED_AUDIENCES_SUCCESS":return{...t,audiences:{...t.audiences,sharedAudiences:a.data||[],sharedAudiencesLoading:!1}};case"GET_SHARED_AUDIENCES_ERROR":return{...t,audiences:{...t.audiences,sharedAudiencesLoading:!1,error:a.error}};case"GET_RECEIVED_AUDIENCES":return{...t,audiences:{...t.audiences,receivedAudiencesLoading:!0,error:null}};case"GET_RECEIVED_AUDIENCES_SUCCESS":return{...t,audiences:{...t.audiences,receivedAudiences:a.data||[],receivedAudiencesLoading:!1}};case"GET_RECEIVED_AUDIENCES_ERROR":return{...t,audiences:{...t.audiences,receivedAudiencesLoading:!1,error:a.error}};case"GET_OWNED_AUDIENCES":return{...t,audiences:{...t.audiences,ownedAudiencesLoading:!0,error:null}};case"GET_OWNED_AUDIENCES_SUCCESS":return{...t,audiences:{...t.audiences,ownedAudiences:a.data||[],ownedAudiencesLoading:!1}};case"GET_OWNED_AUDIENCES_ERROR":return{...t,audiences:{...t.audiences,ownedAudiencesLoading:!1,error:a.error}};case"SELECTED_AUDIENCE_ID":return{...t,audiences:{...t.audiences,selectedAudienceId:a.id,sharedAudiencesLoading:!1,receivedAudiencesLoading:!1}};case"GET_SHARED_AUDIENCE_ACCOUNTS":return{...t,sharedAccounts:{...t.sharedAccounts,accounts:{},loading:!0,error:null}};case"GET_SHARED_AUDIENCE_ACCOUNTS_SUCCESS":return{...t,sharedAccounts:{...t.sharedAccounts,accounts:{...t.sharedAccounts.accounts,...a.payload.data??{}},loading:!1}};case"GET_SHARED_AUDIENCE_ACCOUNTS_ERROR":return{...t,sharedAccounts:{...t.sharedAccounts,loading:!1,error:a.error}};default:return t}},updatePermissions:(e,a)=>{let t=e||eW;switch(a.type){case"UPDATE_PERMISSION":return{...t,loading:!0};case"UPDATE_PERMISSION_ERROR":return{...t,error:a.error,loading:!1};case"UPDATE_PERMISSION_SUCCESS":return{...t,loading:!1,error:void 0};case"SET_SELECTED_ID":return{...t,selectedId:"string"==typeof a.payload?.data?a.payload.data:void 0};case"SET_PREVIOUS_PERMISSIONS":return{...t,previousPermissions:a.payload?.previousPermissions};default:return t}},employees:(e,a)=>{let t=e||eg;switch(a.type){case"GET_EMPLOYEES":case"DELETE_EMPLOYEES":case"UPDATE_EMPLOYEES_ROLE":return{...t,loading:!0};case"GET_EMPLOYEES_ERROR":case"DELETE_EMPLOYEES_ERROR":case"UPDATE_EMPLOYEES_ROLE_ERROR":return{...t,error:a.error,loading:!1};case"GET_EMPLOYEES_SUCCESS":return{...t,loading:!1,employees:{...t.employees,...(Array.isArray(a.payload?.data)?a.payload.data:[]).reduce((e,a)=>("id"in a&&(e[a.id]=a),e),{})}};case"GET_EMPLOYEES_INVITES":case"ADD_EMPLOYEES_INVITES":case"DELETE_EMPLOYEES_INVITES":return{...t,invitesLoading:!0};case"GET_EMPLOYEES_INVITES_ERROR":case"ADD_EMPLOYEES_INVITES_ERROR":case"DELETE_EMPLOYEES_INVITES_ERROR":return{...t,error:a.error,invitesLoading:!1};case"GET_EMPLOYEES_INVITES_SUCCESS":let r="object"!=typeof a.payload?.data||Array.isArray(a.payload.data)?[]:a.payload.data.invites??[];return{...t,invitesLoading:!1,invites:r.reduce((e,a)=>("id"in a&&(e[a.id]=a),e),{})};case"ADD_EMPLOYEES_INVITES_SUCCESS":let s=("object"!=typeof a.payload?.data||Array.isArray(a.payload.data)?[]:a.payload.data.invites??[]).reduce((e,a)=>("id"in a&&(e[a.id]=a),e),{});return{...t,invitesLoading:!1,invites:{...s,...t.invites}};case"DELETE_EMPLOYEES_INVITES_SUCCESS":let o="string"==typeof a.payload?.data?a.payload.data:void 0;if(!o||!t.invites[o])return t;{let e={...t.invites},a={};Object.keys(e).forEach(t=>{t!==o&&(a[t]=e[t])});let r=Object.keys(a),s=r.length>0?r[0]:void 0;return{...t,loading:!1,invites:a,selectedEmployeeInviteId:s}}case"UPDATE_EMPLOYEES_ROLE_SUCCESS":let n="string"==typeof a.payload?.data?.employeeId?a.payload.data.employeeId:void 0;if(n&&t.employees[n])return{...t,loading:!1,employees:{...t.employees,[n]:{...t.employees[n],business_roles:a.payload?.data?.role?[a.payload.data.role]:[]}}};return t;case"DELETE_EMPLOYEES_SUCCESS":let i="string"==typeof a.payload?.data?a.payload.data:void 0;if(!i||!t.employees[i])return t;{let e={...t.employees},a={};Object.keys(e).forEach(t=>{t!==i&&(a[t]=e[t])});let r=Object.keys(a).length>0?Object.keys(a)[0]:void 0;return{...t,loading:!1,employees:a,selectedEmployeeId:r}}case"SELECT_EMPLOYEES":return{...t,selectedEmployeeId:"string"==typeof a.payload?.data?a.payload.data:void 0};case"SET_BUSINESS":return{...t,currentBusiness:"string"==typeof a.payload?.data?a.payload.data:void 0};case"SELECT_EMPLOYEES_INVITES":return{...t,selectedEmployeeInviteId:"string"==typeof a.payload?.data?a.payload.data:void 0};case"REFRESH_EMPLOYEE_INVITE_DATE":if(!a.payload?.data||"string"!=typeof a.payload.data||!t.invites[a.payload.data])return t;return{...t,invites:{...t.invites,[a.payload.data]:{...t.invites[a.payload.data],invite_data:{...t.invites[a.payload.data].invite_data,sent_at:Date.now()}}}};case"CLEAR_ERROR":return{...t,error:void 0};case"GET_EMPLOYEE_ROLES_SUCCESS":return{...t,assetRoles:"object"!=typeof a.payload?.data||Array.isArray(a.payload.data)?{}:a.payload.data.assetRoles??{},assetRolesLoading:!1};case"GET_EMPLOYEE_ROLES":return{...t,assetRolesLoading:!0};case"GET_EMPLOYEE_ROLES_ERROR":return{...t,assetRolesLoading:!1,assetRolesError:a.error??void 0};case"GET_EMPLOYEE_ADACCOUNTS_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId])return{...t,error:a.error,loading:!1};let{employeeId:l}=a.payload.data;if(Array.isArray(a.payload.data.adAccounts))return{...t,loading:!1,adAccountsLoading:!1,employees:{...t.employees,[l]:{...t.employees[l],adAccounts:a.payload.data.adAccounts,...{}}}};return{...t,loading:!1,adAccountsLoading:!1};case"GET_EMPLOYEE_ADACCOUNTS":case"DELETE_EMPLOYEES_ADACCOUNT":case"ADD_EMPLOYEES_ADACCOUNT":return{...t,adAccountsLoading:!0};case"GET_EMPLOYEE_ADACCOUNTS_ERROR":case"DELETE_EMPLOYEES_ADACCOUNT_ERROR":case"ADD_EMPLOYEES_ADACCOUNT_ERROR":return{...t,adAccountsLoading:!1,adAccountError:a.error??void 0};case"SET_ADACCOUNTS_TABLE_STATE":if(!a.payload?.data?.table)return{...t};return{...t,adAccountsTable:{...t.adAccountsTable,...a.payload.data.table,sortBy:a.payload.data.table.sortBy||t?.adAccountsTable.sortBy,sortDirection:a.payload.data.table.sortDirection||t?.adAccountsTable.sortDirection}};case"GET_EMPLOYEE_PROFILES_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId])return{...t,error:a.error,loading:!1};if(Array.isArray(a.payload.data.profiles))return{...t,loading:!1,profilesLoading:!1,employees:{...t.employees,[a.payload.data.employeeId]:{...t.employees[a.payload.data.employeeId],profiles:a.payload.data.profiles}}};return{...t,loading:!1,profilesLoading:!1};case"GET_EMPLOYEE_PROFILES":case"DELETE_EMPLOYEES_PROFILE":case"ADD_EMPLOYEES_PROFILE":return{...t,profilesLoading:!0};case"GET_EMPLOYEE_PROFILES_ERROR":case"DELETE_EMPLOYEES_PROFILE_ERROR":case"ADD_EMPLOYEES_PROFILE_ERROR":return{...t,profilesLoading:!1,profileError:a.error??void 0};case"ADD_EMPLOYEES_ADACCOUNT_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId])return{...t,loading:!1,adAccountsLoading:!1};let d=a.payload.data.employeeId,c=t.employees[d]?.assets_summary?t.employees[d]?.assets_summary:{ad_accounts:[],profiles:[]},_="object"==typeof a.payload.data&&!Array.isArray(a.payload.data)&&Array.isArray(a.payload.data.addedAdAccounts)?a.payload.data.addedAdAccounts:[],u=_.map(e=>({id:e.asset.id,permissions:e.permissions}));return c.ad_accounts=(c.ad_accounts||[]).concat(u),{...t,loading:!1,adAccountsLoading:!1,employees:{...t.employees,[d]:{...t.employees[d],assets_summary:c,adAccounts:t.employees[d]?.adAccounts?.concat(_)}}};case"ADD_EMPLOYEES_CATALOG_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId])return{...t,loading:!1,catalogsLoading:!1};let p="object"==typeof a.payload.data&&!Array.isArray(a.payload.data)&&Array.isArray(a.payload.data.addedCatalogs)?a.payload.data.addedCatalogs:[],E=a.payload.data.employeeId;return{...t,loading:!1,catalogsLoading:!1,employees:{...t?.employees,[E]:{...t?.employees[E],catalogs:t?.employees[E].catalogs?.concat(p)}}};case"DELETE_EMPLOYEES_ADACCOUNT_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId])return{...t,loading:!1,adAccountsLoading:!1};let S=a.payload.data.employeeId,T="object"!=typeof a.payload.data||Array.isArray(a.payload.data)?"":a.payload.data.adAccountId;if(T){let e=(t.employees[S]?.assets_summary?.ad_accounts||[]).filter(e=>e.id!==T),a=t.employees[S]?.assets_summary?t.employees[S]?.assets_summary:{ad_accounts:[],profiles:[]};return a.ad_accounts=e,{...t,loading:!1,adAccountsLoading:!1,employees:{...t.employees,[S]:{...t.employees[S],assets_summary:a,adAccounts:t.employees[S]?.adAccounts?.filter(e=>e.asset_id!==T)}}}}return{...t,loading:!1,adAccountsLoading:!1};case"UPDATE_EMPLOYEES_ADACCOUNT_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId]||!a.payload.data.adAccountId||"string"!=typeof a.payload.data.adAccountId)return{...t,loading:!1,adAccountsLoading:!1};let y=a.payload.data.employeeId,A=a.payload.data.adAccountId,R=t.employees[y]?.assets_summary?t.employees[y]?.assets_summary:{ad_accounts:[],profiles:[]},I="object"==typeof a.payload.data&&!Array.isArray(a.payload.data)&&Array.isArray(a.payload.data.permissions)?a.payload.data.permissions:[];return R.ad_accounts=(R.ad_accounts||[]).map(e=>e.id===A?{...e,permissions:I}:e),{...t,loading:!1,profilesLoading:!1,employees:{...t.employees,[y]:{...t.employees[y],assets_summary:R,adAccounts:t.employees[y]?.adAccounts?.map(e=>e.asset.id===A?{...e,permissions:I}:e)}}};case"UPDATE_EMPLOYEES_CATALOG_SUCCESS":if(!a.payload?.data||"object"!=typeof a.payload.data||!("userId"in a.payload.data)||"string"!=typeof a.payload.data.userId||!t?.employees[a.payload.data.userId]||!("catalogId"in a.payload.data)||"string"!=typeof a.payload.data.catalogId||!("permissions"in a.payload.data)||!Array.isArray(a.payload.data.permissions))return{...t,loading:!1,catalogsLoading:!1};let{catalogId:m,userId:g,permissions:C}=a.payload.data,f=t.employees[g].assets_summary?t.employees[g].assets_summary:{ad_accounts:[],profiles:[],catalogs:[]};return f.catalogs=(f.catalogs||[]).map(e=>e.id===m?{...e,permissions:C}:e),{...t,loading:!1,catalogsLoading:!1,employees:{...t.employees,[g]:{...t.employees[g],assets_summary:f,catalogs:t.employees[g].catalogs?.map(e=>e.asset.id===m?{...e,permissions:C}:e)}}};case"ADD_EMPLOYEES_PROFILE_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId])return{...t,loading:!1,adAccountsLoading:!1};let P=a.payload.data.employeeId,O=t.employees[P]?.assets_summary?t.employees[P]?.assets_summary:{ad_accounts:[],profiles:[]},N="object"==typeof a.payload.data&&!Array.isArray(a.payload.data)&&Array.isArray(a.payload.data.addedProfiles)?a.payload.data.addedProfiles:[],h=N.map(e=>({id:e.asset.id,permissions:e.permissions}));return O.profiles=(O.profiles||[]).concat(h),{...t,loading:!1,profilesLoading:!1,employees:{...t.employees,[P]:{...t.employees[P],assets_summary:O,profiles:t.employees[P]?.profiles?.concat(N)}}};case"DELETE_EMPLOYEES_PROFILE_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId])return{...t,loading:!1,adAccountsLoading:!1};let D=a.payload.data.employeeId,L="object"!=typeof a.payload.data||Array.isArray(a.payload.data)?"":a.payload.data.profileId;if(L){let e=(t.employees[D]?.assets_summary?.profiles||[]).filter(e=>e.id!==L),a=t.employees[D]?.assets_summary?t.employees[D]?.assets_summary:{ad_accounts:[],profiles:[]};return a.profiles=e,{...t,loading:!1,profilesLoading:!1,employees:{...t.employees,[D]:{...t.employees[D],assets_summary:a,profiles:t.employees[D]?.profiles?.filter(e=>e.asset_id!==L)}}}}return{...t,loading:!1,adAccountsLoading:!1};case"SET_PROFILES_TABLE_STATE":if(!a.payload?.data?.table)return{...t};return{...t,profilesTable:{...t.profilesTable,...a.payload.data.table,sortBy:a.payload.data.table.sortBy||t?.adAccountsTable.sortBy,sortDirection:a.payload.data.table.sortDirection||t?.adAccountsTable.sortDirection}};case"GET_EMPLOYEE_ASSET_GROUPS_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId])return{...t,error:a.error,loading:!1};if(Array.isArray(a.payload.data.assetGroups))return{...t,assetGroupsLoading:!1,employees:{...t.employees,[a.payload.data.employeeId]:{...t.employees[a.payload.data.employeeId],assetGroups:a.payload.data.assetGroups}}};return{...t,loading:!1,assetGroupsLoading:!1};case"GET_EMPLOYEE_ASSET_GROUPS":return{...t,assetGroupsLoading:!0};case"GET_EMPLOYEE_ASSET_GROUPS_ERROR":return{...t,assetGroupsLoading:!1,assetGroupsError:a.error??void 0};case"SET_ASSET_GROUPS_TABLE_STATE":if(!a.payload?.data?.table)return{...t};return{...t,assetGroupsTable:{...t.assetGroupsTable,...a.payload.data.table}};case"GET_EMPLOYEE_CATALOGS_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId)return{...t,error:a.error,catalogsLoading:!1};if(Array.isArray(a.payload.data.catalogs))return{...t,catalogsLoading:!1,employees:{...t.employees,[a.payload.data.employeeId]:{...t.employees[a.payload.data.employeeId],catalogs:a.payload.data.catalogs}}};return{...t,loading:!1,catalogsLoading:!1};case"GET_EMPLOYEE_CATALOGS":case"ADD_EMPLOYEES_CATALOG":case"DELETE_EMPLOYEES_CATALOG":return{...t,catalogsLoading:!0};case"ADD_EMPLOYEES_CATALOG_ERROR":case"GET_EMPLOYEE_CATALOGS_ERROR":case"DELETE_EMPLOYEES_CATALOG_ERROR":return{...t,catalogsLoading:!1,catalogError:a.error??void 0};case"DELETE_EMPLOYEES_CATALOG_SUCCESS":if(!a.payload?.data?.employeeId||"string"!=typeof a.payload.data.employeeId||!t.employees[a.payload.data.employeeId])return{...t,loading:!1,catalogsLoading:!1};let w=a.payload.data.employeeId,v="object"!=typeof a.payload.data||Array.isArray(a.payload.data)?"":a.payload.data.catalogId;if(v){let e=(t.employees[w]?.assets_summary?.catalogs||[]).filter(e=>e.id!==v),a=t.employees[w]?.assets_summary?t.employees[w]?.assets_summary:{ad_accounts:[],profiles:[],catalogs:[]};return a.catalogs=e,{...t,loading:!1,catalogsLoading:!1,employees:{...t.employees,[w]:{...t.employees[w],assets_summary:a,catalogs:t.employees[w]?.catalogs?.filter(e=>e.asset_id!==v)}}}}return{...t,loading:!1,catalogsLoading:!1};case"SET_CATALOGS_TABLE_STATE":if(!a.payload?.data?.table)return{...t};return{...t,catalogsTable:{...t.catalogsTable,...a.payload.data.table}};default:return t}},catalogs:(e=eR,a)=>{switch(a.type){case"GET_CATALOGS_ERROR":case"GET_CATALOG_ERROR":case"GET_CATALOG_INVITES_ERROR":case"GET_PARTNER_CATALOGS_ERROR":return{...e,error:a.error,loading:!1};case"GET_CATALOGS":case"GET_CATALOG":case"GET_PARTNER_CATALOGS":case"GET_CATALOG_INVITES":return{...e,loading:!0};case"GET_PARTNER_CATALOGS_SUCCESS":case"GET_CATALOGS_SUCCESS":if(!a.payload?.data||!Array.isArray(a.payload.data))return{...e,loading:!1};let t=a.payload.data;if(a.payload?.partnerType==="INTERNAL")return{...e,sharedData:t.reduce((e,a)=>({...e,[a.id]:a}),{}),loading:!1};return{...e,data:t.reduce((e,a)=>({...e,[a.id]:a}),{}),loading:!1};case"GET_CATALOG_INVITES_SUCCESS":if(!a.payload?.data||"object"!=typeof a.payload.data||!("invites"in a.payload.data)||!Array.isArray(a.payload.data.invites))return{...e,loading:!1,invites:{}};let r=a.payload.data.invites;return{...e,loading:!1,invites:r.reduce((e,a)=>({...e,[a.catalog.id]:{inviteId:a.inviteId,catalog:a.catalog,invite_data:a.invite_data}}),{})};case"GET_CATALOG_EMPLOYEES_SUCCESS":if(!a.payload?.data?.catalogId||"string"!=typeof a.payload.data.catalogId)return{...e,error:a.error,loading:!1};let{catalogId:s}=a.payload.data;if(Array.isArray(a.payload.data.employees))return{...e,loading:!1,employeesLoading:!1,data:{...e.data,[s]:{...e.data[s],employees:a.payload.data.employees,...{}}}};return{...e,loading:!1,employeesLoading:!1};case"GET_CATALOG_EMPLOYEES":return{...e,employeesLoading:!0,employeesError:void 0};case"GET_CATALOG_EMPLOYEES_ERROR":return{...e,employeesLoading:!1,employeesError:a.error??void 0};case"SET_CATALOG_EMPLOYEES_TABLE_STATE":if(!a.payload?.data?.table)return{...e};return{...e,employeesTable:{...e.employeesTable,...a.payload.data.table}};case"GET_CATALOG_PARTNERS_SUCCESS":if(!a.payload?.data?.catalogId||"string"!=typeof a.payload.data.catalogId||!e.data[a.payload.data.catalogId])return{...e,error:a.error,loading:!1};let{catalogId:o}=a.payload.data;if(Array.isArray(a.payload.data.partners))return{...e,loading:!1,partnersLoading:!1,data:{...e.data,[o]:{...e.data[o],partners:a.payload.data.partners,...{}}}};return{...e,loading:!1,partnersLoading:!1};case"GET_CATALOG_PARTNERS":return{...e,partnersLoading:!0,partnersError:void 0};case"GET_CATALOG_PARTNERS_ERROR":return{...e,partnersLoading:!1,partnersError:a.error??void 0};case"SET_CATALOG_PARTNERS_TABLE_STATE":if(!a.payload?.data?.table)return{...e};return{...e,partnersTable:{...e.partnersTable,...a.payload.data.table}};case"SET_SELECTED_CATALOG_ID":return{...e,selectedCatalogId:"string"==typeof a.payload?.data?a.payload.data:""};case"SET_SELECTED_INVITE_ID":return{...e,selectedInviteId:"string"==typeof a.payload?.data?a.payload.data:""};case"GET_CATALOG_SUCCESS":return{...e,loading:!1,data:{...e.data,...a.payload?.data??{}},error:void 0};case"UPDATE_CATALOG_PERMISSION_FOR_EMPLOYEE_SUCCESS":if(!a.payload?.data||"object"!=typeof a.payload.data||!("userId"in a.payload.data)||"string"!=typeof a.payload.data.userId||!("catalogId"in a.payload.data)||"string"!=typeof a.payload.data.catalogId||!e?.data[a.payload.data.catalogId]||!("permissions"in a.payload.data)||!Array.isArray(a.payload.data.permissions))return{...e,loading:!1};let{catalogId:n,userId:i,permissions:l}=a.payload.data;if(!e.data[n]?.employees?.find(e=>e.id===i))return{...e,loading:!1};let d=e.data[n]?.employees?.map(e=>e.id===i?{...e,permissions:l}:e);return{...e,loading:!1,error:void 0,data:{...e.data,[n]:{...e.data[n],employees:d}}};case"UPDATE_CATALOG_PERMISSION_FOR_PARTNER_SUCCESS":if(!a.payload?.data||"object"!=typeof a.payload.data||!("userId"in a.payload.data)||"string"!=typeof a.payload.data.userId||!("catalogId"in a.payload.data)||"string"!=typeof a.payload.data.catalogId||!e.data[a.payload.data.catalogId]||!("permissions"in a.payload.data)||!Array.isArray(a.payload.data.permissions))return{...e,loading:!1};let{catalogId:c,userId:_,permissions:u}=a.payload.data;if(!e.data[c]?.partners?.find(e=>e.id===_))return{...e,loading:!1};let p=e.data[c]?.partners?.map(e=>e.id===_?{...e,permissions:u}:e);return{...e,loading:!1,error:void 0,data:{...e.data,[c]:{...e.data[c],partners:p}}};case"UPDATE_CATALOG_PERMISSIONS_SUCCESS":if(!a.payload?.data||"object"!=typeof a.payload.data||!("catalogId"in a.payload.data)||"string"!=typeof a.payload.data.catalogId||!e.data[a.payload.data.catalogId]||!("permissions"in a.payload.data)||!Array.isArray(a.payload.data.permissions))return{...e,loading:!1};let{catalogId:E,permissions:S}=a.payload.data;return{...e,loading:!1,error:void 0,data:{...e.data,[E]:{...e.data[E],permissions:S}}};case"GET_CATALOG_OWNERS_AS_PARTNERS":return{...e,catalogOwnersLoading:!0,catalogOwnersError:void 0};case"GET_CATALOG_OWNERS_AS_PARTNERS_ERROR":return{...e,catalogOwnersLoading:!1,catalogOwnersError:a.error??void 0};case"GET_CATALOG_OWNERS_AS_PARTNERS_SUCCESS":if(!a.payload?.data||"object"!=typeof a.payload.data)return{...e,catalogOwnersLoading:!1};let T=a.payload.data;return{...e,catalogOwnersLoading:!1,catalogOwnersError:void 0,catalogOwners:{...e.catalogOwners,...T}};default:return e}},systemUsers:(e,a)=>{switch(e=e||eH,a.type){case"GET_SYSTEM_USERS":case"GET_APP_SYSTEM_USERS":case"GET_PROFILE_DETAIL_SYSTEM_USERS":case"GET_AD_ACCOUNT_SYSTEM_USERS":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_SYSTEM_USER":return{...e,loading:!0};case"GET_SYSTEM_USERS_AD_ACCOUNTS":return{...e,adAccountLoading:!0};case"GET_SYSTEM_USERS_PROFILES":case"ADD_SYSTEM_USERS_PROFILE":case"DELETE_SYSTEM_USERS_PROFILE":return{...e,profilesLoading:!0};case"GET_SYSTEM_USERS_APPS":return{...e,appsLoading:!0};case"GET_SYSTEM_USERS_CATALOGS":return{...e,catalogsLoading:!0};case"GET_SYSTEM_USER_ASSET_GROUPS":return{...e,assetGroupsLoading:!0};case"GET_SYSTEM_USERS_ERROR":case"GET_APP_SYSTEM_USERS_ERROR":case"GET_PROFILE_DETAIL_SYSTEM_USERS_ERROR":case"GET_AD_ACCOUNT_SYSTEM_USERS_ERROR":case"GET_SYSTEM_USERS_AD_ACCOUNTS_ERROR":case"GET_SYSTEM_USERS_PROFILES_ERROR":case"GET_SYSTEM_USERS_APPS_ERROR":case"GET_SYSTEM_USERS_CATALOGS_ERROR":case"GET_SYSTEM_USER_ASSET_GROUPS_ERROR":case"ADD_SYSTEM_USERS_PROFILE_ERROR":case"DELETE_SYSTEM_USERS_PROFILE_ERROR":case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_SYSTEM_USER_ERROR":return{...e,error:a.error,loading:!1,adAccountLoading:!1,profilesLoading:!1,appsLoading:!1,catalogsLoading:!1};case"GET_APP_SYSTEM_USERS_SUCCESS":return{...e,loading:!1,data:a.payload?.data||[]};case"GET_PROFILE_DETAIL_SYSTEM_USERS_SUCCESS":return{...e,loading:!1,error:void 0,systemUsers:{...e.systemUsers,...a.payload?.data?Object.entries(a.payload.data).reduce((e,[a,t])=>({...e,[a]:t}),{}):{}}};case"ADD_SYSTEM_USERS_PROFILE_SUCCESS":if(!a.payload?.selectedSystemId||"string"!=typeof a.payload.selectedSystemId||!e.systemUsers[a.payload.selectedSystemId])return{...e,loading:!1,profilesLoading:!1};let t=a.payload.selectedSystemId,r=(e.systemUsers[t]??{}).assets_summary||{ad_accounts:[],profiles:[]},s=("object"==typeof a.payload.data&&!Array.isArray(a.payload.data)&&Array.isArray(a.payload.assets)?a.payload.assets:[]).map(e=>({id:e.asset.id,permissions:e.permissions}));return r.profiles=(r.profiles||[]).concat(s),{...e,loading:!1,profilesLoading:!1,systemUsers:{...e.systemUsers,[t]:{...e.systemUsers[t],assets_summary:r}}};case"DELETE_SYSTEM_USERS_PROFILE_SUCCESS":if(!a.payload?.selectedSystemId||"string"!=typeof a.payload.selectedSystemId||!e.systemUsers[a.payload.selectedSystemId])return{...e,loading:!1,profilesLoading:!1};let o=a.payload.selectedSystemId,n="object"!=typeof a.payload.data||Array.isArray(a.payload.data)?"":a.payload.assetId;if(n){let a=(e.systemUsers[o]?.assets_summary?.profiles||[]).filter(e=>e.id!==n),t=e.systemUsers[o]?.assets_summary?e.systemUsers[o].assets_summary:{ad_accounts:[],profiles:[]};return t.profiles=a,{...e,loading:!1,profilesLoading:!1,systemUsers:{...e.systemUsers,[o]:{...e.systemUsers[o],assets_summary:t}}}}return{...e,loading:!1,profilesLoading:!1};case"GET_SYSTEM_USERS_SUCCESS":if(!a.payload?.systemUsers)return{...e,loading:!1};let i=a.payload?.selectedSystemId?{selectedSystemId:a.payload.selectedSystemId}:{};return{...e,...i,loading:!1,systemUsers:{...e?.systemUsers?e.systemUsers:{},...(Array.isArray(a.payload?.systemUsers)?a.payload.systemUsers:[]).reduce((e,a)=>("id"in a&&a.id&&(e[a.id]=a),e),{})}};case"GET_SYSTEM_USERS_AD_ACCOUNTS_SUCCESS":if(!a.payload?.getAdAccount)return{...e,loading:!1};return{...e,adAccountLoading:!1,adAccounts:a.payload.getAdAccount.adAccounts,systemUsers:{...e?.systemUsers?e.systemUsers:{},[a.payload.getAdAccount.systemUserId]:{...e.systemUsers[a.payload.getAdAccount.systemUserId],assets_summary:{...e.systemUsers[a.payload.getAdAccount.systemUserId]?.assets_summary,ad_accounts:a.payload.getAdAccount.adAccountSummary}}}};case"GET_SYSTEM_USERS_PROFILES_SUCCESS":if(!a.payload?.getProfiles)return{...e,loading:!1};return{...e,profilesLoading:!1,profiles:a.payload.getProfiles.profiles,systemUsers:{...e?.systemUsers?e.systemUsers:{},[a.payload.getProfiles.systemUserId]:{...e.systemUsers[a.payload.getProfiles.systemUserId],assets_summary:{...e.systemUsers[a.payload.getProfiles.systemUserId]?.assets_summary,profiles:a.payload.getProfiles.profilesSummary}}}};case"GET_SYSTEM_USERS_CATALOGS_SUCCESS":if(!a.payload?.assets)return{...e,loading:!1};return{...e,catalogsLoading:!1,catalogs:a.payload.assets};case"GET_SYSTEM_USERS_APPS_SUCCESS":if(!a.payload?.assets)return{...e,loading:!1};return{...e,appsLoading:!1,systemApps:a.payload.assets};case"GET_SYSTEM_USER_ASSET_GROUPS_SUCCESS":if(!a.payload?.assets)return{...e,loading:!1};return{...e,assetGroupsLoading:!1,assetGroups:a.payload.assets};case"GET_AD_ACCOUNT_SYSTEM_USERS_SUCCESS":return{...e,loading:!1,error:void 0,systemUsers:{...e.systemUsers,...Object.entries(a.payload?.systemUsersDict||{}).filter(([e,a])=>void 0!==a).reduce((e,[a,t])=>({...e,[a]:t}),{})}};case"SET_SYSTEM_USERS_TABLE_STATE":if(!a.payload?.table)return e;return{...e,table:{...e.table,...a.payload.table,sortBy:a.payload.table.sortBy||e?.table.sortBy,sortDirection:a.payload.table.sortDirection||e?.table.sortDirection}};case"UPDATE_SYSTEM_USER_ADACCOUNT_SUCCESS":if(!a.payload?.adAccountUpdate?.adAccountId)return e;let{adAccountId:l,permissions:d}=a.payload.adAccountUpdate;return{...e,adAccounts:e.adAccounts.map(e=>e.asset_id===l?{...e,permissions:d}:e)??[]};case"UPDATE_SYSTEM_USER_CATALOG_SUCCESS":if(!a.payload?.catalogUpdate?.catalogId)return e;let{catalogId:c,permissions:_}=a.payload.catalogUpdate;return{...e,catalogs:e.catalogs.map(e=>e.asset_id===c?{...e,permissions:_}:e)??[]};case"UPDATE_AD_ACCOUNT_PERMISSION_FOR_SYSTEM_USER_SUCCESS":if(!a.payload?.userId||"string"!=typeof a.payload.userId||!e.systemUsers[a.payload.userId]||!a.payload.adAccountId||!a.payload.userId||!a.payload.permissions)return{...e,error:a.error,loading:!1};return{...e,loading:!1,error:void 0,systemUsers:{...e.systemUsers,[a.payload.userId]:{...e.systemUsers[a.payload.userId],permissions:a.payload.permissions}}};case"SET_AD_ACCOUNTS_TABLE_STATE":if(!a.payload?.table)return e;return{...e,adAccountTable:{...e.table,...a.payload.table,sortBy:a.payload.table.sortBy||e?.table.sortBy,sortDirection:a.payload.table.sortDirection||e?.table.sortDirection}};case"SET_SELECTED_SYSTEM_ID":if(!a.payload?.selectedSystemId)return e;return{...e,selectedSystemId:a.payload.selectedSystemId};case"SET_PROFILES_TABLE_STATE":if(!a.payload?.table)return e;return{...e,profilesTable:{...e.table,...a.payload.table,sortBy:a.payload.table.sortBy||e?.table.sortBy,sortDirection:a.payload.table.sortDirection||e?.table.sortDirection}};case"SET_APPS_TABLE_STATE":if(!a.payload?.table)return e;return{...e,appsTable:{...e.table,...a.payload.table,sortBy:a.payload.table.sortBy||e?.table.sortBy,sortDirection:a.payload.table.sortDirection||e?.table.sortDirection}};case"REMOVE_SYSTEM_USER_APP":return{...e,systemApps:e.systemApps.filter(e=>e.asset_id!==a.payload?.removeSystemUserAsset?.assetId)};case"REMOVE_SYSTEM_USER_CATALOG":if(!a.payload?.removeSystemUserAsset)return e;return{...e,systemUsers:{...e?.systemUsers?e.systemUsers:{},[a.payload.removeSystemUserAsset.systemUserId]:{...e.systemUsers[a.payload.removeSystemUserAsset.systemUserId],assets_summary:{...e.systemUsers[a.payload.removeSystemUserAsset.systemUserId]?.assets_summary,catalogs:e.systemUsers[a.payload.removeSystemUserAsset.systemUserId]?.assets_summary?.catalogs?.filter(e=>e.id!==a.payload?.removeSystemUserAsset?.assetId)??[]}}},catalogs:e.catalogs.filter(e=>e.asset_id!==a.payload?.removeSystemUserAsset?.assetId)};case"REMOVE_SYSTEM_USER_PROFILE":if(!a.payload?.removeSystemUserAsset)return e;return{...e,systemUsers:{...e?.systemUsers?e.systemUsers:{},[a.payload.removeSystemUserAsset.systemUserId]:{...e.systemUsers[a.payload.removeSystemUserAsset.systemUserId],assets_summary:{...e.systemUsers[a.payload.removeSystemUserAsset.systemUserId]?.assets_summary,profiles:e.systemUsers[a.payload.removeSystemUserAsset.systemUserId]?.assets_summary?.profiles?.filter(e=>e.id!==a.payload?.removeSystemUserAsset?.assetId)??[]}}},profiles:e.profiles.filter(e=>e.asset_id!==a.payload?.removeSystemUserAsset?.assetId)};case"REMOVE_SYSTEM_USER_AD_ACCOUNT":if(!a.payload?.removeSystemUserAsset)return e;return{...e,systemUsers:{...e?.systemUsers?e.systemUsers:{},[a.payload.removeSystemUserAsset.systemUserId]:{...e.systemUsers[a.payload.removeSystemUserAsset.systemUserId],assets_summary:{...e.systemUsers[a.payload.removeSystemUserAsset.systemUserId]?.assets_summary,ad_accounts:e.systemUsers[a.payload.removeSystemUserAsset.systemUserId]?.assets_summary?.ad_accounts?.filter(e=>e.id!==a.payload?.removeSystemUserAsset?.assetId)??[]}}},adAccounts:e.adAccounts.filter(e=>e.asset_id!==a.payload?.removeSystemUserAsset?.assetId)};case"SET_CATALOGS_TABLE_STATE":if(!a.payload?.table)return e;return{...e,catalogsTable:{...e.table,...a.payload.table,sortBy:a.payload.table.sortBy||e?.table.sortBy,sortDirection:a.payload.table.sortDirection||e?.table.sortDirection}};case"SET_ASSET_GROUPS_TABLE_STATE":if(!a.payload?.table)return e;return{...e,assetGroupsTable:{...a.payload.table,sortBy:a.payload.table.sortBy||e?.assetGroupsTable.sortBy,sortDirection:a.payload.table.sortDirection||e?.assetGroupsTable.sortDirection}};default:return e}},apps:(e,a)=>{switch(e=e||eE,a.type){case"GET_APPS":return{...e,loading:!0};case"GET_APPS_ERROR":return{...e,error:a.error,loading:!1};case"GET_APPS_SUCCESS":return{...e,loading:!1,data:a.payload?.data||[]};case"SELECT_APP":return{...e,selectedAppId:"string"==typeof a.payload?.data?a.payload.data:void 0};case"REFRESH_ACCESS_TOKEN":return{...e,refreshToken:{...e.refreshToken,loading:!0}};case"REFRESH_ACCESS_TOKEN_ERROR":return{...e,refreshToken:{...e.refreshToken,error:a.error,loading:!1}};case"REFRESH_ACCESS_TOKEN_SUCCESS":return{...e,refreshToken:{...e.refreshToken,loading:!1,data:a.payload?.data}};case"CLEAR_REFRESH_TOKEN":return{...e,refreshToken:{data:void 0,loading:!1,error:void 0}};case"UPDATE_APP_DATA":return{...e,data:e.data.map(e=>e.id===a.payload?.data.id?{...e,...a.payload?.data}:e)};default:return e}},conversionSegments:(e=em,a)=>{switch(a.type){case"GET_CONVERSION_SEGMENTS":case"GET_PARTNER_CONVERSION_SEGMENTS":return{...e,loading:!0};case"REVOKE_PARTNER_ACCESS":case"UPDATE_PARTNER_ACCESS":case"REMOVE_CONVERSION_SEGMENT":case"GET_CONVERSION_SEGMENT_PARTNER":return{...e,mainPanelLoading:!0};case"GET_CONVERSION_SEGMENTS_AD_ACCOUNTS":return{...e,adAccountLoading:!0,adAccounts:[]};case"GET_CONVERSION_SEGMENTS_ERROR":case"GET_CONVERSION_SEGMENTS_AD_ACCOUNTS_ERROR":case"GET_CONVERSION_TYPES_ERROR":case"GET_CONVERSION_SEGMENT_PARTNER_ERROR":case"UPDATE_PARTNER_ACCESS_ERROR":case"REVOKE_PARTNER_ACCESS_ERROR":case"REMOVE_CONVERSION_SEGMENT_ERROR":case"GET_PARTNER_CONVERSION_SEGMENTS_ERROR":return{...e,error:a.error??void 0,loading:!1,adAccountLoading:!1,conversionTypeLoading:!1,mainPanelLoading:!1};case"GET_PARTNER_CONVERSION_SEGMENTS_SUCCESS":return{...e,loading:!1,sharedData:a.payload?.data||[]};case"GET_CONVERSION_SEGMENTS_SUCCESS":return{...e,loading:!1,data:a.payload?.data||[]};case"SET_SELECTED_CONVERSION_ID":if(!a.payload?.selectedConversionId)return{...e,loading:!1};return{...e,selectedConversionId:a.payload.selectedConversionId,adAccountLoading:!0,adAccounts:[]};case"SET_CONVERSION_SEGMENTS_TABLE_STATE":if(!a.payload?.data)return{...e,loading:!1};return{...e,table:{...e.table,...a.payload.data.table,sortBy:a.payload.data.table.sortBy||e?.table.sortBy,sortDirection:a.payload.data.table.sortDirection||e?.table.sortDirection}};case"GET_CONVERSION_SEGMENTS_AD_ACCOUNTS_SUCCESS":if(!a.payload?.adAccounts)return{...e,loading:!1,adAccountLoading:!1,adAccounts:[]};return{...e,loading:!1,adAccountLoading:!1,adAccounts:a.payload.adAccounts};case"GET_CONVERSION_TYPES_SUCCESS":if(!a.payload?.conversionTypes)return{...e,loading:!1};return{...e,loading:!1,conversionTypeLoading:!1,conversionTypes:a.payload.conversionTypes};case"GET_CONVERSION_SEGMENT_PARTNER_SUCCESS":if(!a.payload?.partner)return{...e,mainPanelLoading:!1};return{...e,mainPanelLoading:!1,data:e.data.map(e=>e.id===a.payload.conversionId?{...e,partner:a.payload.partner,retargetingEnabled:a.payload.partner?.permissions.includes("BIZ_CONVERSION_SEGMENT_SHARER")||!1}:e)};case"UPDATE_PARTNER_ACCESS_SUCCESS":return!a.payload?.conversionId||!a.payload?.partnerId,{...e,mainPanelLoading:!1};case"REVOKE_PARTNER_ACCESS_SUCCESS":if(!a.payload?.conversionId)return{...e,mainPanelLoading:!1};return{...e,mainPanelLoading:!1,data:e.data.map(e=>e.id===a.payload.conversionId?{...e,partner:void 0,retargetingEnabled:!1}:e)};case"REMOVE_CONVERSION_SEGMENT_SUCCESS":return{...e,mainPanelLoading:!1,data:e.data.filter(e=>e.id!==a.payload?.conversionId),sharedData:e.sharedData?.filter(e=>e.id!==a.payload?.conversionId)};default:return e}},rmnHub:eV,contracts:(e=eI,a)=>{switch(a.type){case"GET_CONTRACT_HISTORY":return{...e,loading:!0};case"GET_CONTRACT_HISTORY_SUCCESS":return{...e,loading:!1,data:a.payload??[]};case"GET_CONTRACT_HISTORY_ERROR":return{...e,loading:!1,error:a.error};default:return e}}});var ez=t(3882);let eJ=(0,ez.A)("articles",(e={})=>e),eQ=(e={businessInformationForm:{},billingInformationForm:{},autoFillQPBillingChecked:!0},a)=>"STERLING_UPDATE_BUSINESS_INFORMATION_FORM"===a.type||"STERLING_UPDATE_BILLING_INFORMATION_FORM"===a.type?{...e,[a.formName]:{...e?.[a.formName]??{},...a.values}}:e;var eX=t(571123);let eZ=["BoardsResource","BoardFollowingResource","SearchResource"],e0=(e,a)=>({...e,[a.id]:e[a.id]?{type:"board",...e[a.id],...a}:{type:"board",...a}});function e1(e,a){switch(a.type){case Q.v6:case Q.LB:{let{resource:t}=a.payload,{data:r}=a.payload.response.resource_response;if("BoardResource"===t||"BoardPageResource"===t){let t=(e=>{let{options:a={}}=e.payload,{data:t}=e.payload.response.resource_response;return e.type===Q.v6&&a.slug&&!t?.url?.includes(a.slug)?{oldSlugUrl:`/${a.username}/${(0,eX.E)(a.slug)}/`}:{}})(a);return{...e,...t,...r||{},cover_images:{...e.cover_images,...(r||{}).cover_images},images:{...e.images,...(r||{}).images}}}if("BoardSectionResource"===t)return{...e,...r?.board||{},cover_images:{...e.cover_images,...r?.board?.cover_images||{}},images:{...e.images,...r?.board?.images||{}}};if(a.type===Q.v6&&"ApiResource"===t)return((e,a)=>{let{response:t}=a.payload,r=t.resource_response.data;return r?.length?{...e,related_interest_ids:r.map(e=>e.id)}:e})(e,a);return e}case"BOARD_CREATE_COMPLETE":{let{board:t}=a.payload;return{...e,...t}}case"BOARD_UPDATE_COMPLETE":{let{board:t}=a.payload;return{...e,...t,sensitivity:t.sensitivity}}case"BOARD_PIN_COUNT_CHANGED":{let{pin_count:t,sectionless_pin_count:r}=e||{},{sectionId:s}=a.payload,o="BOARD_PIN_COUNT_CHANGED"===a.type?a.payload.increment:1;return{...e,pin_count:"number"==typeof t?Math.max(0,t+o):t,sectionless_pin_count:s||"number"!=typeof r?r:Math.max(0,r+o)}}case"USER_FOLLOW":{let{id:t,value:r}=a.payload;if(!e.owner||t!==e.owner.id)return e;return{...e,followed_by_me:r}}case"BOARD_FOLLOW":{let{boardId:t,value:r}=a.payload;return{...e,id:t,followed_by_me:r}}case"BOARD_OWNERSHIP_TRANSFER_REQUEST":{let{collaboratorId:t}=a.payload;return{...e,pending_ownership_transfer:t}}case"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL":return{...e,pending_ownership_transfer:null};case"BOARD_DISMISS_SENSITIVITY_SCREEN":return{...e,sensitivity_screen:{reason:null,show_warning:!1}};case"BOARD_INVITE_ACCEPTED_BY_VIEWER":{let{collaborator_count:t,collaborating_users:r}=e||{},{boardId:s,collaboratingUser:o}=a.payload;return{...e,id:s,access:["write"],collaborated_by_me:!0,is_collaborative:!0,collaborator_count:"number"==typeof t?t+1:0,...o?{collaborating_users:(r||[]).concat(o)}:Object.freeze({})}}case"BOARD_REQUEST_TO_JOIN":{let{boardId:t,value:r}=a.payload;return{...e,id:t,viewer_collaborator_join_requested:r}}case"BOARD_ARCHIVE":return{...e,archived_by_me_at:new Date().toString()};case"BOARD_UNARCHIVE":{let{boardId:t}=a.payload;return{...e,id:t,archived_by_me_at:void 0}}case"BOARD_COVER_IMAGE_UPDATED":{let{boardId:t,coverPin:r}=a.payload;return{...e,id:t,cover_pin:r}}case"BOARD_DISABLE_MORE_IDEAS_BADGING":return{...e,has_fresh_more_ideas_tab:!1};case"SECTION_ADDED":{let{section_count:a}=e||{};return{...e,section_count:(a||0)+1}}case"SECTION_DELETED":{let{section_count:a}=e||{};return{...e,section_count:(a||1)-1}}case"PIN_ADD":{let{pin_count:a}=e||{};return{...e,pin_count:(a??0)+1}}case"PIN_DELETE":{let{pin_count:a}=e||{};return{...e,pin_count:(a??0)-1}}case"BOARD_SECTION_DELETE":{let{pinCount:t}=a.payload,r=e.section_count||0;return{...e,section_count:Math.max(r-1,0),pin_count:(e.pin_count??0)-t}}case"CREATE_COMPLETE":{let{section_count:a}=e||{};return{...e,section_count:(a||0)+1}}default:return e}}let e2=(e,a,t,r)=>a===t?e:{...e,...a&&e[a]?{[a]:{...e[a],pin_count:Math.max(0,(e[a].pin_count??0)-r)}}:{},...t&&e[t]?{[t]:{...e[t],pin_count:(e[t].pin_count||0)+r}}:{}},e3=(0,ez.A)("boards",(e,a)=>{switch(e=e||{},a.type){case Q.v6:case Q.LB:{let{options:t,resource:r}=a.payload,{data:s}=a.payload.response.resource_response;if((eZ.includes(r)||"ApiResource"===r&&t?.url==="/v3/users/me/boards/archived/")&&s){let a=s||[],t={...e};return a.forEach(e=>{e.type&&"board"!==e.type||(t[e.id]={...t[e.id],...e})}),t}if("BoardResource"===r||"BoardPageResource"===r){let r=t?.board_id||(s||{}).id;if(r)return{...e,[r]:e1(e[r]||s||{},a)}}else if("BoardSectionResource"===r){let t=s?.board?.id;if(t)return{...e,[t]:e1(e[t]||s.board,a)}}else if("ApiResource"===r&&a.payload.options?.url?.match(/\/v3\/boards\/([0-9]|[a-z]|[A-Z])+\/interests\//)){let{options:t}=a.payload,r=t?.url?.split("/")?.[3];if(r&&e[r])return{...e,[r]:e1(e[r],a)}}return e}case"BOARD_CREATE_COMPLETE":{let{board:t}=a.payload;if(t&&t.id)return{...e,[t.id]:e1(e[t.id]||{type:"board",...t},a)};return e}case"BOARD_UPDATE_COMPLETE":{let{board:t}=a.payload;if(t&&t.id&&e[t.id])return{...e,[t.id]:e1(e[t.id],a)};return e}case"BOARD_ARCHIVE":case"BOARD_COVER_IMAGE_UPDATED":case"BOARD_DISABLE_MORE_IDEAS_BADGING":case"BOARD_DISMISS_SENSITIVITY_SCREEN":case"BOARD_FOLLOW":case"BOARD_SECTION_DELETE":case"BOARD_INVITE_ACCEPTED_BY_VIEWER":case"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL":case"BOARD_OWNERSHIP_TRANSFER_REQUEST":case"BOARD_PIN_COUNT_CHANGED":case"BOARD_REQUEST_TO_JOIN":case"BOARD_UNARCHIVE":case"PIN_ADD":case"PIN_DELETE":case"SECTION_ADDED":case"SECTION_DELETED":let{boardId:t}=a.payload;if(t&&e[t])return{...e,[t]:e1(e[t],a)};return e;case"USER_FOLLOW":{let{id:t}=a.payload,r=Object.keys(e).filter(a=>e[a]?.owner&&e[a].owner.id===t).reduce((t,r)=>(e[r]&&(t[r]=e1(e[r],a)),t),{});return{...e,...r}}case"BOARD_DELETE":return((e,a)=>{let{boardId:t}=a.payload;if(!t)return e;let{[t]:r,...s}=e;return s})(e,a);case"USER_BLOCK":return((e,{payload:{id:a,value:t}})=>{if(!t)return e;let r=Object.keys(e).filter(t=>e[t].owner&&e[t].owner.id===a);if(!r.length)return e;let s=r.reduce((a,t)=>{let r=e[t];return a[t]={...r,followed_by_me:!1},a},{});return{...e,...s}})(e,a);case"PIN_EDIT":return((e,a)=>{let{boardId:t,source:{boardId:r}}=a.payload;return e2(e,r,t,1)})(e,a);case"PINS_MOVE":return((e,a)=>{let{pinIds:t,source:{boardId:r},target:{boardId:s}}=a.payload;return r===s?e:e2(e,r,s,t.length)})(e,a);case"PINS_MOVE_ALL":default:return e;case"CREATE_COMPLETE":{let{resource:t,normalizedResponse:r,response:s}=a.payload;if("BoardSectionResource"===t&&r){let{result:t,entities:{boardsections:s}}=r,o=s?.[t].board;if(o&&e[o])return{...e,[o]:e1(e[o],a)}}else if("BoardResource"===t&&s){let{id:a}=s.resource_response.data;return{...e,[a]:s.resource_response.data}}return e}case"BOARD_INVITE_APPROVED_BY_VIEWER":return((e,{payload:{boardId:a,collaboratingUser:t}})=>{let r=e[a];return e0(e,{id:a,collaborating_users:t?(r.collaborating_users||[]).concat(t):r.collaborating_users||[]})})(e,a);case"BOARD_COLLABORATOR_DELETE":return((e,{payload:{userId:a,boardId:t,viewingUser:r}})=>{let s=e[t],o=s.collaborating_users?s.collaborating_users.findIndex(e=>e.id===a):-1;return e0(e,{id:t,...s.collaborator_count?{collaborator_count:s.collaborator_count-1}:Object.freeze({}),...s.collaborated_by_me?{collaborated_by_me:r!==a&&s.collaborated_by_me}:Object.freeze({}),...s.access&&{access:r===a?[]:s.access},...o>-1?{collaborating_users:(s.collaborating_users??[]).filter((e,a)=>a!==o)}:Object.freeze({})})})(e,a);case"BOARD_COLLABORATOR_ADD":return((e,{payload:{boardId:a,viewingUser:t,status:r,collaboratingUsers:s}})=>{let o=e[a],n=s.map(e=>e?.id).filter(Boolean),i=s.filter(e=>!!e);return"accepted"===r?e0(e,{id:a,...o.collaborator_count||0===o.collaborator_count?{collaborator_count:o.collaborator_count+n.length}:{},...o.collaborated_by_me||!1===o.collaborated_by_me?{collaborated_by_me:o.collaborated_by_me||n.includes(t)}:{},...o.access&&{access:n.includes(t)?["write","delete"]:o.access},...o.collaborating_users&&{collaborating_users:[...o.collaborating_users??[],...i??[]]}}):e})(e,a)}}),e6=(e,a)=>({...e,[a.id]:{...a&&e[a.id]||{},...a}}),e4=(e,a,t,r)=>a===t?e:{...e,...a&&e[a]?{[a]:{...e[a],pin_count:Math.max(0,(e[a].pin_count??0)-r)}}:{},...t&&e[t]?{[t]:{...e[t],pin_count:(e[t].pin_count||0)+r}}:{}},e7=e=>e?.type==="board_section"?{...e,type:"boardsection"}:e,e5=(0,ez.A)("boardsections",(e,a)=>{switch(e=e||{},a.type){case Q.v6:case Q.LB:let{resource:t,normalizedResponse:r}=a.payload;if(!r){let{data:r}=a.payload.response.resource_response;if("BoardSectionsResource"===t){let a=(r||[]).reduce((a,t)=>(a[t.id]={...e[t.id],...e7(t)},a),{});return{...e,...a}}if("BoardSectionResource"===t&&r)return{...e,[r.id]:{...e[r.id],...e7(r)}}}return e;case"SECTION_ADDED":let{payload:{section:s}}=a;if(s.id)return{...e,[s.id]:s};return e;case"SECTION_DELETED":let{payload:{sectionId:o}}=a,n={...e};return delete n[o],n;case"SECTION_UPDATED":return((e,a)=>{let{payload:{section:t}}=a;return t.id?{...e,[t.id]:{...e[t.id],...t}}:e})(e,a);case"BOARD_PIN_COUNT_CHANGED":return((e,a)=>{let{payload:{sectionId:t,increment:r}}=a;if(!t)return e;let s=e[t];return s?{...e,[t]:{...s,pin_count:s.pin_count?Math.max(0,s.pin_count+r):r}}:e})(e,a);case"BOARD_SECTION_EDIT":return((e,{payload:a})=>e6(e,a))(e,a);case"PIN_ADD":return((e,a)=>{let{boardSectionId:t}=a.payload;return t&&e[t]?e6(e,{id:t,pin_count:(e[t].pin_count??0)+1}):e})(e,a);case"PIN_DELETE":return((e,a)=>{let{boardSectionId:t}=a.payload;return t&&e[t]?e6(e,{id:t,pin_count:(e[t].pin_count??0)-1}):e})(e,a);case"PIN_EDIT":return((e,a)=>{let{sectionId:t,source:r}=a.payload;return e4(e,r&&r.sectionId||null,t,1)})(e,a);case"PINS_MOVE":return((e,a)=>{let{pinIds:t,source:{sectionId:r},target:{sectionId:s}}=a.payload;return e4(e,r,s,t.length)})(e,a);default:return e}}),e9={currentStep:{index:0,canProceed:!1},businessGoals:[],businessName:"",businessVertical:"",numberEmployees:"",hasWebsite:"",website:"",country:"",locale:"",advertisingIntent:null,accountType:"",agencyRole:"",agencyClients:"",agencyContent:"",agencyService:"",agencyServiceOther:"",firstName:"",lastName:"",fullName:"",email:"",countryCode:"",phoneNumber:"",worksWithAgency:null,leadId:"",whatsAppConsent:!1,calendlyUpsellEligible:!1,shouldShowCalendlyModal:!1,businessSettingsUtmsEnabled:!0};function e8(e,a){switch(e=e||e9,a.type){case"UPDATE_BIZ_NUX_FIELD":return{...e,[a.field]:a.value,currentStep:{...e.currentStep}};case"SET_BIZ_NUX_STEP":return{...e,currentStep:{...e.currentStep,index:a.indexValue}};case"INCREMENT_BIZ_NUX_STEP":return{...e,currentStep:{...e.currentStep,index:e.currentStep.index+1}};case"DECREMENT_BIZ_NUX_STEP":return{...e,currentStep:{...e.currentStep,index:e.currentStep.index-1}};case"UPDATE_BIZ_NUX_CAN_PROCEED":return{...e,currentStep:{...e.currentStep,canProceed:a.value}};default:return e}}let ae={experience:void 0,newPin:void 0,originalPinId:void 0,shouldOpenModal:!1},aa=(e,a)=>{if(e=e||ae,"OPEN_CHANGE_MODAL"===a.type){let{experience:t,newPin:r,originalPinId:s,showChangeBoardModal:o}=a.payload;if(r)return{...e,experience:t,newPin:r,originalPinId:s,shouldOpenModal:o}}else if("CLOSE_CHANGE_MODAL"===a.type){let{showChangeBoardModal:t}=a.payload;return{...e,shouldOpenModal:t}}else if("CLEAR_BOARD_EDU_EXPERIENCE"===a.type){let{experience:t}=a.payload;if(e.experience?.id===t.id)return{...e,experience:void 0}}return e},at=(0,ez.A)("contactrequests",(e,a)=>{switch(e=e||{},a.type){case Q.v6:let{payload:{normalizedResponse:t,resource:r,options:s}}=a;if("ApiResource"===r&&s?.url==="/v3/users/contact_requests/"&&t)return{...t.entities.contactrequests};return e;case"UPDATE_CONTACT_REQUEST_STATUS":let{contactRequestId:o,hasDeclined:n,hasBlocked:i}=a.payload;if(o)return{...e,[o]:{...e[o],hasDeclined:n,hasBlocked:i}};return e;case"REMOVE_CONTACT_REQUESTS":let{contactRequestIds:l}=a.payload;return Object.keys(e).reduce((a,t)=>(l.includes(t)||(a[t]=e[t]),a),{});default:return e}}),ar={};function as(e,a){if(e=e||ar,"SEARCH_QUERY_STARTED"===a.type){let{query:t}=a.payload;if(!e[t]||"valid"===e[t].status){let a=e[t]&&e[t].pinIds||[];return{...e,[t]:{...e[t],status:"valid",pinIds:a}}}}else if("SEARCH_PIN_CLOSEUP_VIEWED"===a.type){let{pinId:t,query:r}=a.payload;if(e[r]&&"valid"===e[r].status){let a=e[r].pinIds||[];return{...e,[r]:{...e[r],pinIds:a.concat(t)}}}}else if("SEARCH_QUERY_INVALIDATED"===a.type)return{...e,[a.payload.query]:{status:"invalid"}};return e}var ao=t(855512);let an=e=>e||[],ai={BaseSearchResource:e=>e?e.results:[],BoardFeedResource:an,BoardSectionPinsResource:an,BoardContentRecommendationResource:an,TodayArticleFeedResource:e=>Array.isArray(e)?e.filter(e=>"story"===e.type).map(({user:e,...a})=>e?{...a,user:e.id}:a):e||[],TodayTabResource:an},al=(e,a)=>{if(e=e||{},a.type===Q.v6||a.type===Q.LB){let{resource:t}=a.payload,{data:r}=a.payload.response.resource_response;if(t in ai){let a=ai[t](r)||[],s={...e};return a.forEach(e=>{"story"===e.type&&(s[e.id]=e)}),s}}if(a.type===ao.M){let t=a.payload,r={...e};return t.forEach(e=>{"story"===e.type&&(r[e.id??""]=e)}),r}return e};var ad=t(193574),ac=t(556596);let a_=(e,a)=>{let t=(0,ac.A)(e,a);return(0,ad.Ay)(e,t)?e:t},au={},ap=function(e,a){if(e=e||au,a.type===Q.v6||a.type===Q.LB){let{resource:t}=a.payload,{data:r}=a.payload.response.resource_response;if("AggregatedActivityFeedResource"===t||"DidItUserFeedResource"===t){let a=(r||[]).reduce((a,t)=>(a[t.id]=a_(e[t.id],t),a),{});return{...e,...a}}if("DidItActivityResource"===t&&r)return{...e,[r.id]:a_(e[r.id],r)};if("NewsHubDetailsResource"===t&&r&&r.length>0&&r[0].content_items){let a={};return r.forEach(e=>{e.content_items.forEach(e=>{"userdiditdata"===(e.content_object&&e.content_object.type)&&(a[e.content_object.id]=e.content_object)})}),{...e,...a}}if("UnifiedCommentsResource"===t&&r&&r.length>0){let a=r.filter(e=>"userdiditdata"===e.type).reduce((a,t)=>(a[t.id]=a_(e[t.id],t),a),{});return{...e,...a}}else if("UnifiedCommentsPreviewResource"===t&&r&&r.length>0){let a=r[0].user_did_it_data,t=a?{[a.id]:a_(e[a.id],a)}:{};return{...e,...t}}}else if("USER_DID_IT_DATA_CREATE"===a.type){let{payload:{user_did_it_data:t}}=a;return{...e,[t.id]:t}}else if("USER_DID_IT_DATA_UPDATE"===a.type){let{payload:{user_did_it_data:t}}=a;return{...e,[t.id]:a_(e[t.id],t)}}else if("USER_DID_IT_DATA_DELETE"===a.type){let{payload:{id:t}}=a,r={...e};return delete r[t],r}else if("USER_DID_IT_DATA_UPDATE_COMMENT_COUNT"===a.type){let{payload:{id:t,increment:r}}=a,s=e[t].comment_count??0;return{...e,[t]:a_(e[t],{comment_count:s+r})}}else if("USER_DID_IT_DATA_LIKE_TOGGLED"===a.type){let{payload:{id:t,liked_by_me:r}}=a;if(e[t].like_count||0===e[t].like_count){let a=e[t].like_count;return{...e,[t]:a_(e[t],{liked_by_me:r,like_count:r?a+1:a-1})}}}else if("USER_DID_IT_DATA_HELPFUL_TOGGLED"===a.type){let{payload:{id:t,marked_helpful_by_me:r}}=a,s=e[t],o=s.helpful_count||0,n={...s,marked_helpful_by_me:r,helpful_count:r?o+1:o-1};return{...e,[t]:n}}return e},aE=(e={})=>e;var aS=t(424762);let aT=(e,a)=>{if(e=e||{},"SET_FLASHLIGHT_CROP_SOURCE"===a.type){let{payload:{cropSource:t}}=a;return{...e,cropSource:t}}return e},ay=(e,a)=>{if(e=e||{activeTabBoardId:"",activeTabIndex:0},"SET_ACTIVE_HOMEFEED_TAB"===a.type){let{payload:{boardId:t,index:r}}=a;return{...e,activeTabBoardId:t,activeTabIndex:r}}return e};function aA(e,a){switch(e=e||Object.freeze({}),a.type){case"SHOW_TOAST_CONTACT_REQUEST_UNDO":return{...e,showToastForContactRequest:a.payload.contactRequestId};case"SHOW_BLOCK_UNBLOCK_MODAL_CONTACT_REQUEST":let t={contactRequestId:a.payload.contactRequestId,modalAction:a.payload.modalAction};return{...e,blockModalContactRequest:t};default:return e}}var aR=t(175193);let aI={canProceed:!0,topBusinessGoal:"",dailyAdsBudget:"",customDailyAdsBudget:void 0,weeklyAddToCarts:0,weeklyLeads:0,weeklyCheckouts:0,hasFeed:!1,defaultCatalogId:null,defaultFeedProfileId:null,shouldShowGoalsStep:!0,isSurveyOpen:!1,isCalendlyModalOpen:!1,marketingPlanName:"",marketingPlanSuggestion:[],showCustomBudgetField:!1,showCustomBudgetFieldError:!1};function am(e,a){switch(e=e||aI,a.type){case"UPDATE_PMP_FIELD":return{...e,[a.field]:a.value};case"UPDATE_PMP_INITIAL_STATE":return{...a.value};default:return e}}function ag(e,a){let t=e||{};if(a.type===Q.v6||a.type===Q.LB){let{resource:e}=a.payload,{data:r}=a.payload.response.resource_response;if("BaseSearchResource"===e){let e=(r||{}).results||[],a={...t};return e.forEach(e=>{"module"===e.type&&(a[e.id]=e)}),a}}return t}function aC(e,a){if(e=e||null,"MOST_RECENT_BOARD"!==a.type)return e;{let{id:t,name:r,url:s}=a.payload;return{...e,id:t,name:r,url:s}}}let af=(0,ez.A)("notifications",(e,a)=>{if(e=e||{},a.type===Q.v6||a.type===Q.LB){let{normalizedResponse:e}=a.payload;e&&e.entities&&e.entities.notifications&&e.entities.pins&&(({notifications:e,pins:a})=>{Object.keys(e??{}).forEach(t=>{let r=e[t];r.content_items&&r.content_items.forEach(e=>{if(e.content_object){let{id:t,schema:r}=e.content_object;"pin"===r&&(e.trackingParams=a[t]?a[t].tracking_params:void 0)}})})})(e.entities)}return e}),aP={dirtyFields:[],description:"",link:"",title:"",board:null,descriptionError:null,linkError:null,titleError:null};var aO=t(240385);let aN=Object.freeze({assets:[],createdPinIds:[],fonts:[],layoutMode:0,pinDraftIdUploadStatusMap:{},pinDraftIds:[],selectedPinDraftIds:[],isBatchEditMode:!1,entryPoint:null,closeupImageSignature:null,pinEditorPinDraft:null,showDisabledPinCreationBanner:!1,showFeedbackModal:!1});var ah=t(803710);let aD={altText:null,altTextError:null,apiError:null,apiErrorCode:null,boardError:null,interestTags:[],isAdIneligible:!1,isCommentsAllowed:!0,isShoppingRecAllowed:!0,lastEditedTime:null,lastSavedTime:null,mediaError:null,mode:"create",pinId:null,pinItemIds:[],pinItemIndex:-1,pinIsAdsOnly:!1,pinItemShareable:!0,publishingStatus:"notAttempted",publishOption:"publish-immediately",scheduledPin:null,scheduledDate:null,scheduledDateError:null,scheduledTime:null,scheduledTimeError:null,selectedItem:null,status:"created",storyPin:null,storyPinDraftId:null,storyPinMetadata:null,storyPinUploadManager:null,storyPinSelectedPinItemIds:[],type:"single",uploadStartTime:null,urlCreationSource:null,view:"upload",websiteLink:"",websiteLinkError:null,websiteMedia:[],websiteDefaultImageUrl:null,createMethod:null,showcaseBannerError:null,creativeStudioPinParams:null};var aL=t(763670);let aw={id:null,link:"",linkError:null,pinTagKey:null,status:"created",taggedObjectIds:[],x:-1,y:-1},av={id:null,link:"",media:null,status:"created",pin:null,type:null},aU={edits:{left:0,scale:1,top:0,transform:{rotate:0,scaleX:1,scaleY:1}},error:null,media:null,text:"",type:"story_pin_paragraph_block"},ab=(e,a)=>{switch(e=e||aU,a.type){case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_UPDATE_BLOCK":let{storyPinItemBlock:t}=a.payload;return{...e,...t};case"STORY_PIN_ITEM_BLOCK_SET_PLAYING":let{playing:r}=a.payload;return{...e,playing:r};case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":let{edits:s}=a.payload;return{...e,edits:{...e.edits,...s}};case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":{let{media:t}=a.payload;return{...e,media:e.media?(0,ac.A)(e.media,t):null}}default:return e}},aG={backgroundColor:"#ffffff",blockIds:[],canvasJson:null,coverImgSignature:"",description:"",descriptionError:null,dominantColors:[],isEditable:!0,isTaggable:!0,layout:null,linkBlock:{text:"",srcUrl:"",canonicalUrl:"",imageSignature:"",imageUrl:"",isFetching:!1},linkError:null,media:null,pinTagIds:[],publishProgress:void 0,selectedBlockId:null,selectedPinTagId:null,signals:{},tagError:null,title:"",titleError:null};Object.freeze({...aN,batchDraftCreationIds:[],batchEditModeFields:aP,pinDrafts:{},pinItems:{},pinTags:{},storyPinItemBlocks:{},storyPinItems:{},taggedObjects:{}});let aM=(0,w.combineReducers)({assets:(e=aN.assets,a)=>"PIN_BUILDER_ADD_ASSET"===a.type?[a.payload.asset,...e??[]]:e??[],batchDraftCreationIds:(e=[],a)=>{switch(a.type){case"BATCH_DRAFT_CREATION_SET_IDS":let{pinDraftIds:t}=a.payload;return t;case"BATCH_DRAFT_CREATION_REMOVE_ID":let{pinDraftId:r}=a.payload;return[...(e??[]).filter(e=>e!==r)];default:return e}},batchEditModeFields:(e,a)=>{switch(e=e||aP,a.type){case"BATCH_PIN_EDIT_MODE_SET_DESCRIPTION":{let{description:t}=a.payload;return{...e,description:t}}case"BATCH_PIN_EDIT_MODE_SET_LINK":{let{link:t}=a.payload;return{...e,link:t}}case"BATCH_PIN_EDIT_MODE_SET_TITLE":{let{title:t}=a.payload;return{...e,title:t}}case"BATCH_PIN_EDIT_MODE_SET_BOARD":{let{board:t}=a.payload;return{...e,board:{...t}}}case"BATCH_PIN_EDIT_MODE_ADD_DIRTY_FIELD":{let{field:t}=a.payload;return{...e,dirtyFields:[...e.dirtyFields,t]}}case"BATCH_PIN_EDIT_MODE_SET_DESCRIPTION_ERROR":{let{descriptionError:t}=a.payload;return{...e,descriptionError:t}}case"BATCH_PIN_EDIT_MODE_SET_LINK_ERROR":{let{linkError:t}=a.payload;return{...e,linkError:t}}case"BATCH_PIN_EDIT_MODE_SET_TITLE_ERROR":{let{titleError:t}=a.payload;return{...e,titleError:t}}case"BATCH_PIN_EDIT_MODE_RESET_ALL_FIELDS":return{...e,...aP};default:return e}},closeupImageSignature:(e=aN.closeupImageSignature,a)=>{if("PIN_BUILDER_SET_CLOSEUP_IMAGE_SIGNATURE"!==a.type)return e;{let{closeupImageSignature:e}=a.payload;return e}},createdPinIds:(e=aN.createdPinIds,a)=>{if("PIN_BUILDER_ADD_CREATED_PIN_ID"!==a.type)return e??[];{let{pinId:t}=a.payload;return(e??[]).concat(t)}},entryPoint:(e=aN.entryPoint,a)=>{if("PIN_BUILDER_ENTRY_POINT"!==a.type)return e;{let{entryPoint:e}=a.payload;return e}},fonts:(e=aN.fonts,a)=>{if(a.type===Q.v6){let{resource:e,options:t={}}=a.payload,{data:r}=a.payload.response.resource_response;if("ApiResource"===e&&"/v3/storypins/fonts/"===t.url)return(r?.all||[]).map(aO.A)}return e??[]},isBatchEditMode:(e=aN.isBatchEditMode,a)=>{if("PIN_BUILDER_SET_BATCH_EDIT_MODE"!==a.type)return!!e;{let{isBatchEditMode:e}=a.payload;return e}},layoutMode:(e=aN.layoutMode,a)=>(a.type,e),pinDraftIds:(e=aN.pinDraftIds,a)=>{switch(a.type){case"PIN_BUILDER_ADD_PIN_DRAFT":{let{pinDraftId:t,options:r={}}=a.payload,{insertBefore:s,isAppend:o}=r;if(s){let a=e.indexOf(r.insertBefore);if(a>=0){let r=[...e??[]];return r.splice(a,0,t),r}}if(o)return[...e??[],t];return[t,...e??[]]}case"PIN_BUILDER_DELETE_PIN_DRAFT":case"PIN_BUILDER_REMOVE_PIN_DRAFT_ID":{let{pinDraftId:t}=a.payload;return[...(e??[]).filter(e=>e!==t)]}case"PIN_BUILDER_CLEAR_PIN_DRAFTS":return[];default:return e??[]}},pinDraftIdUploadStatusMap:(e=aN.pinDraftIdUploadStatusMap,a)=>{switch(a.type){case"PIN_BUILDER_ADD_PIN_DRAFT_ITEM_UPLOAD":{let{pinDraftId:t,pinItemId:r,upload:s}=a.payload;if(!e?.[t])return{...e,[t]:{items:{[r]:s},status:"uploading"}};return{...e,[t]:{...e?.[t]||{items:{},status:"uploading"},items:{...e?.[t]?.items??{},[r]:s}}}}case"PIN_BUILDER_SET_PIN_DRAFT_UPLOAD_STATUS":{let{pinDraftId:t,status:r}=a.payload;return{...e,[t]:{...e?.[t]||{items:{},status:"uploading"},status:r}}}case"PIN_BUILDER_SET_PIN_ITEM_UPLOAD_STATUS":{let{pinDraftId:t,pinItemId:r,status:s}=a.payload,o=e?.[t]&&"items"in e[t]?e[t].items:{};return{...e,[t]:{...e[t],items:{...o,[r]:{...o[r],status:s}}}}}case"PIN_BUILDER_SET_PIN_ITEM_UPLOAD_XHR":{let{pinDraftId:t,pinItemId:r,xhr:s}=a.payload,o=e?.[t]&&"items"in e[t]?e[t].items:{};return{...e,[t]:{...e[t],items:{...o,[r]:{...o[r],xhr:s}}}}}case"PIN_BUILDER_REMOVE_PIN_ITEM_UPLOAD":{let{pinDraftId:t,pinItemId:r}=a.payload,s={...e[t].items};return delete s[r],{...e,[t]:{...e[t],items:s}}}case"PIN_BUILDER_REMOVE_PIN_DRAFT_UPLOAD":{let{pinDraftId:t}=a.payload,r={...e};return delete r[t],r}default:return e}},pinDrafts:(e,a)=>{switch(e=e||{},a.type){case"PIN_BUILDER_DELETE_PIN_DRAFT":{let{pinDraftId:t}=a.payload,r={...e};return delete r[t],r}case"PIN_BUILDER_ADD_PIN_DRAFT":case"PIN_BUILDER_REMOVE_UPLOAD_DRAFT_FLAG":case"PIN_DRAFT_ADD_PIN_ITEM":case"PIN_DRAFT_ADD_STORY_PIN_ITEM":case"PIN_DRAFT_ADD_WEBSITE_MEDIA":case"PIN_DRAFT_CLEAR_WEBSITE_MEDIA":case"PIN_DRAFT_REMOVE_PIN_ITEM":case"PIN_DRAFT_REMOVE_WEBSITE_MEDIA":case"PIN_DRAFT_RESET_STORY_PIN_SELECTED_PIN_ITEM_IDS":case"PIN_DRAFT_SET_API_ERROR":case"PIN_DRAFT_SET_BOARD_ERROR":case"PIN_DRAFT_SET_IS_AD_INELIGIBLE":case"PIN_DRAFT_SET_IS_COMMENTS_ALLOWED":case"PIN_DRAFT_SET_IS_SHOPPING_REC_ALLOWED":case"PIN_DRAFT_SET_LAST_EDITED_TIME":case"PIN_DRAFT_SET_LAST_SAVED_TIME":case"PIN_DRAFT_SET_MEDIA_ERROR":case"PIN_DRAFT_SET_PIN_ID":case"PIN_DRAFT_SET_PIN_ITEM_IDS":case"PIN_DRAFT_SET_PIN_ITEM_INDEX":case"PIN_DRAFT_SET_PIN_ITEM_SHAREABLE":case"PIN_DRAFT_SET_PUBLISHING_STATUS":case"PIN_DRAFT_SET_PUBLISH_OPTION":case"PIN_DRAFT_SET_SCHEDULED_DATE_ERROR":case"PIN_DRAFT_SET_SCHEDULED_DATE":case"PIN_DRAFT_SET_SCHEDULED_PIN":case"PIN_DRAFT_SET_SCHEDULED_TIME_ERROR":case"PIN_DRAFT_SET_SCHEDULED_TIME":case"PIN_DRAFT_SET_SELECTED_ITEM":case"PIN_DRAFT_SET_STATUS":case"PIN_DRAFT_SET_STORY_PIN":case"PIN_DRAFT_SET_STORY_PIN_DRAFT_ID":case"PIN_DRAFT_SET_STORY_PIN_SELECTED_PIN_ITEM_IDS":case"PIN_DRAFT_SET_UPLOAD_START_TIME":case"PIN_DRAFT_SET_URL_CREATION_SOURCE":case"PIN_DRAFT_SET_VIEW":case"PIN_DRAFT_SET_CREATE_METHOD":case"PIN_DRAFT_SET_WEBSITE_LINK":case"PIN_DRAFT_UPDATE_DATA":case"PIN_DRAFT_UPDATE_STORY_PIN_METADATA":case"PIN_DRAFT_ADD_INTEREST_TAG":case"PIN_DRAFT_REMOVE_INTEREST_TAG":case"PIN_DRAFT_SET_INTEREST_TAGS":case"PIN_DRAFT_CLEAR_INTEREST_TAGS":case"PIN_DRAFT_SET_STORY_PIN_UPLOAD_MANAGER":case"PIN_DRAFT_SET_ALT_TEXT":case"PIN_DRAFT_SET_ALT_TEXT_ERROR":case"PIN_DRAFT_SET_ADS_ONLY_STATUS":case"PIN_DRAFT_SET_SHOWCASE_BANNER_ERROR":case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":case"STORY_PIN_ITEM_REMOVE_BLOCK":case"STORY_PIN_ITEM_REORDER_BLOCKS":case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":case"STORY_PIN_ITEM_SET_LAYOUT":case"STORY_PIN_ITEM_UPDATE_BLOCK":case"STORY_PIN_ITEM_UPDATE_DATA":{let{pinDraftId:t}=a.payload;return{...e,[t]:((e=aD,a)=>{switch(a.type){case"PIN_BUILDER_ADD_PIN_DRAFT":case"PIN_DRAFT_UPDATE_DATA":{let{pinDraft:t}=a.payload;return{...e,...t}}case"PIN_BUILDER_REMOVE_UPLOAD_DRAFT_FLAG":return{...e,isUploadDraft:void 0};case"PIN_DRAFT_ADD_PIN_ITEM":{let{pinItemId:t,options:r}=a.payload,s=[...e.pinItemIds,t];return{...e,pinItemIds:[...e.pinItemIds,t],pinItemIndex:r&&r.saveIndex?e.pinItemIndex:e.pinItemIds.length,type:s.length>1&&"story"!==e.type?"carousel":e.type}}case"PIN_DRAFT_ADD_STORY_PIN_ITEM":{let{pinItemId:t,options:r}=a.payload,s=[...e.pinItemIds,t],o=r&&r.saveIndex?e.pinItemIndex:e.pinItemIds.length;return{...e,pinItemIds:s,pinItemIndex:o,storyPinSelectedPinItemIds:[s[o]]}}case"PIN_DRAFT_REMOVE_PIN_ITEM":{let{pinItemId:t}=a.payload,r=e.pinItemIds.findIndex(e=>e===t),s=e.pinItemIds.filter(e=>e!==t),o=e.pinItemIndex<=r?Math.min(e.pinItemIndex,s.length-1):e.pinItemIndex-1,n=o>=0?[s[o]]:[];return{...e,pinItemIds:s,pinItemIndex:o,storyPinSelectedPinItemIds:n,type:s.length<=1&&"story"!==e.type?"single":e.type}}case"PIN_DRAFT_SET_PIN_ID":{let{pinId:t}=a.payload;return{...e,pinId:t}}case"PIN_DRAFT_SET_ADS_ONLY_STATUS":{let{pinIsAdsOnly:t}=a.payload;return{...e,pinIsAdsOnly:t}}case"PIN_DRAFT_SET_SCHEDULED_PIN":{let{scheduledPin:t}=a.payload;return{...e,scheduledPin:t}}case"PIN_DRAFT_SET_STORY_PIN":{let{storyPin:t}=a.payload;return{...e,storyPin:t}}case"PIN_DRAFT_SET_STORY_PIN_DRAFT_ID":{let{storyPinDraftId:t}=a.payload;return{...e,storyPinDraftId:t}}case"PIN_DRAFT_UPDATE_STORY_PIN_METADATA":{let{storyPinMetadata:t}=a.payload;return{...e,storyPinMetadata:{...e.storyPinMetadata,...t}}}case"PIN_DRAFT_SET_STORY_PIN_SELECTED_PIN_ITEM_IDS":{let{pinItemIds:t}=a.payload;return{...e,storyPinSelectedPinItemIds:t}}case"PIN_DRAFT_RESET_STORY_PIN_SELECTED_PIN_ITEM_IDS":return{...e,storyPinSelectedPinItemIds:[e.pinItemIds[e.pinItemIndex]]};case"PIN_DRAFT_SET_IS_COMMENTS_ALLOWED":{let{isCommentsAllowed:t}=a.payload;return{...e,isCommentsAllowed:t}}case"PIN_DRAFT_SET_IS_SHOPPING_REC_ALLOWED":{let{isShoppingRecAllowed:t}=a.payload;return{...e,isShoppingRecAllowed:t}}case"PIN_DRAFT_SET_PIN_ITEM_INDEX":{let{pinItemIndex:t}=a.payload;return{...e,pinItemIndex:t}}case"PIN_DRAFT_SET_PIN_ITEM_SHAREABLE":{let{pinItemShareable:t}=a.payload;return{...e,pinItemShareable:t}}case"PIN_DRAFT_SET_URL_CREATION_SOURCE":{let{urlCreationSource:t}=a.payload;return{...e,urlCreationSource:t}}case"PIN_DRAFT_SET_VIEW":{let{view:t}=a.payload;return{...e,view:t}}case"PIN_DRAFT_SET_CREATE_METHOD":{let{createMethod:t}=a.payload;return{...e,createMethod:t}}case"PIN_DRAFT_SET_IS_AD_INELIGIBLE":{let{isAdIneligible:t}=a.payload;return{...e,isAdIneligible:t}}case"PIN_DRAFT_SET_PUBLISHING_STATUS":{let{publishingStatus:t}=a.payload;return{...e,publishingStatus:t}}case"PIN_DRAFT_SET_PUBLISH_OPTION":{let{publishOption:t}=a.payload;return{...e,publishOption:t}}case"PIN_DRAFT_SET_STATUS":{let{status:t}=a.payload;return{...e,status:t}}case"PIN_DRAFT_SET_SCHEDULED_DATE":{let{scheduledDate:t}=a.payload;return{...e,scheduledDate:t}}case"PIN_DRAFT_SET_SCHEDULED_DATE_ERROR":{let{scheduledDateError:t}=a.payload;return{...e,scheduledDateError:t}}case"PIN_DRAFT_SET_SCHEDULED_TIME":{let{scheduledTime:t}=a.payload;return{...e,scheduledTime:t}}case"PIN_DRAFT_SET_SCHEDULED_TIME_ERROR":{let{scheduledTimeError:t}=a.payload;return{...e,scheduledTimeError:t}}case"PIN_DRAFT_SET_MEDIA_ERROR":{let{mediaError:t}=a.payload;return{...e,mediaError:t}}case"PIN_DRAFT_SET_LAST_EDITED_TIME":{let{lastEditedTime:t}=a.payload;return{...e,lastEditedTime:t}}case"PIN_DRAFT_SET_LAST_SAVED_TIME":{let{lastSavedTime:t}=a.payload;return{...e,lastSavedTime:t}}case"PIN_DRAFT_SET_WEBSITE_LINK":{let{websiteLink:t,error:r,websiteDefaultImageUrl:s}=a.payload;return{...e,websiteLink:t,websiteLinkError:r,websiteDefaultImageUrl:s}}case"PIN_DRAFT_SET_SELECTED_ITEM":let{selectedItem:t}=a.payload;return{...e,selectedItem:{...t},boardError:null};case"PIN_DRAFT_SET_UPLOAD_START_TIME":let{uploadStartTime:r}=a.payload;return{...e,uploadStartTime:r};case"PIN_DRAFT_SET_BOARD_ERROR":let{boardError:s}=a.payload;return{...e,boardError:s};case"PIN_DRAFT_ADD_WEBSITE_MEDIA":{let{media:t}=a.payload;return{...e,websiteMedia:[...e.websiteMedia,t]}}case"PIN_DRAFT_REMOVE_WEBSITE_MEDIA":{let{mediaUrl:t}=a.payload;return{...e,websiteMedia:e.websiteMedia.filter(e=>e.src!==t)}}case"PIN_DRAFT_CLEAR_WEBSITE_MEDIA":return{...e,websiteMedia:[]};case"PIN_DRAFT_SET_PIN_ITEM_IDS":return{...e,pinItemIds:a.payload.pinItemIds};case"PIN_DRAFT_SET_API_ERROR":return{...e,apiError:a.payload.apiError,apiErrorCode:a.payload.apiErrorCode};case"PIN_DRAFT_ADD_INTEREST_TAG":{let{tag:t}=a.payload;return{...e,interestTags:[...e.interestTags,t]}}case"PIN_DRAFT_REMOVE_INTEREST_TAG":{let{id:t}=a.payload;return{...e,interestTags:[...e.interestTags.filter(e=>e.id!==t)]}}case"PIN_DRAFT_SET_INTEREST_TAGS":{let{tags:t}=a.payload;return{...e,interestTags:[...t]}}case"PIN_DRAFT_CLEAR_INTEREST_TAGS":return{...e,interestTags:[]};case"PIN_DRAFT_SET_STORY_PIN_UPLOAD_MANAGER":{let{uploadManager:t}=a.payload;return{...e,storyPinUploadManager:t}}case"PIN_DRAFT_SET_ALT_TEXT":{let{altText:t}=a.payload;return{...e,altText:t}}case"PIN_DRAFT_SET_ALT_TEXT_ERROR":{let{altTextError:t}=a.payload;return{...e,altTextError:t}}case"PIN_DRAFT_SET_SHOWCASE_BANNER_ERROR":{let{showcaseBannerError:t}=a.payload;return{...e,showcaseBannerError:t}}case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":case"STORY_PIN_ITEM_REMOVE_BLOCK":case"STORY_PIN_ITEM_REORDER_BLOCKS":case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":case"STORY_PIN_ITEM_SET_LAYOUT":case"STORY_PIN_ITEM_UPDATE_BLOCK":case"STORY_PIN_ITEM_UPDATE_DATA":return{...e,lastEditedTime:new Date,status:ah.Km.includes(e.status)?e.status:"edited"};default:return e}})(e[t],a)}}case"PIN_DRAFT_CLEAR_STATE":return{};default:return e}},pinEditorPinDraft:(e=aN.pinEditorPinDraft,a)=>{if("PIN_EDITOR_SET_PIN_DRAFT"===a.type){let{payload:e}=a;return e.editedPinDraftId}return e},pinItems:(e,a)=>{switch(e=e||{},a.type){case"PIN_DRAFT_ADD_PIN_ITEM":case"PIN_ITEM_ADD_PIN_TAG":case"PIN_ITEM_REMOVE_PIN_TAG":case"PIN_ITEM_SET_DESCRIPTION":case"PIN_ITEM_SET_DESCRIPTION_ERROR":case"PIN_ITEM_SET_IS_TAGGABLE":case"PIN_ITEM_SET_LINK_ERROR":case"PIN_ITEM_SET_LINK":case"PIN_ITEM_SET_MEDIA":case"PIN_ITEM_SET_SELECTED_PIN_TAG_ID":case"PIN_ITEM_SET_TAG_ERROR":case"PIN_ITEM_SET_TITLE":case"PIN_ITEM_SET_TITLE_ERROR":case"PIN_ITEM_UPDATE_MEDIA":case"PIN_ITEM_UPDATE_DATA":case"PIN_ITEM_SET_EDITED_IMAGE":let{pinItemId:t}=a.payload;return{...e,[t]:(0,aL.A)(e[t],a)};default:return e}},pinTags:(e,a)=>{switch(e=e||{},a.type){case"PIN_ITEM_ADD_PIN_TAG":case"PIN_ITEM_REMOVE_PIN_TAG":case"STORY_PIN_ITEM_ADD_PIN_TAG":case"PIN_TAG_ADD_TAGGED_OBJECT":case"PIN_TAG_REMOVE_TAGGED_OBJECT":case"PIN_TAG_SET_COORDINATES":case"PIN_TAG_SET_LINK":case"PIN_TAG_SET_STATUS":let{pinTagId:t}=a.payload;return{...e,[t]:((e,a)=>{switch(e=e||aw,a.type){case"PIN_ITEM_ADD_PIN_TAG":case"STORY_PIN_ITEM_ADD_PIN_TAG":{let{pinTag:t}=a.payload;return{...e,...t}}case"PIN_ITEM_REMOVE_PIN_TAG":return{...e,status:"created"!==e.status?"deleted":e.status};case"PIN_TAG_ADD_TAGGED_OBJECT":{let{taggedObjectId:t}=a.payload;return{...e,taggedObjectIds:[...e.taggedObjectIds,t],status:"saved"===e.status?"edited":e.status}}case"PIN_TAG_REMOVE_TAGGED_OBJECT":{let{taggedObjectId:t}=a.payload;return{...e,taggedObjectIds:e.taggedObjectIds.filter(e=>e!==t),status:"saved"===e.status?"edited":e.status}}case"PIN_TAG_SET_COORDINATES":{let{x:t,y:r}=a.payload;return{...e,x:t,y:r,status:"saved"===e.status?"edited":e.status}}case"PIN_TAG_SET_LINK":{let{link:t,error:r}=a.payload;return{...e,link:t,linkError:r}}case"PIN_TAG_SET_STATUS":{let{status:t}=a.payload;return{...e,status:t}}default:return e}})(e[t],a)};default:return e}},selectedPinDraftIds:(e=aN.selectedPinDraftIds,a)=>{switch(a.type){case"PIN_BUILDER_SELECT_PIN_DRAFT":{let{pinDraftId:t}=a.payload;return[...e??[],t]}case"PIN_BUILDER_DESELECT_PIN_DRAFT":{let{pinDraftId:t}=a.payload;return(e??[]).filter(e=>e!==t)}case"PIN_BUILDER_CLEAR_SELECTED_PIN_DRAFTS":return[];default:return e??[]}},showDisabledPinCreationBanner:(e=aN.showDisabledPinCreationBanner,a)=>{if("PIN_BUILDER_SHOW_DISABLE_PIN_CREATION_BANNER"===a.type){let{showDisabledPinCreationBanner:e}=a.payload;return e}return!!e},showFeedbackModal:(e=aN.showFeedbackModal,a)=>{if("PIN_BUILDER_SHOW_FEEDBACK_MODAL"===a.type){let{payload:e}=a;return e.showFeedbackModal}return e},storyPinItemBlocks:(e,a)=>{switch(e=e||{},a.type){case"STORY_PIN_ITEM_BLOCK_SET_PLAYING":case"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS":case"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA":case"STORY_PIN_ITEM_UPDATE_BLOCK":{let{blockId:t}=a.payload;if(!(t in e))return e;return{...e,[t]:ab(e[t],a)}}case"STORY_PIN_ITEM_ADD_BLOCK":{let{blockId:t}=a.payload;return{...e,[t]:ab(e[t],a)}}case"STORY_PIN_ITEM_REMOVE_BLOCK":{let{blockId:t}=a.payload;if(!(t in e))return e;let r={...e};return delete r[t],r}default:return e}},storyPinItems:(e,a)=>{switch(e=e||{},a.type){case"PIN_DRAFT_ADD_STORY_PIN_ITEM":case"STORY_PIN_ITEM_ADD_BLOCK":case"STORY_PIN_ITEM_REMOVE_BLOCK":case"STORY_PIN_ITEM_REORDER_BLOCKS":case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":case"STORY_PIN_ITEM_SET_BLOCK_IDS":case"STORY_PIN_ITEM_SET_COVER_IMAGE_SIGNATURE":case"STORY_PIN_ITEM_SET_DESCRIPTION":case"STORY_PIN_ITEM_SET_DESCRIPTION_ERROR":case"STORY_PIN_ITEM_SET_DOMINANT_COLORS":case"STORY_PIN_ITEM_SET_EDITED_IMAGE":case"STORY_PIN_ITEM_SET_LAYOUT":case"STORY_PIN_ITEM_SET_LINK_ERROR":case"STORY_PIN_ITEM_SET_MEDIA":case"STORY_PIN_ITEM_SET_PUBLISH_PROGRESS":case"STORY_PIN_ITEM_SET_SELECTED_BLOCK_ID":case"STORY_PIN_ITEM_SET_TITLE":case"STORY_PIN_ITEM_SET_TITLE_ERROR":case"STORY_PIN_ITEM_UPDATE_DATA":case"STORY_PIN_ITEM_UPDATE_LINK_BLOCK":case"STORY_PIN_ITEM_UPDATE_MEDIA":case"STORY_PIN_ITEM_ADD_PIN_TAG":case"STORY_PIN_ITEM_SET_SELECTED_PIN_TAG_ID":let{pinItemId:t}=a.payload;return{...e,[t]:((e,a)=>{switch(e=e||aG,a.type){case"PIN_DRAFT_ADD_STORY_PIN_ITEM":case"STORY_PIN_ITEM_UPDATE_DATA":{let{pinItem:t}=a.payload;return{...e,...t}}case"STORY_PIN_ITEM_SET_DESCRIPTION":{let{description:t}=a.payload;return{...e,description:t}}case"STORY_PIN_ITEM_SET_DESCRIPTION_ERROR":{let{descriptionError:t}=a.payload;return{...e,descriptionError:t}}case"STORY_PIN_ITEM_UPDATE_LINK_BLOCK":{let{linkBlock:t}=a.payload;return{...e,linkBlock:{...e.linkBlock,...t}}}case"STORY_PIN_ITEM_SET_LINK_ERROR":{let{linkError:t}=a.payload;return{...e,linkError:t}}case"STORY_PIN_ITEM_SET_MEDIA":{let{media:t}=a.payload,r=t?.type!=="localVideo"&&(!!t&&!e.linkBlock||e.isTaggable);return{...e,canvasJson:null,isTaggable:r,media:t,pinTagIds:[],selectedPinTagId:null}}case"STORY_PIN_ITEM_UPDATE_MEDIA":{let{media:t}=a.payload;return{...e,media:e.media?(0,ac.A)(e.media,t):null}}case"STORY_PIN_ITEM_SET_TITLE":{let{title:t}=a.payload;return{...e,title:t}}case"STORY_PIN_ITEM_SET_TITLE_ERROR":{let{titleError:t}=a.payload;return{...e,titleError:t}}case"STORY_PIN_ITEM_SET_BLOCK_IDS":{let{blockIds:t}=a.payload;return{...e,blockIds:t}}case"STORY_PIN_ITEM_SET_EDITED_IMAGE":{let{editedMedia:t,canvasJson:r}=a.payload;return{...e,media:t,canvasJson:r}}case"STORY_PIN_ITEM_SET_SELECTED_BLOCK_ID":{let{blockId:t}=a.payload;return{...e,selectedBlockId:t}}case"STORY_PIN_ITEM_SET_BACKGROUND_COLOR":{let{backgroundColor:t}=a.payload;return{...e,backgroundColor:t}}case"STORY_PIN_ITEM_SET_COVER_IMAGE_SIGNATURE":{let{coverImgSignature:t}=a.payload;return{...e,coverImgSignature:t}}case"STORY_PIN_ITEM_SET_LAYOUT":{let{layout:t}=a.payload;return{...e,layout:t}}case"STORY_PIN_ITEM_SET_DOMINANT_COLORS":{let{dominantColors:t}=a.payload;return{...e,dominantColors:t}}case"STORY_PIN_ITEM_SET_PUBLISH_PROGRESS":{let{publishProgress:t}=a.payload;return{...e,publishProgress:t}}case"STORY_PIN_ITEM_ADD_BLOCK":{let{blockId:t,index:r}=a.payload,{blockIds:s}=e,o=[...s];return o.splice("number"==typeof r?r:s.length,0,t),{...e,blockIds:o}}case"STORY_PIN_ITEM_REMOVE_BLOCK":{let{blockId:t}=a.payload,{blockIds:r}=e;return{...e,blockIds:[...r.filter(e=>e!==t)]}}case"STORY_PIN_ITEM_REORDER_BLOCKS":{let{blockIds:t}=a.payload;return{...e,blockIds:t}}case"STORY_PIN_ITEM_ADD_PIN_TAG":{let{pinTagId:t}=a.payload;return{...e,pinTagIds:[...e.pinTagIds,t]}}case"STORY_PIN_ITEM_SET_SELECTED_PIN_TAG_ID":{let{selectedPinTagId:t}=a.payload;return{...e,selectedPinTagId:t}}default:return e}})(e[t],a)};default:return e}},taggedObjects:(e,a)=>{switch(e=e||{},a.type){case"PIN_TAG_ADD_TAGGED_OBJECT":case"PIN_TAG_REMOVE_TAGGED_OBJECT":case"TAGGED_OBJECT_SET_STATUS":let{taggedObjectId:t}=a.payload;return{...e,[t]:((e,a)=>{switch(e=e||av,a.type){case"PIN_TAG_ADD_TAGGED_OBJECT":let{taggedObject:t}=a.payload;return{...e,...t};case"PIN_TAG_REMOVE_TAGGED_OBJECT":return{...e,status:"created"!==e.status?"deleted":e.status};case"TAGGED_OBJECT_SET_STATUS":let{status:r}=a.payload;return{...e,status:r};default:return e}})(e[t],a)};default:return e}}}),aB=(e,a,t)=>({...e,[a]:{...e[a]||{},...t}}),ak=(e={},a)=>{let t=e||{};switch(a.type){case Q.v6:{let{payload:{resource:e,response:r,options:s}}=a;if("FindPinImagesResource"===e&&s?.source==="pin_create"){let e={...r.resource_response.data};return e.items=e.items.slice(0,50),aB(t,s?.url||"",e)}return t}case"PIN_BUILDER_LOADED_IMAGES":{let{payload:{loadedImages:e,scrapedWebsite:r}}=a;return aB(t,r,{loadedImages:e})}case"UPDATE_PIN_BUILDER_INPUT":return{...t,...a.payload};default:return t}};function aF(e=null,a){let t=e||null;return"PIN_NAV_CONTEXT_CREATE"===a.type?{...t,...a.payload}:"PIN_NAV_CONTEXT_DELETE"===a.type?null:t}var aV=t(918312),aH=t(147277),ax=t(255105),aY=t(799437);let aW=e=>e||[],aj=e=>e?e.reduce((e,a)=>a?.objects?e.concat(a.objects):e.concat([a].filter(Boolean)),[]):[],a$=e=>e&&Array.isArray(e)?e.map(e=>e.content_pin).filter(e=>!!e):[],aq={ApiResource:e=>{if(e&&Array.isArray(e)){let a=[];return e.forEach(e=>{e.call_to_create_source_pin_id?a.push(e):"story"===e.type&&e.objects&&Array.isArray(e.objects)?e.objects.forEach(e=>{a.push(e)}):"pin"===e.type&&a.push(e)}),a}return[]},BaseSearchResource:e=>e?aj(e.results):[],BoardContentRecommendationResource:aW,BoardFeedResource:aW,BoardlessPinsResource:aW,BoardSectionPinsResource:aW,BoardShopSavedProductsFeedResource:aW,BrandCatalogFeedResource:aW,CategoryFeedResource:aW,DomainFeedResource:aW,InterestResource:e=>e?e.results:[],LiveSessionProductsResource:e=>e?Object.values(e).reduce((e,a)=>e.concat(a),[]):[],NewsHubDetailsResource:e=>e?e.reduce((e,a)=>a.content_items?e.concat(a.content_items.map(e=>e.content_object).filter(Boolean)):e,[]):[],RelatedModulesResource:aj,RelatedPinFeedResource:aW,RelatedStreamResource:aW,SearchResource:aW,TaggedObjectsResource:aj,TodayArticleFeedResource:e=>(0,aY.u8)(e)?e.reduce((e,a)=>{if(Array.isArray(a.objects)){let t=[];return a.objects.forEach(e=>{"todayarticle"===e.type&&e.content_pin?.type==="pin"?t.push(e.content_pin):"pin"===e.type&&t.push(e)}),e.concat(t)}return e},[]):e||[],TodayTabInterestFeedResource:a$,TodayTabResource:a$,TopicFeedResource:aW,UserHomefeedResource:aj,UserActivityPinsResource:aW,UserRecentActivityResource:aW,UserStoryPinsFeedResource:aW,UserPinsResource:aW,VisualLiveSearchResource:e=>e?e.results:[],VisualLiveSearchProductFeedResource:aW,VisualLinkVisualSearchResource:aW,VisualSearchFlashlightUnifiedResource:e=>e?aj(e.results):[],BestPinsFeedAltResource:aW,StoryFeedResource:aj};var aK=t(992679);let az=(e,a,t=!1)=>{let r=(0,ac.A)(e,a,t?(e,a)=>null===a?e:void 0:void 0);return(0,ad.Ay)(e,r)?e:r},aJ=(e,a)=>({...e,[a.id]:{...e[a.id]||{},...a}});function aQ(e,a){let t=(0,aK.xz)();switch(a.type){case"CHANGE_CAROUSEL_SLOT_INDEX":{let{id:t,index:r}=a.payload;if(t===e.id&&e.carousel_data)return{...e,carousel_data:{...e.carousel_data,index:r}};return e}case"SET_PIN_COMMENTS_DISABLED":{let{id:t,pinCommentsDisabled:r}=a.payload;if(t===e.id)return{...e,comments_disabled:r,is_eligible_for_aggregated_comments:!r};return e}case"PIN_SAVE":{let{boardId:r,localPinId:s,id:o,title:n,url:i,nodeId:l}=a.payload;if(o===e.id)return t&&l&&(0,aV.commitLocalUpdate)(t,e=>{let a=e.get(l);a||(a=e.create(l,"Pin"));let t=a.getOrCreateLinkedRecord("savedInfo","SaveTarget");t.setValue(r,"boardId"),t.setValue(s,"localPinId"),t.setValue(null,"score"),t.setValue(null,"sectionId"),t.setValue__UNSAFE(n,"title"),t.setValue(null,"type"),t.setValue(i,"url")}),{...e,savedInfo:{boardId:r,title:n,url:i,localPinId:s}};return e}case"PIN_UNSAVE":{let{id:r,nodeId:s}=a.payload;if(r===e.id){t&&s&&(0,aV.commitLocalUpdate)(t,e=>{let a=e.get(s);a&&a.setValue(null,"savedInfo")});let{savedInfo:a,...r}=e;return r}return e}case"PIN_SHOW_SUGGESTED_CREATOR_RECS":if(a.payload.id===e.id)return{...e,show_suggested_creator_recs:a.payload.value};return e;case"PIN_QUICK_SAVE":{let{pinId:r,boardId:s,localPinId:o,title:n,url:i,nodeId:l}=a.payload;if(r===e.id)return t&&l&&(0,aV.commitLocalUpdate)(t,e=>{let a=e.get(l);a||(a=e.create(l,"Pin"));let t=a.getOrCreateLinkedRecord("savedInfo","SaveTarget");t.setValue(s,"boardId"),t.setValue(o,"localPinId"),t.setValue(null,"score"),t.setValue(null,"sectionId"),t.setValue__UNSAFE(n,"title"),t.setValue(null,"type"),t.setValue(i,"url")}),{...e,savedInfo:{boardId:s,localPinId:o,title:n,url:i}};return e}case"PIN_SHOW_FEEDBACK":{let{id:r,value:s,text:o,nodeId:n}=a.payload;if(r===e.id)return(0,ax.A)({relayEnvironment:t,nodeId:n,value:s,feedbackText:o}),{...e,showFeedback:s,feedbackText:o};return e}case"PIN_UPDATE_COMMENT_COUNT":{let{id:t,increment:r}=a.payload;if(t===e.id&&e.aggregated_pin_data){let a={...e.aggregated_pin_data,comment_count:(e.aggregated_pin_data.comment_count||0)+r};return{...e,aggregated_pin_data:a}}return e}case"PIN_DID_IT":{let{id:t,value:r}=a.payload;if(t===e.id){let a=(e.aggregated_pin_data||{}).did_it_data,t={...a,images_count:(a?.images_count||0)+(r?1:-1)},s={...e.aggregated_pin_data,did_it_data:t};return{...e,aggregated_pin_data:s,done_by_me:r}}return e}case"PIN_SHOW_FEEDBACK_OVERLAY":{let{id:r,value:s,nodeId:o}=a.payload;if(r===e.id)return t&&o&&(0,aV.commitLocalUpdate)(t,e=>{let a=e.get(o);a||(a=e.create(o,"Pin")),a.setValue(s,"showFeedbackOverlay")}),{...e,showFeedbackOverlay:s};return e}case"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL":if(a.payload.id===e.id)return{...e,show_fewer_weight_loss_ads:a.payload.value};return e;case"APPROVE_PIN_SPONSORSHIP":{let{isApproved:t,pinId:r}=a.payload;if(r===e.id)return{...e,sponsorship:{...e.sponsorship,sponsor:t?e.sponsorship?.sponsor:void 0,status:t?1:2}};return e}case"DELETE_PIN_SPONSORSHIP":{let{pinId:t,userId:r}=a.payload;if(t===e.id){if(r===e.sponsorship?.creator?.id)return{...e,sponsorship:void 0};else if(r===e.sponsorship?.sponsor?.id)return{...e,sponsorship:{...e.sponsorship,sponsor:void 0,status:3}}}return e}case"PIN_UPDATE_REACTION_COUNT":{let{id:t,increment:r,reactionType:s}=a.payload;if(t===e.id){let{reaction_counts:a={}}=e,t=a[s]||0,o=r?t+1:Math.max(t-1,0),n=r?s:0;if(0!==o)return{...{...e,reaction_counts:{...a,[s]:o},reaction_by_me:n}};{let t={...e,reaction_counts:{...a},reaction_by_me:n};return delete t.reaction_counts[s],{...t}}}return e}case"PIN_BETTER_SAVE":{let{pinId:r,boardId:s,localPin:o,localPinId:n,sectionId:i,title:l,type:d,url:c,nodeId:_}=a.payload;if(r===e.id)return t&&_&&(0,aV.commitLocalUpdate)(t,e=>{let a=e.get(_);a||(a=e.create(_,"Pin"));let t=a.getOrCreateLinkedRecord("savedInfo","SaveTarget");t.setValue(s,"boardId"),t.setValue(n,"localPinId"),t.setValue(null,"score"),t.setValue(i,"sectionId"),t.setValue__UNSAFE(l,"title"),t.setValue(d,"type"),t.setValue(c,"url")}),{...e,savedInfo:{boardId:s??"",localPinId:n||o&&o.id,sectionId:i,title:l,type:d,url:c}};return e}case"PIN_BETTER_SAVE_CUTOUT":{let{pinId:r,boardId:s,localPinId:o,title:n,type:i,url:l,nodeId:d}=a.payload;if(r===e.id)return t&&d&&(0,aV.commitLocalUpdate)(t,e=>{let a=e.get(d);a||(a=e.create(d,"Pin"));let t=a.getOrCreateLinkedRecord("savedCutout","SaveTarget");t.setValue(s,"boardId"),t.setValue(o,"localPinId"),t.setValue__UNSAFE(n,"title"),t.setValue(i,"type"),t.setValue(l,"url")}),{...e,savedCutout:{boardId:s??"",localPinId:o,title:n,type:i,url:l}};return e}case"PIN_BETTER_UNSAVE":{let{pinId:r,nodeId:s}=a.payload;if(r===e.id){t&&s&&(0,aV.commitLocalUpdate)(t,e=>{let a=e.get(s);a&&a.setValue(null,"savedInfo")});let{savedInfo:a,...r}=e;return r}return e}case"PIN_BETTER_UNSAVE_CUTOUT":{let{pinId:r,nodeId:s}=a.payload;if(r===e.id){t&&s&&(0,aV.commitLocalUpdate)(t,e=>{let a=e.get(s);a&&a.setValue(null,"savedCutout")});let a={...e};return delete a.savedCutout,{...a}}return e}case"PIN_BETTER_SELECT_BOARD_CUTOUT":case"PIN_BETTER_SELECT_BOARD_OR_SECTION":{let{pinId:r,boardId:s,sectionId:o,score:n,title:i,type:l,url:d,nodeId:c}=a.payload;if(r===e.id)return t&&c&&(0,aV.commitLocalUpdate)(t,e=>{let a=e.get(c);a||(a=e.create(c,"Pin"));let t=a.getOrCreateLinkedRecord("selectedItem","SaveTarget");t.setValue(s,"boardId"),t.setValue(null,"localPinId"),t.setValue(n,"score"),t.setValue(o,"sectionId"),t.setValue__UNSAFE(i,"subTitle"),t.setValue(l,"type"),t.setValue(d,"url")}),{...e,selectedItem:{boardId:s??"",sectionId:o,score:n,title:i,type:l,url:d}};return e}case"DELETE_PIN_MENTION":{let{pinId:t,userId:r}=a.payload;if(t===e.id){let{story_pin_data:a}=e;if(!a)return e;let{pages:t=[]}=a,s=t.map(e=>{let{blocks:a=[]}=e,t=a.map(e=>e.type===aH.Nc.MENTION_STICKER&&e.user_id===r?{...e,is_removed:!0}:e);return{...e,blocks:t}});return{...{...e,story_pin_data:{...a,pages:s}}}}return e}case"PIN_FAVORITE":{let{id:t,increment:r,value:s}=a.payload,{favorite_user_count:o=0}=e;if(t===e.id)return{...e,favorited_by_me:s,favorite_user_count:o+r};return e}default:return e}}let aX=(0,ez.A)("pins",(e,a)=>{let t=e||{},r=(0,aK.xz)();switch(a.type){case Q.v6:case Q.LB:{let{options:e,resource:r,response:{resource_response:{data:s}}}=a.payload,{isDesktop:o}=e||{};if(r in aq){let e=aq[r](s)||[],a={...t};return e.forEach(e=>{if(!e.type||"pin"===e.type){let r="Magnite"===e.promoted_partnership_attribution_name;e.is_third_party_ad&&r&&!e.is_video&&e.videos?.video_list&&(e.is_video=!0),a[e.id]=az(t[e.id],e,!0)}}),a}if(("PinResource"===r||"PinPageResource"===r)&&s){let{preserve_component_state:a=!1}=e??{},r=s||{};return{...t,[r.id]:a?az(r,t[r.id]):az(t[r.id],r)}}if("ApiResource"===r&&e?.url?.match(/\/v3\/pins\/([0-9]|[a-z]|[A-Z])+\/board_title_suggestions\//)){if(a.type===Q.v6&&a.payload.options?.pin_id)return aJ(t,{id:a.payload.options.pin_id,boardTitleSuggestions:a.payload.response.resource_response.data.map(e=>e.title)})}else if("BoardPickerBoardsResource"===r&&!o)return function(e,a){if(a.type===Q.v6&&a.payload.normalizedResponse&&a.payload.options?.pin_id){let t=a.payload.options.pin_id,{boards_shortlist:r}=a.payload.normalizedResponse.result;return aJ(e,{id:t,boards_shortlist:r})}return e}(t,a);else if("PinInterestsResource"===r)return function(e,a){if(a.type===Q.v6&&a.payload.options?.pinId){let{options:t,response:r}=a.payload,s=r.resource_response.data;if(s?.length)return aJ(e,{id:t.pinId,related_interest_ids:s.map(e=>e.id)})}return e}(t,a);else if("StoryPinTaggedProductsResource"===r)return function(e,a){if(a.type===Q.v6){let{response:t}=a.payload,r=t.resource_response.data;if(r?.[0])return r.reduce((e,a)=>aJ(e,a),e)}return e}(t,a);return t}case Q.lI:let{payload:s}=a,o=({name:e,url:a,privacy:t,boardNodeId:s,boardId:o,nodeId:n})=>{r&&n&&(0,aV.commitLocalUpdate)(r,r=>{let i=r.get(n);i||(i=r.create(n,"Pin")),t&&i.setValue(t,"privacy");let l=r.get(s);l||((l=r.create(s,"Board")).setValue(o,"entityId"),l.setValue(e,"name"),l.setValue(a,"url"),l.setValue("board","type")),i.setLinkedRecord(l,"pinnedToBoard")})};if("RepinResource"===s.resource){let{pin_id:e,board_id:a}=s.options,{board:r,images:n}=s.response.resource_response.data,{name:i,url:l,privacy:d,node_id:c}=r;return o({name:i,url:l,privacy:d,boardNodeId:c,nodeId:t?.[e]?.node_id,boardId:a}),aJ(t,{id:e,pinned_to_board:{id:a,name:i,url:l,node_id:c,type:"board"},privacy:d,...n&&!t?.[e]?.images?{images:n}:{}})}if("BoardResource"===s.resource&&s.options.initial_pins){let e=s.options.initial_pins[0],{name:a,id:r,url:n,node_id:i}=s.response.resource_response.data;return o({name:a,url:n,boardNodeId:i,nodeId:t?.[e]?.node_id,boardId:r}),aJ(t,{id:e,pinned_to_board:{id:r,name:a,url:n,node_id:i,type:"board"}})}return t;case"CHANGE_CAROUSEL_SLOT_INDEX":case"PIN_DID_IT":case"PIN_SAVE":case"PIN_SHOW_SUGGESTED_CREATOR_RECS":case"PIN_UNSAVE":case"PIN_UPDATE_COMMENT_COUNT":case"SET_PIN_COMMENTS_DISABLED":case"PIN_SHOW_FEEDBACK":case"PIN_SHOW_FEEDBACK_OVERLAY":case"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL":case"PIN_FAVORITE":case"PIN_UPDATE_REACTION_COUNT":{let{id:e}=a.payload;if(!t[e])return t;return{...t,[e]:aQ(t[e],a)}}case"PIN_BETTER_SAVE":{let{payload:{localPin:e,pinId:r,nodeId:s}}=a,o={...t};return e&&"pin"===e.type&&(o[e.id]=e),o[r]=aQ(t[r]??{id:r,node_id:s??void 0,type:"pin"},a),o}case"PIN_BETTER_SAVE_CUTOUT":{let{payload:{localPin:e,pinId:r,nodeId:s}}=a,o={...t};return e&&"pin"===e.type&&(o[e.id]=e),t&&(o[r]=aQ(t[r]??{id:r,node_id:s,type:"pin"},a)),o}case"PIN_BETTER_SELECT_BOARD_CUTOUT":{let{pinId:e,nodeId:r}=a.payload,s={...t};return t&&(s[e]=aQ(t[e]??{id:e,node_id:r,type:"pin"},a)),s}case"APPROVE_PIN_SPONSORSHIP":case"DELETE_PIN_SPONSORSHIP":case"PIN_BETTER_UNSAVE":case"PIN_BETTER_UNSAVE_CUTOUT":case"PIN_BETTER_SELECT_BOARD_OR_SECTION":case"PIN_QUICK_SAVE":case"DELETE_PIN_MENTION":{let{pinId:e}=a.payload;if(!t[e])return t;return{...t,[e]:aQ(t[e],a)}}case"UPDATE_PINS_WITH_QUICKSAVE_REPIN":{let{payload:{newPin:e}}=a;if(e&&"pin"===e.type)return{...t,[e.id]:e};return t}case"PIN_REMOVE_USER_STORY_PIN_TAGGED_PRODUCTS":{let{payload:{blocksIds:e,pinId:r}}=a,s={...t},o=s[r];return o={...o,story_pin_data:{...o.story_pin_data,pages:o.story_pin_data?.pages?.map(a=>(a.blocks=a.blocks?.map(a=>("story_pin_product_sticker_block"===a.type&&e.includes(a.pin_id||"")&&(a.is_removed=!0),a)),a))??[]}},s[r]=o,s}case"UPDATE_PIN_REACTION_COUNT":return((e,a)=>{let{pinId:t,increment:r,reactionType:s}=a.payload;if(!e[t])return e;let o=e[t].reaction_counts??{},n=o[s]??0,i=r?n+1:Math.max(n-1,0);return 0===i?(delete e[t].reaction_counts?.[s],aJ(e,{id:t,reaction_counts:{...o}})):aJ(e,{id:t,reaction_counts:{...o,[s]:i}})})(t,a);case"PIN_DELETE":{let{pinId:e}=a.payload;return{...Object.keys(t).reduce((a,r)=>(r!==e&&(a[r]=t[r]),a),{})}}case"PIN_EDIT":{let{pinId:e,description:r,boardId:s,sectionId:o,title:n}=a.payload;return aJ(t,{id:e,closeup_user_note:r,board:{id:s,type:"board"},section:{id:o},title:n,unified_user_note:r})}case"ONE_TAP_SAVE":{let{boardId:e,localPinId:s,pinId:o,nodeId:n}=a.payload;if(t[o])return r&&n&&(0,aV.commitLocalUpdate)(r,a=>{let t=a.get(n);t||(t=a.create(n,"Pin"));let r=t.getOrCreateLinkedRecord("savedInfo","SaveTarget");r.setValue(e,"boardId"),r.setValue(s,"localPinId"),r.setValue(null,"score"),r.setValue(null,"sectionId"),r.setValue__UNSAFE(null,"title"),r.setValue(null,"type"),r.setValue(null,"url")}),aJ(t,{id:o,savedInfo:{boardId:e,localPinId:s}})}return t;case"ONE_TAP_UNSAVE":{let{pinId:e,nodeId:s}=a.payload,o=t[e];if(!o)return t;r&&s&&(0,aV.commitLocalUpdate)(r,e=>{let a=e.get(s);a&&a.setValue(null,"savedInfo")});let{savedInfo:n,...i}=o;return{...t,[e]:i}}default:return t}}),aZ=(e,a)=>{let t=e||{};if(a.type===Q.v6){let{resource:e,options:r={},response:s}=a.payload;if("VisualSearchFlashlightUnifiedResource"===e){let e=r.pin_id,{x:a,y:o,w:n,h:i}=r.crop,l=r.is_shopping,d=`related-products-unified:${e}:${a}:${o}:${n}:${i}:${l}`,{data:c}=s.resource_response,_={[d]:{priceFilters:c.price_filters,domainFilters:c.domain_filters,categoryFilters:c.category_filters}};if(Object.values(_[d]).filter(Boolean).length)return{...t,..._}}}return t},a0={promoId:"",startDate:"",endDate:"",startTime:"00:00",endTime:"",discountGroup:void 0,discountType:void 0,title:"",templateValues:{},showPromoCode:!1,modalStep:"CREATE",isLoading:!0,promoCode:void 0,errorMessages:{},activeCampaigns:[],selectedCampaignIds:[],allCampaignIds:[],campaignIdToAdGroupMap:{},isRowOpen:{},promotionsEmailRedirect:""};function a1(e=a0,a){switch(a.type){case"UPDATE_PROMO_MODAL_FIELD":return{...e,[a.field]:a.value};case"UPDATE_PROMO_CODE":return{...e,promoCode:a.value};case"UPDATE_DISCOUNT_GROUP":return{...e,discountGroup:a.value};case"UPDATE_DISCOUNT_TYPE":return{...e,discountType:a.value};case"UPDATE_INITIAL_CAMPAIGNS_STATE":{let{eligibleCampaignIds:t,filteredCampaigns:r,adGroups:s}=a.value,o={};t.forEach(e=>{o[e]=!1});let n=t.reduce((e,a)=>(e[a]={},e),{});return(s||[]).forEach(e=>{let{campaign_id:a,id:r}=e||{campaign_id:"",id:""};r&&a&&t.includes(a)&&(Object.prototype.hasOwnProperty.call(n,a)?n[a]={...n[a],[r]:{adGroupResponse:e,selected:!0}}:n[a]={[r]:{adGroupResponse:e,selected:!0}})}),{...e,isLoading:!1,activeCampaigns:r,isRowOpen:o,selectedCampaignIds:t,allCampaignIds:t,campaignIdToAdGroupMap:n}}default:return e}}let a2=(0,ez.A)("reactions",(e,a)=>{switch(e=e||{},a.type){case Q.v6:if("ReactionsResource"===a.payload.resource&&a.payload.normalizedResponse&&a.payload.normalizedResponse.entities&&a.payload.normalizedResponse.entities.reactions)return{...e,...a.payload.normalizedResponse.entities.reactions};return e;case Q.lI:let t,r,{options:s}=a.payload,{reaction_type:o,reaction_pin_id:n,user_id:i}=s;return t=e,r={user:i,id:`${n}:${i}:${o}`,reaction_type:o,type:"userreaction"},{...t,[r.id]:{...t[r.id],...r}};default:return e}}),a3=[],a6=(e,a)=>{let t=0,r=e.length-1;for(;t<=r;){let s=t+Math.floor((r-t)/2);e[s].scheduled_ts>a.scheduled_ts?r=s-1:e[s].scheduled_ts<=a.scheduled_ts&&(t=s+1)}return t},a4=(e,a)=>{if(e=e||a3,a.type===Q.v6||a.type===Q.LB){let{resource:e}=a.payload,{data:t}=a.payload.response.resource_response;if("ScheduledPinsResource"===e)return t||[]}else if("SCHEDULED_PIN_DELETE_COMPLETE"===a.type||"SCHEDULED_PIN_PUBLISH_COMPLETE"===a.type){let{payload:{scheduledPinId:t}}=a;return e.filter(e=>e.id!==t)}else if("SCHEDULED_PIN_CREATE_COMPLETE"===a.type){let{payload:{scheduledPin:t}}=a,r=a6(e,t),s=[...e];return s.splice(r,0,t),s}else if("SCHEDULED_PIN_UPDATE_COMPLETE"===a.type){let{payload:{title:t,scheduledPinId:r,scheduledTimestamp:s}}=a,o=e.find(e=>e.id===r),n=e.filter(e=>e.id!==r);if(o){let e={...o,title:t??"",scheduled_ts:s},a=a6(n,e),r=[...n];return r.splice(a,0,e),r}}return e};var a7=t(929301);let a5={animated:!1,currentSearch:{query:"",scope:"pins"},queries:{},productFilters:{},recentSearches:[],recentPersonalSearches:[],recommendedSearches:[],typeaheadCache:{},pins:{},visualSearches:{}},a9=(e,a)=>{let t=e.recentPersonalSearches.filter(e=>!a.find(a=>(a.query||"").toLowerCase()===(e.query||"").toLowerCase()));return{recentPersonalSearches:a.concat(t).slice(0,20)}},a8=(e,a)=>({...e,...a9(e,a)}),te=(e,a)=>{let t=e.recentSearches.filter(e=>!a.find(a=>(a.query||"").toLowerCase()===(e.query||"").toLowerCase()));return{recentSearches:a.concat(t).slice(0,20)}},ta=(e,a)=>({...e,...te(e,a)}),tt=(e,a,t)=>({...e,currentSearch:{query:t||"",scope:a||"pins"}}),tr=(e,a,t)=>a?a.startsWith("my_")?a8(e,[{query:t,type:"recent_personal_searches",id:t,is_verified_merchant:!1,label:t,url:""}]):ta(e,[{query:t,type:"recent_query",id:t,is_verified_merchant:!1,label:t,url:""}]):e,ts=(e,a,t,r)=>{if(!a.length){if("recent_unauth_search_suggestions"===t){let a=te(e,[]).recentSearches.filter(({type:e})=>"recent_query"===e);return{...e,recentSearches:a.concat(r).slice(0,20)}}if((t||"").split(",").length>1){let a=[],t=[];return r.forEach(e=>{"recent_personal_searches"===e.type?a.push(e):t.push(e)}),{...e,...a9(e,a),...te(e,t)}}return"recent_personal_searches"===t?a8(e,r):ta(e,r)}return{...e,typeaheadCache:{...e.typeaheadCache,[a]:r}}},to=(e,a)=>{switch(e=e||a5,a.type){case Q.v6:{let{resource:r,response:s}=a.payload;if("AdvancedTypeaheadResource"===r){let{term:t,recent_queries_tags:r}=a.payload.options??{};return ts(e,t,r,s.resource_response.data.items)}if("SearchTabResource"===r){let a,t;return a=e,t=s.resource_response.data,{...a,recommendedSearches:[...a.recommendedSearches,...t]}}if("BaseSearchResource"===r){var t;let r,o,n,{scope:i,query:l}=a.payload.options||{},d=(0,a7.n1)(a.payload.options),c=s.resource_response.data.productFilters,_={filters:s.resource_response.data.filters,guides:s.resource_response.data.guides,nags:s.resource_response.data.nag,oneBarModules:s.resource_response.data.oneBarModules,rankedGuides:s.resource_response.data.rankedGuides,sensitivity:s.resource_response.data.sensitivity,typo:s.resource_response.data.typo};return t=tr(tt({...r=e,queries:{...r.queries,[d]:_}},i,l),i,l),o=`${l}-${i}`,(n=t.productFilters[o])?c?{...t,productFilters:{...t.productFilters,[o]:Object.entries(n).reduce((e,a)=>{let t=a[0],r=a[1],s=c[t];return Array.isArray(r)&&Array.isArray(s)?e[t]=r.concat(s.filter(e=>!r.some(a=>a.label===e.label))):r&&!Array.isArray(r)&&s&&!Array.isArray(s)&&(e[t]={...r,max_value:Math.max(r.max_value,s.max_value),min_value:Math.min(r.min_value,s.min_value),suggested_max_value:Math.max(r.suggested_max_value,s.suggested_max_value)}),e},{})}}:t:{...t,productFilters:{...t.productFilters,[o]:c}}}if("SearchResource"===r){let{query:t,scope:r}=a.payload.options||{};return tr(e,r,t)}if("VisualLiveSearchResource"===r){let{data:t}=s.resource_response;return{...e,visualSearches:{...e.visualSearches,[a.payload.options.pin_id]:t.annotations}}}return e}case"CLEAR_RECENT_SEARCH":{let t,{query:r}=a.payload;return{...t=e,recentSearches:t.recentSearches.filter(e=>e.query!==r)}}case"CLEAR_RECENT_SEARCHES":return{...e,recentSearches:[]};case"CLEAR_RECENT_PERSONAL_SEARCH":{let t,{query:r}=a.payload;return{...t=e,recentPersonalSearches:t.recentPersonalSearches.filter(e=>e.query!==r)}}case"CLEAR_RECENT_PERSONAL_SEARCHES":return{...e,recentPersonalSearches:[]};case"RELOAD_VISUAL_SEARCH_ANNOTATIONS":let r,s;return r=e,s=a.payload.pinId,{...r,visualSearches:{...r.visualSearches,[s]:[]}};case"UPDATE_CURRENT_SEARCH":{let{query:t,scope:r}=a.payload;return tt(e,r,t)}case"UPDATE_RECENT_SEARCHES":{let{query:t,scope:r}=a.payload;return tr(e,r,t)}case"UPDATE_RECENT_SEARCHES_BATCH":{let{data:t}=a.payload;return{...e,recentSearches:t.slice(0,20)}}case"UPDATE_TYPEAHEAD_CACHE":{let{items:t,term:r,recent_queries_tags:s}=a.payload;return ts(e,r,s,t)}default:return e}},tn={},ti=new Set(["BoardResource","PinResource","RepinResource"]),tl=(e,a)=>{switch(e=e||tn,a.type){case"REPLACE_STATE":return{...e,...a.payload.session};case"SET_LOGIN_SIGNUP_FROM":if(a.payload.from!==e.loginSignupFrom)return{...e,loginSignupFrom:a.payload.from};return e;case"SET_UNAUTH_SAVE_PIN_ID":return{...e,unauthSavePinId:a.payload.unauthSavePinId};case"DISMISS_UNAUTH_SAVE":return{...e,unauthSavePinId:void 0};case"COMPLETE_UNAUTH_SAVE_ACTION":return{...e,hasSavedUnauthPin:!0};case"AUTHENTICATE_USER":case"REGISTER_USER":return{...e,isAuthenticated:!0,userId:a.payload.user.id};case"SET_VIEWED_IMAGE":let{viewedImageSignature:t}=a.payload,{viewedImages:r}=e,s=[t].concat((r||[]).slice(0,10).filter(e=>e!==t));return{...e,viewedImages:s};case"SET_VIEWED_SHARED_PINS":return{...e,viewedSharedPins:a.payload.pins};case"SHOW_BIZ_NUX_HOMEFEED_LOADER":return{...e,isBizNuxHomefeedLoadShown:a.payload};case"SHOW_REPIN_ANIMATION":return{...e,isShowingRepinAnimation:!0};case"HIDE_REPIN_ANIMATION":return{...e,isShowingRepinAnimation:!1};case"SHOW_REPIN_CONFETTI_ANIMATION":return{...e,isShowingRepinConfettiAnimation:!0};case"HIDE_REPIN_CONFETTI_ANIMATION":return{...e,isShowingRepinConfettiAnimation:!1};case"SET_NUM_SIGNUP_STEPS":return{...e,numSignupSteps:a.payload.steps};case"HIDE_NAV_FOOTER":return{...e,shouldHideNavBar:!0};case"SHOW_NAV_FOOTER":return{...e,shouldHideNavBar:!1};case"BOARD_DELETE":case"BOARD_SECTION_DELETE":case"PIN_DELETE":return{...e,isProfilePinsStale:!0};case"CREATE_COMPLETE":let{resource:o}=a.payload;return ti.has(o)?{...e,isProfilePinsStale:!0}:e;case"SET_OWN_PROFILE_PINS_REFRESH":return{...e,isProfilePinsStale:!1};case"DISMISS_UNAUTH_APP_UPSELL":return{...e,unauthInterstitialDismissed:!0};case"LOGGED_OUT_USER_INFO_FOUND":return{...e,loggedOutUserInfo:a.payload};case"LOGGED_OUT_USER_INFO_NOT_FOUND":return{...e,loggedOutUserInfo:null};case"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX":if(e.isAuthenticated)return{...e,firstHomeFeedRequestAfterNux:a.payload};return e;case"SET_LANDING_PAGE_TYPE":return{...e,landingPageType:a.payload};default:return e}},td=(e,a)=>{if(e=e||{},a.type===Q.v6||a.type===Q.LB){let{payload:{response:t,resource:r,options:s={}}}=a;if("CountriesResource"===r)return{...e,countryOptions:t.resource_response.data.map(e=>({value:e.key,label:e.name}))};if("LocalesResource"===r)return{...e,localeOptions:t.resource_response.data.map(e=>({value:e.key,label:e.name}))};if("ApiResource"===r&&"/v3/settings/news/"===s.url)return{...e,newsSettings:t.resource_response.data};if("ApiResource"===r&&"/v3/settings/push/"===s.url)return{...e,pushSettings:t.resource_response.data}}if("SETTINGS_CHANGE"===a.type){let{id:t,value:r}=a.payload,{newsSettings:s,pushSettings:o}=e,n=s?.map(e=>(e.options=e.options.map(e=>(e.id===t&&(e.value=r),e)),e))??[],i=o?.map(e=>(e.options=e.options.map(e=>(e.id===t&&(e.value=r),e)),e))??[];return{...e,newsSettings:n,pushSettings:i}}return e},tc=e=>e.trim().toLowerCase(),t_=(0,ez.A)("stories",(e,a)=>{switch(e=e||{},a.type){case Q.lI:case Q.LB:if("BoardSectionResource"===a.payload.resource&&a.payload.normalizedResponse){let{name:t,board_id:r}=a.payload.options??{};return(({state:e,boardId:a,name:t})=>{let r=tc(t);return Object.keys(e).reduce((t,s)=>{let o=e[s];return{...t,[s]:"section_title_recommendations"===o.story_type&&o?.objects?.find(e=>"board"===e.schema&&e.id===a)?{...o,objects:o.objects?.filter(e=>"board_section_name_recommendation"!==e.type||tc(e.name||"")!==r)}:o}},{})})({state:e,boardId:r,name:t})}return e;case Q.v6:if("BoardsFeedResource"===a.payload.resource){let t=a.payload.response.resource_response.data.filter(e=>"story"===e.type).reduce((e,a)=>({...e,[a.id]:a}),{});return{...e,...t}}return e;default:return e}}),tu=(e,a)=>{switch(e=e||{},a.type){case Q.v6:case Q.LB:{let{response:t,resource:r}=a.payload,{data:s}=t.resource_response;if("StoryPinDraftsResource"===r){let a=(s||[]).filter(Boolean).reduce((e,a)=>(e[a.id]=a,e),{});return{...e,...a}}return e}case"STORY_PIN_DATA_DELETE":{let{storyPinDataId:t}=a.payload,r={...e};return delete r[t],r}default:return e}},tp={},tE=(e,a)=>{if(e=e||tp,a.type===Q.v6||a.type===Q.LB){let{response:{resource_response:{data:t}},resource:r}=a.payload;if(["RelatedArticlesResource","TodayTabInterestFeedResource","TodayTabResource"].includes(r)&&t){let a=t.reduce((e,a)=>((0,aY.Tj)(a)&&(e[a.id]=a),e),{});return{...e,...a}}if("TodayArticleResource"===r&&t?.id){let a={[t.id]:t};return{...e,...a}}if("TodayArticleFeedResource"===r&&t&&(0,aY.u8)(t)){let a=t.reduce((e,a)=>(Array.isArray(a.objects)&&a.objects.forEach(a=>{(0,aY.Tj)(a)&&(e[a.id]=a)}),e),{});return{...e,...a}}}return e},tS=(0,ez.A)("todayArticles",(e,a)=>(e=e||{},a.type,e)),tT=(e,a)=>({...e,[a.id]:{...e[a.id],...a}}),ty=(0,ez.A)("topics",(e,a)=>{switch(e=e||{},a.type){case"TOPIC_FOLLOW":let{payload:{id:t,value:r}}=a;return tT(e,{id:t,is_followed:r});case Q.v6:let{payload:{options:s,resource:o,response:n}}=a,i=n.resource_response.data,l="ApiResource"===o&&s?.url?.match(/\/v3\/boards\/([0-9]|[a-z]|[A-Z])+\/interests\//);if(("PinInterestsResource"===o||l)&&i?.length)return i.reduce((e,a)=>tT(e,a),e);return e;default:return e}}),tA=(0,ez.A)("triedits",(e,a)=>(e=e||{},a.type,e)),tR={current:null,locationToErrorMap:{}},tI={step:"welcome"},tm={images:[]},tg={images:[]},tC={recentSaves:[],recentUpsell:{}},tf={mainComponent:(e,a)=>{if(e=e||tR,"SET_LOCATION_TO_ERROR_MAP_ENTRY"===a.type){let t={...e.locationToErrorMap};return t[a.payload.pathname]=a.payload.renderError,{...e,locationToErrorMap:t}}if("UNSET_LOCATION_TO_ERROR_MAP_ENTRY"===a.type){let t={...e.locationToErrorMap};return delete t[a.payload.pathname],{...e,locationToErrorMap:t}}return e}},tP={nuxSelectedInterestImages:(e,a)=>(e=e||tm,"SET_NUX_SELECTED_INTEREST_IMAGES"===a.type)?{...e,images:a.payload.images}:e,nuxSelectedPinImages:(e,a)=>(e=e||tg,"SET_NUX_SELECTED_PIN_IMAGES"===a.type)?{...e,images:a.payload.images}:e,nuxProgress:(e,a)=>(e=e||tI,"SET_NUX_PROGRESS"===a.type)?{...e,step:a.payload.step}:e,postRepinMoreIdeasUpsell:(e,a)=>{switch(e=e||tC,a.type){case"PIN_BETTER_SAVE":{let{localPin:t,boardId:r}=a.payload;if(!t||!r)return e;return{...e,recentSaves:[{boardId:r},...e.recentSaves]}}case"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN":{let{boardId:t}=a.payload;return{...e,recentUpsell:{...e.recentUpsell,[t]:Date.now()}}}default:return e}}},tO=(0,w.combineReducers)({...tf,...tP});(0,w.combineReducers)(tf);let tN=["SearchResource","UserFollowingResource"],th=(e,a)=>({...e,[a.id]:{...e[`${a.id}`],...a}}),tD=(e,a)=>a.reduce((e,a)=>{let{type:t}=a;return t&&"user"!==t?e:th(e,a)},{...e});function tL(e,a){switch(a.type){case"UPDATE_USER_PIN_COUNT":{let{payload:{increment:t}}=a;return{...e,pin_count:(e.pin_count||0)+t}}case"USER_FOLLOW":let{value:t}=a.payload;return{...e,explicitly_followed_by_me:t,follower_count:(e.follower_count??0)+(t?1:-1)};case"USER_FOLLOWING_COUNT":let{following:r}=a.payload;return{...e,following_count:(e?.following_count??0)+(r?1:-1)};case"USER_BLOCK":return{...e,blocked_by_me:a.payload.value,...a.payload.value?{explicitly_followed_by_me:!1}:{}};default:return e}}function tw(e){let a=(e&&e.id)??"";return{[a]:{...e||{},id:a}}}let tv={vmpBannerLastDismissedAt:{},vmpWelcomeBannerDismissCount:{},vmpCelebrationBannerDismissed:{}};function tU(e,a){if(e=e||tv,a.type!==Q.v6)return e;{let{payload:{response:t,resource:r,options:s}}=a,o=t.resource_response.data,n=s?.userId||"";return"VerifiedMerchantResource"===r&&o?{...e,[n]:o}:e}}let tb=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():e=>e;var tG=t(646844);function tM({initialServerContext:e,initialReduxState:a,isAppShell:U,requestContext:b}){let M,F,V,H,x,W=((0,g.A)("AppInitMainStart"),M="homescreen_icon"===(0,h.A)(window.location.search).utm_source,a.session.isPWA=M,F=!!(0,h.A)(window.location.search).utm_pai,a.session.isPaidTraffic=F,V=(0,O.y1)(),H=(0,N.V2)(),a.currentUserTracker=function({requestContext:e,storageAccessAllowed:a}){var r;let{userAgent:s,country:o,unauthId:A}=e,R=function(e){let a,{fullPath:t,origin:r,isBot:s,isSocialBot:o,referrerFromHeader:n,referrerFromCookie:i,countryFromHostName:l,countryFromIp:d,regionFromIp:c,isAuthenticated:_,inviteCode:u}=e;try{a=new URL(t,r).searchParams}catch(r){let e=t.indexOf("?");a=new URLSearchParams(e>=0?t.slice(e+1):"")}let p=!s&&!!a.get("utm_pai"),E=a.get("utm_source"),y=!s&&!o&&!!u,A=(0,T.A)({countryFromHostName:l||"",countryFromIp:d||"",regionFromIp:c,isAuthenticated:_}),R=n||A&&(i||"")||"",I=(0,S.Eb)(R);return{isPaid:p,isInvite:y,utmSource:E,referrer:R,isSocial:y,isSEO:!s&&I}}(e),I=(0,E.A)(e),m=function({storageAccessAllowed:e}){let a=(0,n.mt)("local"),t=(0,u.A)(a),r=(0,n.t0)("local"),s=(0,n.HG)("local"),o=(0,n.XS)("local"),d=(0,n.BB)("local"),c=(0,n.ZB)("local"),{state:_,wasUpdated:E}=(0,p.A)(c);E&&e&&(0,n.ML)(_,"local");let S=i(_),T=l({completedSearches:r,closeupPins:t,clickthroughPins:s,downloadedPinsCount:o});return{visitedUnauthPages:a,closeupPins:t,completedSearches:r,clickthroughPins:s,downloadedPinsCount:o,savedPins:d,revisitationState:_,daysSinceLastRevisitation:S,isQUS:T}}({storageAccessAllowed:a}),g=(r=s.raw||"")&&"string"==typeof r?(0,c.by)(r)?"pinterest":(0,c.lq)(r)?"instagram":/wechat|micromessenger/i.test(r)?"wechat":(0,c.SS)(r)||/facebook|fbav|fban|tiktok|twitter|line/i.test(r)?"social":"none":"none",C="u">typeof window?window.location.pathname:"";return{isAuthenticated:+!!e?.isAuthenticated,storageAccessAllowed:+!!a,country:o,region:o?(0,_.A)(o.toUpperCase()):"OTHER",referrer:R.referrer||"",unauthId:A,userAgent:s,channel:R.isPaid?"paid":R.isInvite?"invite":R.isSocial?"social":R.isSEO?"seo":R.utmSource?`utm_${R.utmSource}`:"direct",iab:g,deviceType:I,isIAB:"instagram"===g||"wechat"===g||"social"===g,landingPageType:function(e){let{isAnyTodayPage:a,isHubOrIdeaPage:r,isBoardSectionPage:s,isBoardPage:o,isCloseupPage:n,isHomePage:i,isSearchPage:l,isTopicPage:d}=t(104735),c=t(445349).A,_={pathname:e};return a(_)?"today":r(_)?"ideas":s(_)?"section":o(_)?"board":n(_)?"closeup":i(_)?"home":c(_)?"profile":l(_)?"search":d(_)?"topic":""}(C),revisitationCount:(0,d.A)(m.revisitationState,y.Y),currentPageViewType:202,...m}}({requestContext:b,storageAccessAllowed:V.accessAllowed&&H.accessAllowed}),x=(0,w.createStore)((0,w.combineReducers)(function({viewingUser:e}){var a;let t;return{adminUser:k,articles:eJ,billing:eQ,boards:e3,boardsections:e5,businessAccess:eK,businessNux:e8,underageConfirmation:B,changeBoardFromToast:aa,contactRequests:at,createBoardUpsell:as,currentUserTracker:Y,desktopStories:al,didItData:ap,experiences:q,experiencesMulti:$,explore:aE,feeds:aS.A,flashlight:aT,guidance:z,homefeedTabUI:ay,inbox:aA,invites:aR.A,marketingPlan:am,modules:ag,mostRecentBoard:aC,notifications:af,pinbuilder:aM,pinbuilderMobile:ak,pinNavContext:aF,pins:aX,productFilters:aZ,promotionsUpsell:a1,reactions:a2,resources:Z,scheduledPins:a4,search:to,session:tl,settings:td,stories:t_,storyPinData:tu,todayarticles:tE,todayArticles:tS,topics:ty,triedits:tA,ui:tO,users:(a=e,t=(a&&a.id)??"",(0,ez.A)("users",(e=tw(a),r)=>{let s=t?e[t]:void 0;switch(r.type){case"REPLACE_STATE":return{...e,...r.payload.users};case"BOARD_SECTION_DELETE":{let{userId:a,pinCount:t}=r.payload,s=e[a]?.pin_count??0;return th(e,{id:a,pin_count:s-t})}case Q.lI:{let{options:a,resource:t,response:s}=r.payload,o=a.user_id;if(o){let{board_count:r=0,pin_count:n=0}=e[o]||{},{resource_response:i}=s;if("BoardResource"===t){let{initial_pins:t}=a,{owner:s={}}=i.data;return th(e,{id:o,pin_count:s.pin_count||n+t.length,board_count:r+1,last_repin_id:t[0]})}if("RepinResource"===t||"PinResource"===t&&"uploaded"===a.method){let{pin_id:r}=a,{pinner:s={}}=i.data;return th(e,{id:o,..."PinResource"===t&&{pin_count:(s.pin_count||n)+1},last_repin_id:r})}}return e}case Q.v6:case Q.LB:let{resource:o,normalizedResponse:n,options:i,response:{resource_response:{data:l}}}=r.payload;if(r.type===Q.v6&&"BoardPickerBoardsResource"===o&&n)return th(e,{id:i?.user_id||"",recent_boards:n.result.boards_shortlist});if("UserResource"===o&&l)return th(e,l);if(tN.includes(o)&&l)return tD(e,l);if("TodayArticleResource"===o&&l?.article_creator_user)return th(e,l.article_creator_user);if("TodayArticleFeedResource"===o&&Array.isArray(l))return tD(e,l.filter(e=>"story"===e.type&&e.user?.type==="user").map(e=>e.user));return e;case"USER_BLOCK":let{payload:{id:d}}=r;if(e[d])return{...e,[d]:tL(e[d],r)};return e;case"USER_FOLLOW":let{payload:{id:c}}=r;if(e[c])return{...e,[c]:tL(e[c],r)};return e;case"USER_FOLLOWING_COUNT":let{payload:{id:_}}=r;if(e&&e[_])return{...e,[_]:tL(e[_],r)};return e;case"USER_BULK_FOLLOW":let{ids:u,value:p}=r.payload,E={...e};return u.forEach(a=>{let t=e[a];E[a]={...t,explicitly_followed_by_me:p}}),E;case"USER_SETTING_CHANGE":return th(e,{id:r.payload.id,[r.payload.field]:r.payload.value});case"USER_PARTNER_SETTING_CHANGE":let S;return S={id:r.payload.id,partner:{[r.payload.field]:r.payload.value}},{...e,[S.id]:{...e[S.id],partner:{...e[S.id].partner,...S.partner}}};case"UPDATE_USER_PIN_COUNT":{let{payload:{userId:a}}=r;if(e[a])return{...e,[a]:tL(e[a],r)};return e}case"UPDATE_USER_SCHEDULED_PIN_COUNT":{let{payload:{userId:a,increment:t}}=r,s=e[a],o=s.scheduled_pin_count||0;return{...e,[a]:{...s,scheduled_pin_count:o+t}}}case"PROFILE_COVER_SOURCE":let{payload:{coverSource:T,id:y}}=r,A=e[y]||{};return{...e,[y]:{...A,profile_cover:T}};case"BOARD_CREATE_COMPLETE":if(s&&!s.has_quicksave_board)return{...e,[s.id]:{...s,board_count:void 0===s.board_count?void 0:s.board_count+1}};return e;case"BOARD_DELETE":if(s){let{boardPinCount:a}=r.payload,t=s.pin_count??0;return{...e,[s.id]:{...s,board_count:s.board_count?s.board_count-1:s.board_count,pin_count:t-(a??0)}}}return e;case"PIN_DELETE":return th(e,{id:r.payload.userId,pin_count:(e[r.payload.userId]?.pin_count??0)-1});case"PIN_ADD":let{pinnerId:R}=r.payload;return th(e,{id:R,pin_count:(e[R]?.pin_count??0)+1});case"SET_PERSONALIZATION_COOKIES":if(s){let{payload:a}=r;return{...e,[s.id]:{...s,allow_personalization_cookies:a.value}}}return e;case"SET_ANALYTICS_COOKIES":if(s){let{payload:a}=r;return{...e,[s.id]:{...s,allow_analytic_cookies:a.value}}}return e;case"SET_MARKETING_COOKIES":if(s){let{payload:a}=r;return{...e,[s.id]:{...s,allow_marketing_cookies:a.value}}}return e;case"ALLOW_ALL_COOKIES":if(s)return{...e,[s.id]:{...s,allow_personalization_cookies:!0,allow_analytic_cookies:!0,allow_marketing_cookies:!0}};return e;case"REJECT_ALL_COOKIES":if(s)return{...e,[s.id]:{...s,allow_personalization_cookies:!1,allow_analytic_cookies:!1,allow_marketing_cookies:!1}};return e;case"AUTHENTICATE_USER":case"REGISTER_USER":let I=r.payload.user.id;return t=I,{...e,[I]:{...e[I],...r.payload.user}};case"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX":let m=r.payload;if(s&&s.firstHomeFeedRequestAfterNux!==m)return{...e,[s.id]:{...s,firstHomeFeedRequestAfterNux:m}};return e;case"UPDATE_USER_SET":if(s){let a=r.payload.partner?{...s.partner,...r.payload.partner}:s.partner;return{...e,[s.id]:{...s,...r.payload,partner:a}}}return e;case"UPDATE_USER_SOCIAL_NETWORK":if(s){let a=r.payload.socialNetworkName;return{...e,[s.id]:{...s,[`connected_to_${a}`]:r.payload.connected}}}return e;case"UPDATE_HAS_QUICKSAVE_BOARD":let{createdQuicksaveBoard:g}=r.payload;if(s&&s.has_quicksave_board!==g){let{createdQuicksaveBoard:a}=r.payload;return{...e,[s.id]:{...s,has_quicksave_board:a}}}return e;case"UPDATE_USER_SAVE_BEHAVIOR":let{saveBehavior:C}=r.payload;if(s&&s.save_behavior!==C)return{...e,[s.id]:{...s,save_behavior:C}};return e;case"USER_DOMAIN_VERIFIED":if(s&&s.verified_user_websites){let{verifiedWebsite:a}=r.payload;return{...e,[s.id]:{...s,verified_user_websites:[...s.verified_user_websites,a],is_any_website_verified:!0}}}return e;case"USER_DOMAIN_UNVERIFIED":if(s&&s.verified_user_websites){let{verifiedWebsite:a}=r.payload,t=s.verified_user_websites&&s.verified_user_websites.indexOf(a),o=s.verified_user_websites&&s.verified_user_websites.slice(0);return o&&o.splice(t,1),{...e,[s.id]:{...s,verified_user_websites:o,isAnyWebsiteVerified:o&&o.length>0}}}return e;default:return e}})),verifiedMerchants:tU,upsell:ec}}({viewingUser:e.user})),a,(0,w.compose)((0,w.applyMiddleware)(...G),(0,v.C)({type:"tick"}),tb)),(0,g.A)("ReduxStoreInitialized"),(0,C.Uy)("ReduxStoreInitialized"),x);return!function(e,a){let{isAuthenticated:t,unauthId:n,userAgent:{isMobile:i,isTablet:l}}=e;!i&&!l&&t&&(A.A.initFocus(),"u">typeof window&&window.addEventListener("focus",()=>{(0,s.A)()})),document.hasFocus()&&(0,s.A)(),(0,g.A)("ContextInitialized"),(0,o.bE)(()=>(0,D.A)((0,L.A)(a.getState())),()=>e),window.unauthId=n,"1"===(0,h.A)(window.location.search).oe&&(0,N.V2)().setItem(r.E7,"OPEN_UNAUTH")}(b,W),!function(e){let{isAuthenticated:a}=e;"chrome"===(0,R.uy)(window)&&window.navigator.userAgent&&window.navigator.userAgent.includes("CrOS")&&(0,R.B1)(window);let t=(0,I.A)({requestContext:e});(0,m.T2)(t,a?[]:["facebook_autologin","google_autologin_gsi","google_autologin"])}(b),!function(e,a,t){let{isAuthenticated:r,experimentsClient:s,userAgent:{isMobile:o,isTablet:n,browserName:i,browserVersion:l}}=e,d=!n&&!o,c="Chrome"===i&&Number(l.split(".")[0])>=123,{anyEnabled:_,group:u}=s.checkExperiment("web_sw_periodic_sync"),p=_&&r&&c;(0,f.gm)(a);let E=r&&d&&c;r&&(!d||E)&&(0,f.Lz)({enablePeriodicSync:p,periodicSyncGroup:p?u:null}),r||(0,P.A)(),function({isAppShell:e,isAuthenticated:a}){"u">typeof window&&window.navigator&&"serviceWorker"in window.navigator&&"addEventListener"in window.navigator.serviceWorker&&(window.navigator.serviceWorker.addEventListener("message",e=>{switch(e.data.message){case"replay-resource-requests-success":(0,tG.GV)("replay_resource_request.success",{sampleRate:1});break;case"replay-resource-requests-failed":(0,tG.GV)("replay_resource_request.failed",{sampleRate:1,tags:{errorMessage:e.data.replayErrorMessage}});break;case"log-service-worker-exp-group-got-from-headers":(0,tG.GV)("sw_detect_resource_requests",{sampleRate:1,tags:{serviceWorkerGroup:e.data.group,experimentVersion:"v8"}})}}),(0,f.yQ)({isAuthenticated:a,isAppShell:e}))}({isAppShell:t,isAuthenticated:r})}(b,W,U),W}},964657(e,a,t){function r(e){if(!e)return e;let a=e.replace(/%26/gi,"&");return(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace(/%3F/gi,"?")).replace(/%23/gi,"#")).replace(/%2B/gi,"+")).replace(/%3B/gi,";")).replace(/%2C/gi,",")).replace(/%2F/gi,"/")).replace(/%3A/gi,":")).replace(/%40/gi,"@")).replace(/%3D/gi,"=")).replace(/%24/gi,"$")}function s(e){return Object.keys(e).reduce((a,t)=>({...a,[t]:r(e[t]??"")}),{})}t.d(a,{A:()=>s,j:()=>r})},855512(e,a,t){t.d(a,{M:()=>r,a:()=>s});let r="ADD_PRODUCT_PIN_STORY";function s(e){return{type:"ADD_PRODUCT_PIN_STORY",payload:e}}},763670(e,a,t){t.d(a,{A:()=>o,u:()=>s});var r=t(556596);let s={pinAdditionalNote:"",pinAdditionalNoteError:null,description:"",descriptionError:null,editorInstanceId:"",isTaggable:!0,link:"",linkError:null,media:null,pinTagIds:[],selectedPinTagId:null,tagError:null,title:"",titleError:null,canvasJson:null,signals:{},userMentionTags:[]},o=(e,a)=>{switch(e=e||s,a.type){case"PIN_DRAFT_ADD_PIN_ITEM":case"PIN_ITEM_UPDATE_DATA":{let{pinItem:t}=a.payload;return{...e,...t,signals:{...e.signals,...t?.signals}}}case"PIN_ITEM_ADD_PIN_TAG":{let{pinTagId:t}=a.payload;return{...e,pinTagIds:[...e.pinTagIds,t]}}case"PIN_ITEM_REMOVE_PIN_TAG":{let{pinTagId:t}=a.payload;return{...e,pinTagIds:e.pinTagIds.filter(e=>e!==t)}}case"PIN_ITEM_SET_DESCRIPTION":{let{description:t}=a.payload;return{...e,description:t}}case"PIN_ITEM_SET_DESCRIPTION_ERROR":{let{descriptionError:t,signals:r}=a.payload;return{...e,descriptionError:t,signals:{...e.signals,...r}}}case"PIN_ITEM_SET_IS_TAGGABLE":{let{isTaggable:t}=a.payload;return{...e,isTaggable:t}}case"PIN_ITEM_SET_LINK":{let{link:t}=a.payload;return{...e,link:t}}case"PIN_ITEM_SET_LINK_ERROR":{let{linkError:t,signals:r}=a.payload;return{...e,linkError:t,signals:{...e.signals,...r}}}case"PIN_ITEM_SET_MEDIA":{let{media:t}=a.payload,r=t?.type!=="localVideo"&&(!!t&&!e.link||e.isTaggable);return{...e,canvasJson:null,isTaggable:r,media:t,...null===t?{originalMedia:null}:{},pinTagIds:[],selectedPinTagId:null}}case"PIN_ITEM_UPDATE_MEDIA":{let{media:t}=a.payload;return{...e,media:e.media?(0,r.A)(e.media,t):null}}case"PIN_ITEM_SET_SELECTED_PIN_TAG_ID":{let{selectedPinTagId:t}=a.payload;return{...e,selectedPinTagId:t}}case"PIN_ITEM_SET_TAG_ERROR":{let{tagError:t}=a.payload;return{...e,tagError:t}}case"PIN_ITEM_SET_TITLE":{let{title:t}=a.payload;return{...e,title:t}}case"PIN_ITEM_SET_TITLE_ERROR":{let{titleError:t,signals:r}=a.payload;return{...e,titleError:t,signals:{...e.signals,...r}}}case"PIN_ITEM_SET_EDITED_IMAGE":{let{editedMedia:t,canvasJson:r}=a.payload;return{...e,media:t,originalMedia:e.originalMedia||e.media,canvasJson:r}}default:return e}}},324860(e,a,t){function r(e){let{users:a}=e;if(!a)return;let t=Object.keys(a).find(e=>void 0!==a[e].login_state);return t?a[t]:void 0}t.d(a,{A:()=>r})},992679(e,a,t){t.d(a,{xz:()=>E,b3:()=>_,Ay:()=>p});var r=t(369487),s=t(850607),o=t(216366),n=t(20708),i=t(143388),l=t(646844);function d(e,a,t){var r;return(a="symbol"==typeof(r=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,a||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?r:r+"")in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}class c extends Error{constructor(...e){super(...e),d(this,"name","GraphQLFetchError"),d(this,"extraData",{})}}function _(e){let a=!0;async function t(t,r){let d=Date.now(),_=(0,o.q)(),u=document.cookie.match(RegExp("\\b"+s.mh.name+"=.+?($|;)","g")),p=e?e():{},E=function({handler:e,queryName:a,windowIsInFocus:t}){let{searchParams:r}=new URL(window.location.href),s=r.get("force_country"),o=r.get("force_country_from_ip"),l=r.get("force_region_from_ip"),d=r.get("skan_test"),c={};return s&&(c["X-Force-Country"]=s),o&&(c["X-Force-Country-From-IP"]=o),l&&(c["X-Force-Region-From-IP"]=l),d&&(c["X-Pinterest-SKAN-Testing"]=d),e&&(c["X-Pinterest-PWS-Handler"]=e),{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":(0,n.Qm)(),"X-Requested-With":"XMLHttpRequest","X-Pinterest-Source-Url":(0,i.A)(),"X-Pinterest-GraphQL-Name":a,"X-Pinterest-AppState":t?"active":"background",...c}}({handler:_,queryName:t.name,windowIsInFocus:a,...p});try{let e=await fetch("/_/graphql/",{credentials:"include",method:"POST",headers:E,body:JSON.stringify({queryHash:t.id,variables:r})});return(0,l.N9)("pws.graphql.fetchQueryClient.request",Date.now()-d,{sampleRate:1,tags:{handler:_??"unknown",queryName:t.name,status:e.status}}),await e.json()}catch(a){let e=new c(a.message);throw e.stack=a.stack,e.extraData={csrfCookies:u?.join(";")??"unknown",requestHeaders:E},(0,l.GV)("pws.graphql.fetchQueryClient.networkError",{sampleRate:1,tags:{handler:_,queryName:t.name}}),e}}return window.addEventListener("focus",()=>a=!0),window.addEventListener("blur",()=>a=!1),function(e,a){var r,s;let n,i,d,c;return r=e,s=a,d=JSON.stringify(function e(a){if(!a||"object"!=typeof a)return a;if(Array.isArray(a))return a.map(e);let t=Object.keys(a).sort(),r={};for(let s=0;s<t.length;s+=1)r[t[s]]=e(a[t[s]]);return r}({queryID:r.id??r.cacheID,variables:s})),((c=window.__PWS_RELAY_SSR_REQUESTS__?.[d])?(n=(0,o.q)(),i=c.status,(0,l.GV)("pws.graphql.fetchQueryClient.fetchFromSSRCache.hit",{tags:{handler:n??"unknown",queryName:r.name,status:i}}),c.promise.finally(()=>{(0,l.N9)(`pws.graphql.fetchQueryClient.fetchFromSSRCache.${c.status}`,c.endTime-c.startTime,{tags:{handler:n??"unknown",initialStatus:i,queryName:r.name}}),"completed"===c.status&&c.startTime>c.endTime&&(0,l.GV)("pws.graphql.fetchQueryClient.fetchFromSSRCache.completedBeforePending",{tags:{handler:n??"unknown",queryName:r.name}})}),"completed"===c.status)?c.response:"rejected"===c.status?null:c.promise:null)??t(e,a)}}let u=null;function p(){let e=new r.Environment({network:r.Network.create(_()),store:new r.Store(new r.RecordSource)});return"u">typeof window&&(u=e),e}function E(){return u}},534703(e,a,t){t(693117),t(646844),t(811285),e=t.hmd(e)},506679(e,a,t){let r,s,o,n;t.d(a,{A:()=>e5});var i=t(296540),l=t(205338),d=t(278106),c=t(389772),_=t(646844),u=t(474623),p=t(688998),E=t(441472),S=t(693117),T=t(426459),y=t(216366);class A extends Error{constructor(e){super(`Unexpected nested index.js found at "${e}". Create a file with the name for the path that you want instead "${e.replace(/index\.js$/,"")}.js"`)}}var R=t(234784),I=t(369487),m=t(849961),g=t(992679),C=t(274172),f=t(760906),P=t(295700),O=t(34099);let N=["web_sw_specify_hostname","web_sw_with_early_hydration","web_install_sw_on_unauth_landing","web_sw_early_registration","delta_compressed_mjs","web_sw_periodic_sync","web_sw_include_polyfills"];async function h({didLoadNewFiles:e,files:a=[],handlerId:t,isAuthenticated:r,isInitialLoad:s,country:o}){let n=t===(0,y.q)(),i=(0,f.A)(o),l={didLoadNewFiles:e,handler:t,isCurrentHandler:n,isAuthenticated:r,isInitialLoad:s,serviceWorker:(0,O.A)()?"true":"false"};if((0,P.pI)({eventName:"pws.clientLoader.cacheHits",value:1,tags:l,sampleRate:1,annotateExperiments:N}),window.performance&&window.performance.getEntriesByType){(0,u.A)("logCacheHitsStart");let e=[];e=s?window.performance.getEntriesByType("resource"):window.performance.getEntriesByType("resource").filter(e=>!!a.find(a=>e.name.endsWith(a)));let t=(0,p.tQ)(),r=t?.precacheDataPromise,o={},d=[],c={};if(r)try{let{storageInfo:e,cacheHitData:a}=await r;(0,u.A)("endGetDataFromServiceWorkerPromise"),o=e,d=a,c=function(e){if(!e)return{};let a=Object.entries(e).filter(([,e])=>e?.evictionType==="cacheEviction"&&e?.cacheDelta!==void 0);if(a.length>=1){let e=a.sort(([,e],[,a])=>{let t=Math.abs(e.cacheDelta);return Math.abs(a.cacheDelta)-t})[0];if(e){let t,[r,s]=e,o=parseInt(r,10);if(o<2e4){let e=500*Math.floor(o/500);t=`${e}-${e+499}`}else t="over20s";return{hasSingleCacheEviction:1===a.length,hasMultipleCacheEvictions:a.length>1,cacheEvictionCount:a.length,cacheEvictionTimeBucket:t,isPrecacheWipe:!!s.isPrecacheWipe}}}return{hasSingleCacheEviction:!1,hasMultipleCacheEvictions:!1,cacheEvictionCount:0}}(o)}catch(e){(0,P.pI)({eventName:"pws.clientLoader.cacheHits.precacheDataPromise.error",value:1,tags:l,sampleRate:1,annotateExperiments:N})}else(0,P.pI)({eventName:"pws.clientLoader.cacheHits.precacheDataPromise.notFound",value:1,tags:l,sampleRate:1,annotateExperiments:N});d.forEach(e=>{let a=e.slice(e.lastIndexOf("/")+1),t=a.slice(0,a.lastIndexOf("-"));(0,P.pI)({eventName:`pws.clientLoader.precachedResource.${t}`,value:1,tags:{...l},sampleRate:1,annotateExperiments:N})});let _=0,E=0,S=0,T=0,y=0,A=0,R=0,I=0;e.forEach(e=>{if(!/\.mjs$/.test(e.name))return;if(E+=1,0===e.responseStart){S+=1;return}let a=e.name.slice(e.name.lastIndexOf("/")+1),t=a.slice(0,a.lastIndexOf("-")),r=t.replace(/^_+/,"").split("_")[0];_+=1;let s={...l,assetName:r||"unknown",assetFoundInPrecache:d.includes(a),outdatedAssetInPrecache:d.some(e=>e.startsWith(t))&&!d.includes(a),interceptedBySW:e.workerStart&&e.workerStart>0},o={...l,assetName:r||"unknown",region:i};e.workerStart&&e.workerStart>0&&(R+=1,(0,P.pI)({eventName:"pws.clientLoader.scripts.serviceWorkerIntercepted",value:1,tags:s,annotateExperiments:N}),(0,P.pI)({eventName:"pws.clientLoader.scripts.serviceWorkerIntercepted.tags",value:1,tags:o,annotateExperiments:N})),e.workerStart&&e.workerStart>0&&"fetch-event"!==e.workerFinalSourceType&&d.includes(a)&&(I+=1,(0,P.pI)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheMiss",value:1,tags:{...s,...c,isTransferSizeZero:0===e.transferSize},annotateExperiments:N}),(0,P.pI)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheMiss.tags",value:1,tags:{...o,...c,isTransferSizeZero:0===e.transferSize},annotateExperiments:N})),"number"==typeof e.transferSize&&e.transferSize>0?(T+=1,(0,P.pI)({eventName:"pws.clientLoader.scripts.cacheMiss",value:1,tags:s,annotateExperiments:N}),(0,P.pI)({eventName:"pws.clientLoader.scripts.cacheMiss.tags",value:1,tags:o,annotateExperiments:N})):0===e.transferSize&&e.workerStart&&e.workerStart>0&&"fetch-event"===e.workerFinalSourceType?(y+=1,(0,P.pI)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheHit",value:1,tags:s,annotateExperiments:N}),(0,P.pI)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheHit.tags",value:1,tags:o,annotateExperiments:N})):0===e.transferSize&&(A+=1,(0,P.pI)({eventName:"pws.clientLoader.scripts.localCacheHit",value:1,tags:s,annotateExperiments:N}),(0,P.pI)({eventName:"pws.clientLoader.scripts.localCacheHit.tags",value:1,tags:o,annotateExperiments:N}))}),"number"==typeof _&&(0,P.Be)({eventName:"pws.clientLoader.scripts.numScripts",value:_,tags:l,sampleRate:1,annotateExperiments:N}),"number"==typeof E&&(0,P.pI)({eventName:"pws.clientLoader.scripts.numScriptsUnfiltered",value:E,tags:l,sampleRate:1,annotateExperiments:N}),"number"==typeof A&&((0,P.Be)({eventName:"pws.clientLoader.scripts.localCacheHits",value:A,tags:l,sampleRate:1,annotateExperiments:N}),(0,P.Be)({eventName:"pws.clientLoader.scripts.localCacheHits.tags",value:A,tags:{...l,region:i},sampleRate:1,annotateExperiments:N})),"number"==typeof y&&((0,P.Be)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheHits",value:y,tags:l,sampleRate:1,annotateExperiments:N}),(0,P.Be)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheHits.tags",value:y,tags:{...l,region:i},sampleRate:1,annotateExperiments:N})),"number"==typeof T&&((0,P.Be)({eventName:"pws.clientLoader.scripts.cacheMisses",value:T,tags:l,sampleRate:1,annotateExperiments:N}),(0,P.Be)({eventName:"pws.clientLoader.scripts.cacheMisses.tags",value:T,tags:{...l,region:i},sampleRate:1,annotateExperiments:N})),"number"==typeof R&&((0,P.Be)({eventName:"pws.clientLoader.scripts.serviceWorkerIntercepts",value:R,tags:l,sampleRate:1,annotateExperiments:N}),(0,P.Be)({eventName:"pws.clientLoader.scripts.serviceWorkerIntercepts.tags",value:R,tags:{...l,region:i},sampleRate:1,annotateExperiments:N})),"number"==typeof S&&(0,P.pI)({eventName:"pws.clientLoader.scripts.skippedResourceTimings",value:S,tags:l,sampleRate:1,annotateExperiments:N}),"number"==typeof I&&((0,P.Be)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheMisses",value:I,tags:l,sampleRate:1,annotateExperiments:N}),(0,P.Be)({eventName:"pws.clientLoader.scripts.serviceWorkerCacheMisses.tags",value:I,tags:{...l,region:i},sampleRate:1,annotateExperiments:N}));let m="";T===_?m="cold":0===T&&A+y===_?m="warm":(A>0||y>0)&&(m="partialWarm"),(0,P.pI)({eventName:`pws.clientLoader.${m}Start`,value:1,tags:l,sampleRate:1,annotateExperiments:N}),(0,P.pI)({eventName:`pws.clientLoader.${m}Start.tags`,value:1,tags:{...l,region:i},sampleRate:1,annotateExperiments:N});let g="";g=R===_?"all":R>0?"some":"none",(0,P.pI)({eventName:`pws.clientLoader.serviceWorkerIntercepted.${g}`,value:1,tags:l,sampleRate:1,annotateExperiments:N}),(0,P.pI)({eventName:`pws.clientLoader.serviceWorkerIntercepted.${g}.tags`,value:1,tags:{...l,region:i},sampleRate:1,annotateExperiments:N}),n&&(0,p.OK)({startType:m})}(0,u.A)("logCacheHitsEnd")}function D(e){return e.reduce((e,a)=>{if(a.encodedBodySize){let t,r=a.encodedBodySize/1e3;if(t=a.name,/webapp\/.*\.m?js$/.test(t))e.scriptSize+=r;else{let t;t=a.name,/webapp\/.*\.css$/.test(t)&&(e.styleSize+=r)}}return e},{scriptSize:0,styleSize:0})}t(534703);class L extends Error{constructor(...e){var a,t;super(...e),(a="symbol"==typeof(t=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,a||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a="name","string"))?t:t+"")in this?Object.defineProperty(this,a,{value:"LoaderError",enumerable:!0,configurable:!0,writable:!0}):this[a]="LoaderError"}}function w(){let e,a=new Promise(a=>{e=a});return{resolve:e,promise:a}}class v extends Error{constructor(...e){var a,t;super(...e),(a="symbol"==typeof(t=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,a||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a="name","string"))?t:t+"")in this?Object.defineProperty(this,a,{value:"PlatformError",enumerable:!0,configurable:!0,writable:!0}):this[a]="PlatformError"}}var U=t(802724);let b=[],G=!1,M=!1;function B(e,a){(0,_.GV)("pws.initializeClient.elementFound",{tags:{phase:a,selector:e,documentReadyState:document.readyState,windowLoaded:M,domContentLoaded:G,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1,earlyHydrationGroup:window.__EARLY_HYDRATION_GROUP__??"unknown"}})}function k(e,a){(0,_.GV)("pws.initializeClient.elementNotFound",{tags:{phase:a,selector:e,documentReadyState:document.readyState,windowLoaded:M,domContentLoaded:G,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1,earlyHydrationGroup:window.__EARLY_HYDRATION_GROUP__??"unknown"}})}async function F(e){let a=document.querySelector(e);if(a)return B(e,"initial"),a;if(M)return k(e,"initial"),null;k(e,"initial");let t=new Promise(a=>{b.push({selector:e,resolve:a})});return r||((r=new MutationObserver(()=>{b=b.filter(({selector:e,resolve:a})=>{let t=document.querySelector(e);return!t||(B(e,"mutationObserver"),a(t),!1)})})).observe(document,{childList:!0,subtree:!0}),document.addEventListener("DOMContentLoaded",()=>{G=!0}),window.addEventListener("load",()=>{M=!0,r?.disconnect(),b=b.filter(({selector:e,resolve:a})=>{let t=document.querySelector(e);return t?(B(e,"onLoad"),a(t)):(k(e,"onLoad"),a(null)),!0})})),t}async function V(){let[e]=await Promise.all([F(`#${U.YL}`),F(`#${U.y}`)]);if(!e)throw(0,_.N9)("pws.initializeClient.initialPropsDOMElementNotFound",performance.now(),{sampleRate:1,tags:{documentReadyState:document.readyState,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1,earlyHydrationGroup:window.__EARLY_HYDRATION_GROUP__??"unknown"}}),new v(`#${U.YL} not found in DOM after ${performance.now()}ms. Can't start app.`);return(0,_.N9)("pws.initializeClient.initialPropsDOMElementFound",performance.now(),{tags:{documentReadyState:document.readyState,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1,earlyHydrationGroup:window.__EARLY_HYDRATION_GROUP__??"unknown"}}),JSON.parse(e.textContent??"{}")}async function H(){let[e]=await Promise.all([F(`#${U.pP}`),F(`#${U.$f}`)]);if(!e)throw new v(`#${U.pP} not found in DOM. Can't start app.`);return JSON.parse(e.textContent||"{}")}async function x(){let e=await F(`#${U.HU}`);if(!e)throw new v(`#${U.HU} not found in DOM. Can't start app.`);return e}async function Y(){let[e]=await Promise.all([F(`#${U.$x}`),F(`#${U.PM}`)]);if(!e)throw new v(`#${U.$x} could not be found.  Can't start app`);return JSON.parse(e.textContent)}var W=t(474848);(0,i.lazy)(()=>t.e("47284").then(t.bind(t,344383)));var j=t(234059),$=t(684059),q=t(20708),K=t(17209),z=t(109571),J=t(371882),Q=t(257226),X=t(110359),Z=t(981071),ee=t(82570);let ea=e=>{let a=[{pattern:"/",name:"homefeed"},{pattern:"/pin/:id",name:"pin_closeup"},{pattern:"/pin/:id/sent",name:"pin_closeup"},{pattern:"/pin/:id/visual-search",name:"flashlight"},{pattern:"/amp/pin/:id",name:"amp"},{pattern:"/today",name:"today"},{pattern:"/search",name:"search_landing_page"},{pattern:"/search/:scope",name:"search_results"},{pattern:"/notifications",name:"notifications"},{pattern:"/settings",name:"settings_landing_page"},{pattern:"/settings/:tab",name:"settings_tab"},{pattern:"/:username/_created",name:"profile_created_tab"},{pattern:"/:username/_saved",name:"profile_saved_tab"},{pattern:"/:username/:slug",name:"board"},{pattern:"/:username",name:"profile"},{pattern:"/ideas/:interest/:id",name:"topic"}].find(a=>{if(!e)return"pathname_invalid";let t=a.pattern.split("/").filter(e=>""!==e),r=e.split("/").filter(e=>""!==e);if(t.length!==r.length)return!1;for(let e=0;e<t.length;e+=1)if(!t[e].startsWith(":")&&r[e]!==t[e])return!1;return!0});return a?a.name:"unknown"},et=(o=!1,n=new Set,function(e){s?e(s):(n.add(e),o||(o=!0,(0,Q.fK)(e=>{for(let a of(s=e,n))a(e),n.delete(a)})))});var er=t(43227),es=t(797173),eo=t(494358),en=t(909711);let ei=(e,a)=>{if(!e)return"NODE_REMOVED";let t="cls"===a?e.nodeName:e.tagName;return t||null!==e.parentElement?"HTML"===t&&null===e.parentElement?"HTML":"BODY"===t&&e.parentElement?.tagName==="HTML"?"BODY":e instanceof HTMLElement&&(void 0!==e.dataset.layoutShiftBoundaryID||void 0!==e.dataset.testId)?e.dataset.layoutShiftBoundaryID||e.dataset.testId:e.parentElement?ei(e.parentElement,a):"NOT_A_NODE":"DOCUMENT"};var el=t(472452),ed=t(393084);let ec=(e,a,t)=>{a<1e5&&(0,_.N9)(e,a,t)},e_=["pin_closeup","board","profile","topic","homefeed","search_landing_page","search_results"],eu=["web_early_hydration"],ep=["web_early_hydration","unauth_dweb_closeup_redesign"];function eE(e,a){return a?`${e}.${a.experimentName}.${a.experimentGroup?.value}`:e}t(811285);let eS=!1;var eT=t(780658);let ey=!1;function eA(e){try{return window.matchMedia?.(e)?.matches??null}catch{return null}}var eR=t(657856),eI=t(319050),em=t(913308),eg=t(233422),eC=t(611390);async function ef(e=()=>{}){let a=[],t=document.getElementById("__LAZY_COMPONENT_REQUIRED_CHUNKS__");if(t?.textContent&&(a=JSON.parse(t.textContent)),!a.length)return;let r=!1;await new Promise(e=>{window.modernJsonp=window.modernJsonp||[];let t=window.modernJsonp;void 0!==window.legacyJsonp&&(t=window.legacyJsonp);let s=t.push.bind(t);function o(){a.every(e=>t.some(([a])=>a.indexOf(e)>-1))&&!r&&(r=!0,e())}t.push=(...e)=>{s(...e),o()},o()}),e()}var eP=t(97407),eO=t(39036),eN=t(534955),eh=t(825261),eD=t(371014),eL=t(840085),ew=t(913799),ev=t(528074),eU=t(622165);function eb({children:e}){return(0,i.useEffect)(()=>{window.pwsRouteReady=!0},[]),e}function eG(){let e=(0,eL.AJ)(),a=(0,eN._8)();return(0,_.GV)("earlyHydrationDebug.routeWrapper.suspend",{sampleRate:1,tags:(0,eI.d5)({handlerId:e,requestContext:a})}),null}function eM({children:e}){(0,i.useEffect)(()=>{(0,eP.A)("RouteWrapper","/pws/react/RouteWrapper.tsx")},[]);let{isAuthenticated:a,isBot:t,userAgent:r}=(0,eN._8)(),s=r.isMobile||r.isTablet,{group:o,optimizedClient:n}=(0,eI.WK)(),l=(0,d.zy)(),c=(0,i.useRef)(!0),u=(0,eL.AJ)(),{checkExperiment:p}=(0,eU.A)(),E=p("build_with_rspack").group;return(0,y.U)(u),(0,i.useEffect)(()=>{(0,_.GV)("webapp.request.client",{tags:{handler:u,isAuthenticated:a,isInitialLoad:c.current,isMobile:s}}),c.current&&(E&&(0,_.GV)("webapp.request.client.debugRspackExp",{tags:{handler:u,isAuthenticated:a,isMobile:s,rspackExpGroup:E}}),(0,_.N9)("earlyHydrationDebug.routeWrapper.initialLoad",performance.now(),{tags:{earlyHydrationGroup:o,handler:u,isAuthenticated:a,isBot:t,isMobile:s}}),c.current=!1)},[o,u,a,t,s,l,E]),(0,W.jsx)(ev.A,{name:u,type:"critical",children:n?(0,W.jsx)(i.Suspense,{children:(0,W.jsx)(eb,{children:e})}):(0,W.jsx)(eb,{children:e})})}let eB={www:["/:username/:slug/_tools/organize","/:username/:slug/:section_slug/_tools/organize","/board/:id/edit","/board/:id/organize","/board/:id/create_section","/boardsection/:id/organize","/business/catalogs","/pin/:id/edit","/pin/:id/repin/x","/pin/:id/repin"],sterling:["/advertiser/:advertiserId/reporting/:entityType"]},ek=[];var eF=t(258044);function eV({children:e,routeTable:a}){let t=(0,d.zy)(),r=(0,i.useRef)(t),s=(0,eD.wh)(),o=(0,eN._8)(),n=(0,i.useCallback)(e=>{let t=function(e,a){for(let t=0;t<e.length;t+=1){let{route:r,handlerId:s}=e[t],o=(0,d.B6)({path:r,end:!0},a.pathname);if(o)return{handlerId:s,routerMatch:o}}return null}(a,e);t&&(eF.Ay[t.handlerId]??[]).filter(({check:e})=>e({checkExperiment:o.experimentsClient.checkExperiment,requestContext:o})).forEach(({query:e,variables:a})=>{s.preloadQuery({query:e,variables:a({pinId:t.routerMatch.params.id||"",requestContext:o})})})},[s,o,a]);return r.current!==t&&(r.current=t,n(t)),e}var eH=t(278938),ex=t(16389);function eY({children:e}){let a=(0,d.zy)(),t=(0,i.useMemo)(()=>a,[]);return(0,W.jsx)(ex.x,{value:t,children:e})}function eW({children:e,initialLocation:a}){(0,i.useEffect)(()=>{(0,eP.A)("Router","/pws/router/Router.tsx")},[]);let t=(0,W.jsx)(eY,{children:e});return(0,W.jsx)(eH.Kd,{children:t})}function ej({children:e,appRootComponent:a}){let t=a&&"object"==typeof a&&"then"in a?(0,i.use)(a):a;if(!t)throw Error("Unexpected null or undefined AppRootComponent on the client");return t?(0,W.jsx)(t,{children:e}):null}function e$({appRootComponent:e,element:a,handlerId:t}){return(0,W.jsx)(eO.B,{children:(0,W.jsx)(eL.Cw,{value:t,children:(0,W.jsx)(i.Suspense,{fallback:(0,W.jsx)(eG,{}),children:(0,W.jsx)(ej,{appRootComponent:e,children:(0,W.jsx)(eM,{children:a})})})})})}function eq({loader:e,queryPreloader:a,relayEnvironment:t,requestContext:r,routeTable:s}){return(0,W.jsx)(R.RelayEnvironmentProvider,{environment:t,children:(0,W.jsx)(eD.p7,{value:a,children:(0,W.jsx)(ew.A,{value:e,children:(0,W.jsx)(eN.IF,{initialValue:r,children:(0,W.jsx)(eh.f,{children:(0,W.jsx)(eV,{routeTable:s,children:(0,W.jsx)(d.sv,{})})})})})})})}function eK({appRootComponent:e,initialLocation:a,loader:t,queryPreloader:r,relayEnvironment:s,requestContext:o,routeTable:n,site:l}){(0,i.useEffect)(()=>{(0,eP.A)("PWSApp","/pws/react/PWSApp.tsx")},[]);let c=n.map(e=>{let a=eB[l]?.find(a=>e.route.startsWith(a));if(a){if(ek.includes(a))return null;ek.push(a),e.route=`${a}/*`}return e}).filter(Boolean),_=(0,i.useMemo)(()=>c.map(({element:a,handlerId:t,route:r})=>(0,W.jsx)(d.qh,{element:(0,W.jsx)(e$,{appRootComponent:e,element:a,handlerId:t}),path:r},"route")),[e,c]);return(0,i.useEffect)(()=>{window.pwsAppReady=!0},[]),(0,W.jsx)(eW,{initialLocation:a,children:(0,W.jsx)(d.BV,{children:(0,W.jsx)(d.qh,{element:(0,W.jsx)(eq,{loader:t,queryPreloader:r,relayEnvironment:s,requestContext:o,routeTable:n}),children:_})})})}function ez(e){return e.status="pending",e.then(a=>{e.status="fulfilled",e.value=a},a=>{e.status="rejected",e.reason=a}),e}var eJ=t(236507);function eQ(){let e=(0,eO.J)(),a=(0,eL.AJ)(),t=(0,eN._8)();return(0,i.useEffect)(()=>{e&&(0,_.GV)("earlyHydrationDebug.clientRouteLoader.fallback",{sampleRate:1,tags:(0,eI.d5)({handlerId:a,requestContext:t})})},[]),(0,W.jsx)(eJ.y$,{accessibilityLabel:"Loading....",show:!0})}function eX({componentPromise:e}){return(0,i.use)(e)({})}function eZ(){let e=function(e){let a=(0,ew.p)(),t=(0,i.useRef)(e),[r,s]=(0,i.useState)({Comp:a?.loadFromCache?.(e)}),[o,n]=(0,i.useState)(),{Comp:l}=r;if((0,i.useEffect)(()=>{if(!(t.current!==e||!l))return;t.current=e;let r=a?.loadFromCache?.(e);r||(async()=>{try{let t=await a?.load(e);t&&s({Comp:t})}catch(e){n(e)}})(),r!==l&&s({Comp:r})},[l,e,a]),o)throw o;return l}((0,eL.AJ)());return null!=e?(0,W.jsx)(e0,{jsx:e}):(0,W.jsx)(eQ,{})}function e0({jsx:e}){return e({})}function e1(){(0,i.useEffect)(()=>{(0,eP.A)("ClientRouteLoader","/pws/router/ClientRouteLoader.tsx")},[]);let e=(0,eL.AJ)(),a=(0,ew.p)(),{optimizedClient:t}=(0,eI.WK)();if(t){let t=function(e,a){if(!a)throw Error("Loader is not available in context");let t=a.loadFromCache?.(e);if(t){let e;return(e=Promise.resolve(t)).status="fulfilled",e.value=t,e}return ez(a.load(e))}(e,a);return(0,W.jsx)(i.Suspense,{fallback:(0,W.jsx)(eQ,{}),children:(0,W.jsx)(eX,{componentPromise:t})})}return(0,W.jsx)(eZ,{})}function e2(e){return!!e.match(/\[[\w]+\]/)}function e3(e){return(e.match(/\./g)||[]).length}if((0,T.A)(),window.__ENABLE_RSC__){let{createFromFetch:e}=t(71234);console.log(e)}let e6=document.getElementById("__LAZY_COMPONENT_REQUIRED_CHUNKS__")?new Promise(e=>{ef(e)}):Promise.resolve(),e4=async({routeManifest:e,site:a})=>Object.keys(e);function e7(){return(0,_.GV)("pws.pageRoot.suspend",{sampleRate:1,tags:{handler:(0,y.q)(),environment:"client"}}),null}async function e5(e){var a,r;let s,o=new URLSearchParams(window.location.search);if(window.location?.hostname==="webcache.googleusercontent.com"||o.has("server_only"))return;(0,u.A)("initialAppLoad"),function(){let e=document.getElementById(U.Zi);if(e){let{message:a,stack:t}=JSON.parse(e.textContent),r=new v(a);throw r.stack=t,r}}();let n=[e6],T=await H(),{context:O,experiments:b,initialHandlerId:G,site:M}=T,B=function(e){let{context:a,context:{user:t={}}}=e;return{advertiser:a.advertiser?a.advertiser:null,appTypeDetailed:a.app_type_detailed,country:a.country,countryFromHostName:a.country_from_hostname,countryFromIp:a.country_from_ip,deepLink:a.deep_link,experimentsClient:e.experimentsClient,facebookToken:a.facebook_token,fullPath:a.full_path,inviteCode:a.invite_code,isAmp:!1,isAuthenticated:a.is_authenticated,isBot:"true"===a.is_bot,isInternalIP:a.is_internal_ip||!1,isPerfMetricsBot:a.is_perf_metrics_bot,isManagedAdvertiser:a.is_managed_advertiser,isRTL:"rtl"===a.text_direction,isSocialBot:!!a.social_bot,language:a.language,legacyAdvertiser:null,locale:a.locale,loginState:t.login_state||void 0,origin:a.origin,referrerFromCookie:a.referrer,referrerFromHeader:a.http_referrer,regionFromIp:a.region_from_ip,requestIdentifier:a.request_identifier,stage:a.stage,sterlingOnSteroidsLdap:a.sterling_on_steroids_ldap,theme:a.theme,unauthId:a.unauth_id,userAgent:{browserName:a.browser_name,browserType:a.browser_type,browserVersion:a.browser_version,canUseNativeApp:a.user_agent_can_use_native_app,isTablet:a.is_tablet_agent,isMobile:a.is_mobile_agent,platform:a.user_agent_platform,platformVersion:a.user_agent_platform_version&&3===a.user_agent_platform_version.length?a.user_agent_platform_version:[0,0,0],osName:a.analysis_ua?a.analysis_ua.os_name:"",raw:a.user_agent}}}({context:O,experimentsClient:(a=b.active,r=b.triggerable,(!a||!r)&&(0,_.GV)("webapp.buildExperimentsClient.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!a),triggerable:String(!!r)}}),{experimentsClient:new c.A(a,r,!0)}).experimentsClient}),{experimentsClient:k,isAuthenticated:F,isBot:ef,isInternalIP:eP,country:eO}=B,eN=O.is_mobile_agent||O.is_tablet_agent,eh={handler:G,browserName:B.userAgent.browserName,isAuthenticated:F,isBot:ef,isMobile:eN,country:B.country};(0,p.fv)({requestContext:B}),(0,u.A)("beginGetDataFromServiceWorker"),s=new Promise(e=>{let a="initializeClientApp.getDataFromServiceWorker.getPrecacheData",t={storageInfo:{},cacheHitData:[]};(0,_.GV)(a,{sampleRate:1,tags:eh});let r=navigator.serviceWorker,s=r?.controller;if(!r||!s){(0,_.GV)(`${a}.noServiceWorker`,{sampleRate:1,tags:eh}),e(t);return}let o=new MessageChannel,n=!1,i=setTimeout(()=>{n||(n=!0,(0,_.GV)(`${a}.timeout`,{sampleRate:1,tags:eh}),e(t))},3e3);o.port1.onmessage=a=>{n||(n=!0,clearTimeout(i),a.data&&void 0!==a.data.cacheHitData?(Array.isArray(a.data.cacheHitData)?a.data.cacheHitData.length>0?((0,_.GV)("initializeClientApp.getDataFromServiceWorker.getCacheHitData.nonEmpty",{sampleRate:1,tags:eh}),(0,_.U9)("initializeClientApp.getDataFromServiceWorker.getCacheHitData.size",a.data.cacheHitData.length,{sampleRate:1,tags:eh})):(0,_.GV)("initializeClientApp.getDataFromServiceWorker.getCacheHitData.empty",{sampleRate:1,tags:eh}):(0,_.GV)("initializeClientApp.getDataFromServiceWorker.getCacheHitData.nonArray",{sampleRate:1,tags:eh}),(0,_.GV)("initializeClientApp.getDataFromServiceWorker.getPrecacheData.success",{sampleRate:1,tags:eh}),e({storageInfo:a.data.storageInfo||{},cacheHitData:a.data.cacheHitData})):((0,_.GV)("initializeClientApp.getDataFromServiceWorker.getPrecacheData.noCacheData",{sampleRate:1,tags:eh}),e(t)))};try{(0,_.GV)(`${a}.postMessage`,{sampleRate:1,tags:eh}),s.postMessage({name:"getPrecacheData"},[o.port2])}catch(r){n||(n=!0,clearTimeout(i),(0,_.GV)(`${a}.postMessage.error`,{sampleRate:1,tags:{...eh,errorCode:r instanceof Error&&"code"in r?String(r.code):"no_code"}}),e(t))}}),(0,p.OK)({precacheDataPromise:s});let eD=(0,eI.t$)({experimentsClient:k,handlerId:G}),{anyEnabled:eL,group:ew="none"}=eD,ev=(0,eI.d5)({handlerId:G,requestContext:B});if((0,_.N9)("earlyHydrationDebug.initializeClientApp.start",performance.now(),{tags:ev}),function(e,a,t){if(e&&a.has("disable_experiments")){let e=a.get("disable_experiments"),{active:r,triggerable:s}=t,o=Object.keys({...s,...r}).sort();if(0===o.length)return!1;let n=o.length-1,i=e=>{let a=new URL(window.location.href);a.searchParams.set("disable_experiments",`${e}_${n}`),window.location.href=a.toString()};if(!e||!/^(\d+)_(\d+)$/.test(e))return i(0),!0;{let[a,t]=e.split("_").map(e=>parseInt(e,10)),r=a??0,s=t??0,l=Math.min(r,s),d=Math.max(r,s);if(d>n)return i(l>n?0:l),!0;console.log(`[disable_experiments] Disabled the following experiments in range "${l},${d}":`,o.slice(l,d+1))}}return!1}(eP,o,b))return;!function(e,a,r){var s,o,n,i,l,d,c;let u,p,E,S,T,y,A,R,I;!function(){let e={},a=new Set,r=t.e,s=t.ruid?.includes("rspack"),[o,n]=[200,6];async function i({chunkId:t,retriesLeft:o,retryDelay:l}){let d=Date.now();try{await r(t),delete e[t],a.delete(t),(0,_.N9)("webapp.chunkLoad.success",Date.now()-d,{sampleRate:.1,tags:{tries:n-o,name:t}})}catch(r){if(a.add(t),(0,_.N9)("webapp.chunkLoad.error",Date.now()-d,{sampleRate:.1,tags:{name:t,retriesLeft:o,isRspackRuntime:s}}),o<=0)throw(0,_.N9)("webapp.chunkLoad.fail",Date.now()-d,{sampleRate:.1,tags:{name:t,isRspackRuntime:s}}),delete e[t],r;await new Promise(e=>setTimeout(e,l)),await i({chunkId:t,retriesLeft:o-1,retryDelay:2*l})}}if(t.e=async function(a){e[a]||(e[a]=i({chunkId:a,retriesLeft:n-1,retryDelay:o})),await e[a]},t.f?.prefetch){let e=t.f.prefetch;t.f.prefetch=async function(t,r){try{await e(t,r)}catch(e){if(a.has(t))(0,_.GV)("webapp.webpackPrefetch.duplicateError",{sampleRate:1,tags:{name:t,isRspackRuntime:s}});else throw(0,_.GV)("webapp.webpackPrefetch.missingError",{sampleRate:1,tags:{name:t,isRspackRuntime:s}}),e}}}}(),e.enableAdaptiveStatsLoggingFlush&&(0,eR.$)();let m=e.context.user;if(m?.id&&m.is_partner){let e=!!m.partner;(0,_.GV)("pws.renderClient.debugPartnerData",{sampleRate:1,tags:{hasPartnerData:e,isFromAppShell:window.isFromInstantLoadingIndicatorAppShell??!1}})}let g=e.context.is_mobile_agent||e.context.is_tablet_agent;u=function(){if("maxTouchPoints"in navigator)return navigator.maxTouchPoints>0;{if("msMaxTouchPoints"in navigator)return navigator.msMaxTouchPoints>0;let e=window.matchMedia?window.matchMedia("(pointer:coarse)"):void 0;if(e?.media==="(pointer:coarse)")return!!e.matches;{if("orientation"in window)return!0;let e=navigator.userAgent;return/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(e)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(e)}}}(),p=navigator.userAgent.indexOf("Mobi")>0,S=(E=window.innerWidth)<640?"xs":E>=640&&E<768?"sm":E>=768&&E<1024?"md":E>=1024&&E<1280?"lg":E>=1280&&E<1536?"xl":E>=1536&&E<2048?"2xl":E>=2048&&E<2560?"3xl":E>=2560&&E<3060?"4xl":E>=3060&&E<3560?"5xl":E>=3560&&E<4060?"6xl":E>=4060&&E<4560?"7xl":E>=4560&&E<5e3?"8xl":E>=5e3?"9xl":void 0,y=(T=window.innerHeight)<500?"vh1":T>=500&&T<600?"vh2":T>=600&&T<700?"vh3":T>=700&&T<800?"vh4":T>=800&&T<900?"vh5":T>=900&&T<1e3?"vh6":T>=1e3&&T<1500?"vh7":T>=1500&&T<2e3?"vh8":T>=2e3&&T<2500?"vh9":T>=2500?"vh10":void 0,(0,_.GV)("pws.renderClient.screenHeight",{sampleRate:1,tags:{screenHeight:window.innerHeight}}),(0,_.GV)("pws.renderClient.validateUA",{sampleRate:1,tags:{serverDeviceType:g?"mobile":"desktop",screenHeight:y,screenSize:S,touchEnabled:u,uaContainsMobi:p}}),function(){let e,a,t,r;if(ey)return;ey=!0;let s=navigator.userAgentData,o=s?.platform||"unknown";(0,_.GV)("pws.renderClient.clientEnv",{sampleRate:1,tags:{platform:o,platform_bucket:"unknown"===o?"unknown":"macos"===(e=o.toLowerCase())?"macos":"windows"===e?"windows":"chrome os"===e||"chromeos"===e?"chromeos":"linux"===e?"linux":"android"===e?"android":"ios"===e?"ios":"other",color_gamut:eA("(color-gamut: rec2020)")?"rec2020":eA("(color-gamut: p3)")?"p3":eA("(color-gamut: srgb)")?"srgb":"unknown",color_depth:String(screen.colorDepth??0),dynamic_range:!0===(a=eA("(dynamic-range: high)"))?"high":!1===a?"standard":"unknown",pointer:eA("(pointer: fine)")?"fine":eA("(pointer: coarse)")?"coarse":"unknown",hover:!0===(t=eA("(hover: hover)"))?"hover":!1===t?"none":"unknown",prefers_reduced_motion:!0===(r=eA("(prefers-reduced-motion: reduce)"))?"true":!1===r?"false":"unknown",prefers_color_scheme:eA("(prefers-color-scheme: dark)")?"dark":eA("(prefers-color-scheme: light)")?"light":"unknown"}})}(),function({currentAppVersion:e,deviceType:a,site:t}){let r=window.fetch;window.fetch=async(...s)=>{let o,n=s[0],i="string"==typeof n&&n.startsWith("/");try{o=await r(...s)}catch(a){let e=o?.headers;throw a.extraData={...a.extraData,fetchUrl:n,fetchResponseAccessControlHeaders:e&&{allowCredentials:e.get("access-control-allow-credentials"),allowHeaders:e.get("access-control-allow-headers"),allowOrigin:e.get("access-control-allow-origin")}},a}return i&&(o.headers.get("pinterest-version")===e||eS||((0,_.GV)("pws.renderClient.newVersionAvailable",{sampleRate:1,tags:{deviceType:a,site:t}}),eS=!0)),o}}({currentAppVersion:e.appVersion,deviceType:g?"mobile":"desktop",site:e.site}),(0,$.t)(e.context.user,a,j.A),s=e.context,o=a.locale,n=e.initialHandlerId,i=a.isAuthenticated,a.locale?eT.a.preload({localeCode:a.locale.split("-").join("_"),children:()=>null}):(0,_.GV)("pws.renderClient.missingLocale",{sampleRate:1,tags:{browserLocale:s.browser_locale,contextLocale:o,country:a.country,deviceType:g?"mobile":"desktop",handler:n,isAuthenticated:i,language:a.language,origin:a.origin}}),l=a.isAuthenticated,d=e.daysToExpiration,l&&(d<=90&&d>0?fetch("/refresh_token"):d<=0&&fetch("/refresh_stored_accounts"));let C=(0,K.A)({browserName:a.userAgent.browserName,browserType:a.userAgent.browserType,browserVersion:a.userAgent.browserVersion,userAgentString:a.userAgent.raw,isBotRequest:a.isBot,isInternalIP:a.isInternalIP});if(!function({handler:e,browserName:a,isAuthenticated:t,isBot:r,isMobile:s,country:o,isPrefetch:n,isModernBundleCapable:i,requestContext:l}){let d=(0,er.$1)(e),c=(0,Z.A)({requestContext:l}),{getExperimentGroup:u}=c,p={handler:e,isAuthenticated:t,isBot:r,isMobile:s,domain:(0,X.XH)(document.domain||"unknown"),isModernBundleCapable:i},E=ea(window.location.pathname);function S(e,a){try{if("number"!=typeof a||!Number.isFinite(a))return void d(`Invalid CWV value for ${e}: ${a} (type: ${typeof a})`);if("string"!=typeof e||!e)return void d(`Invalid CWV metric name: ${e} (type: ${typeof e})`);if(!E)return void d(`Missing initialSurface when reporting ${e} metric`);let r={type:"core_web_vitals",name:`cwv_${E}_${e.toLowerCase()}`,navigationType:"client_route_push",surface:E,isAuthenticated:t},s=(0,es.I)({annotateExperiments:eu,constraintMap:{},endTime:"CLS"===e?1e3*a:a,imageTimings:[],metricId:r,pwtMeasures:(0,ed.vs)(),pwtStaticContext:c,startTime:0,traceId:(0,el.A)(),spans:[]});(0,en.A)({metricId:r,pwtStaticContext:c,result:s,isAuth:t})}catch(a){d(`Failed to report ${e} metric: ${a}`)}}let T=[];et(a=>{if(!e_.includes(E))return;let{entries:t,value:r,navigationType:s}=a,{url:o}=t[t.length-1],i=o?.includes("i.pinimg");d(`------ ${e} onLCP ${r} navigationType:${s} -----`);let l=e=>{ec(eE("pws.renderClient.lcp",e),r,{sampleRate:1,tags:{...p,version:"1"}}),ec(eE("pws.renderClient.isPrefetch.lcp",e),r,{sampleRate:1,tags:{...p,isPrefetch:n}}),(0,_.U9)(eE("pws.renderClient.cwv.lcpElements",e),1,{sampleRate:1,tags:{...p,isImage:i}})};l(),Object.entries((0,eo.jx)(ep,u)).forEach(([e,a])=>{l({experimentName:e,experimentGroup:a})}),S(a.name,r)});let y=e=>({value:e,entries:[],boundaryScores:{}}),A=0,R=0,I=[],m=[],g=y(0);function C(){A+=1}function P(e){(0,_.U9)("pws.renderClient.clsAllObservedShifts",1,{sampleRate:.01,tags:{...p,shiftCount:e.length}}),e.forEach(e=>{if(e.hadRecentInput)return;let a=I[0],t=I[I.length-1],r={value:e.value,boundary:(e=>{if(!e||0===e.length)return"NO_SOURCES_FOUND";let a=e.find(e=>null!==e.node)?.node||null;return a?ei(a,"cls"):"NO_NODE_FOUND"})(e.sources),surface:ea(window.location.pathname)||"no_surface_match"};R&&e.startTime-t.startTime<1e3&&e.startTime-a.startTime<5e3?(R+=e.value,I.push(e),m.push(r)):(R=e.value,I=[e],m=[r])}),R>g.value&&((g=y(R)).entries=I.slice(),m.forEach(e=>{let{boundary:a,surface:t,value:r}=e;a&&(g.boundaryScores[a]?(g.boundaryScores[a].cumulativeScore+=r,g.boundaryScores[a].surface=t):g.boundaryScores[a]={cumulativeScore:r,surface:t})}))}window.addEventListener("resize",C);let O=null;window.PerformanceObserver&&(O=new PerformanceObserver(e=>{P(e.getEntries())})),(0,Q.zB)(({value:a,navigationType:t})=>{e_.includes(E)&&(O&&O.observe({type:"layout-shift"}),d(`------ ${e} onFCP ${a} navigationType:${t} -----`),ec("pws.renderClient.fcp",a,{sampleRate:1,tags:p}))}),(0,Q.IN)(a=>{if(!e_.includes(E))return;let{name:r,value:n,navigationType:l,rating:c}=a,_={isAuth:t,isMobile:s,handler:e,region:(0,f.A)(o),CWVBucket:c,domain:(0,X.XH)(document.domain||"unknown"),isModernBundleCapable:i,cpu:navigator.hardwareConcurrency||"unknown"};if(d(`------ ${e} onCLS ${n} navigationType:${l} -----`),ec("pws.renderClient.cls",n,{sampleRate:1,tags:p}),O){P(O.takeRecords()),O.disconnect();let e=Object.entries(g.boundaryScores).map(([e,a])=>({boundary:e,cumulativeScore:a.cumulativeScore,surface:a.surface}));e.sort((e,a)=>a.cumulativeScore-e.cumulativeScore);for(let a=0;a<e.length&&a<5;a+=1){let t=e[a];ec("pws.renderClient.clsCumulativeBoundaryScore",1e3*t.cumulativeScore,{sampleRate:.05,tags:{..._,boundary:t.boundary,surface:t.surface}})}}S(r,n)});let N={},h=e=>{window.removeEventListener("resize",C);let{timeStamp:a,target:t}=e,r=t?ei(t,"inp"):"NODE_REMOVED",{pathname:s}=window.location,o=ea(s)||"no_surface_match",n=a.toString();N[n]||(N[n]={boundary:"",surface:""},N[n].boundary=r,N[n].surface=o)};if(["pointerdown","pointerup","click","keydown","keyup"].forEach(e=>{document.addEventListener(e,h,{capture:!0})}),(0,Q.rH)(a=>{if(["pointerdown","pointerup","click","keydown","keyup"].forEach(e=>{document.removeEventListener(e,h,{capture:!0})}),!e_.includes(E))return;let{value:r,navigationType:n,rating:l}=a,{interactionTime:u,interactionType:p}=a.attribution,T=(0,f.A)(o),y=u<100?"0-100ms":u<250?"100-250ms":u<500?"250-500ms":u<1e3?"500-1000ms":u<2e3?"1000-2000ms":u<3e3?"2000-3000ms":u<4e3?"3000-4000ms":u<5e3?"4000-5000ms":u<6e3?"5000-6000ms":u<7e3?"6000-7000ms":u<8e3?"7000-8000ms":u<9e3?"8000-9000ms":u<1e4?"9000-10000ms":u<15e3?"10000-15000ms":u<2e4?"15000-20000ms":u<25e3?"20000-25000ms":"25000+ms",A=(0,X.XH)(document.domain||"unknown"),R=navigator.hardwareConcurrency||"unknown",{getExperimentGroup:I}=c,m=(0,eo.jx)(eu,I),g={isAuth:t,isMobile:s,handler:e,region:T,CWVBucket:l,eventTimeGroup:y,interactionType:p,domain:A,isModernBundleCapable:i,surface:N[u]?N[u].surface:"interactionTime_invalid",boundary:N[u]?N[u].boundary:"interactionTime_invalid",cpu:R};if(d(`------ ${e} onINP ${r} navigationType:${n} -----`),a.attribution){["inputDelay","processingDuration","presentationDelay"].forEach(e=>{ec(`pws.renderClient.inp.${e}`,a.attribution[e],{sampleRate:1,tags:g}),Object.keys(m).forEach(t=>{let r=m[t]?.value;ec(`pws.renderClient.inp.${e}.${t}.${r}`,a.attribution[e],{sampleRate:1,tags:g})})});let e=N[u]?N[u].boundary:null;e&&(0,_.GV)("pws.renderClient.inpPersistedBoundary",{sampleRate:1,tags:{...g,INPBoundary:e}}),"today"===E&&(E="profile"),ec(`pws.renderClient.${E}.INP`,r,{sampleRate:1,tags:{isMobile:s,domain:A}}),ec(`pws.renderClient.${E}.detailed.INP`,r,{sampleRate:1,tags:g}),S(a.name,r)}}),window.PerformanceObserver)try{if(e.includes("/pin/")||"www/_username_/_slug__js"===e){let e=(0,eo.jx)(ep,u);new PerformanceObserver(t=>{t.getEntries().forEach(t=>{T.forEach(r=>{if(!(r.url&&t.url))return;let s=t.url.split("/"),o=s[s.length-1],n=s[3],i=r.url?.split("/")||"",l=i[s.length-1],d=i[3],c=r.size,u="unknown",E="unknown";if("number"==typeof t.size&&"number"==typeof c){let e=t.size-c;0===e?u="0":e>0&&e<100?u="0-100":e>=100&&e<1e3?u="100-1000":e>=1e3&&e<1e4?u="1000-10000":e>=1e4&&(u="10000+")}if("number"==typeof t.startTime&&"number"==typeof r.startTime){let e=t.startTime-r.startTime;0===e?E="0":e>0&&e<500?E="0-500":e>=500&&e<2e3?E="500-2000":e>=2e3&&e<7e3?E="2000-7000":e>=7e3&&(E="7000+")}if(o===l&&t.startTime!==r.startTime){let t=e=>{(0,_.U9)(eE("pws.renderClient.cwv.allLCPCandidates.repaints",e),1,{sampleRate:.01,tags:{...p,browserName:a,finalResolution:n,lcpCandidateCount:T.length+1,previousResolution:d,renderedSizeDeltaBucket:u,resizeCount:A,timeDeltaBucket:E}})};t(),Object.entries(e).forEach(([e,a])=>{t({experimentName:e,experimentGroup:a})})}});let r=t.element?t.element.nodeName:"unknown",s=e=>{(0,_.U9)(eE("pws.renderClient.cwv.allLCPCandidates",e),1,{sampleRate:1,tags:{...p,browserName:a,lcpCandidateCount:T.length+1,elementType:r??"unknown",resizeCount:A}})};s(),Object.entries(e).forEach(([e,a])=>{s({experimentName:e,experimentGroup:a})});let o=T.filter(e=>e.startTime===t.startTime);0===o.length&&T.push(t),d(t)})}).observe({buffered:!0,type:"largest-contentful-paint"})}if(ee.nx){let e=new PerformanceObserver(function(e){e.getEntries().forEach(e=>{d(e)})});e.observe({buffered:!0,type:"largest-contentful-paint"}),e.observe({buffered:!0,type:"paint"})}}catch(e){(0,_.U9)("pws.renderClient.cwv.observer.failed",1,{sampleRate:1,tags:p})}}({...r,isPrefetch:e.isPrefetch,isModernBundleCapable:C,requestContext:a}),function({handler:e,browserName:a,isAuthenticated:t,isBot:r,isMobile:s,country:o,isModernBundleCapable:n}){if(!(window.navigator&&window.navigator.connection))return;let{connection:i}=window.navigator,l={handler:e,browserName:a,isAuthenticated:t,isBot:r,isMobile:s,country:o,domain:(0,X.XH)(document.domain||"unknown"),isModernBundleCapable:n},{rtt:d=1/0}=i;d<50?(0,_.GV)("rtt.50",{sampleRate:1,tags:l}):d<200?(0,_.GV)("rtt.200",{sampleRate:1,tags:l}):d<500?(0,_.GV)("rtt.500",{sampleRate:1,tags:l}):d<1e3?(0,_.GV)("rtt.1000",{sampleRate:1,tags:l}):(0,_.GV)("rtt.max",{sampleRate:1,tags:l})}({...r,isModernBundleCapable:C}),c=e.initialHandlerId,A=window.innerHeight,R=window.innerWidth,I=()=>{let e=window.innerHeight!==A,t=window.innerWidth!==R,r={deviceType:g?"mobile":"desktop",handler:c,isAuthenticated:a.isAuthenticated,platform:a.userAgent.platform??"unknown"};(0,_.GV)("pws.renderClient.handleResize",{sampleRate:1,tags:{...r,heightChanged:e,widthChanged:t}}),e&&(0,_.uI)("pws.renderClient.resizeHeightDelta",Math.abs(window.innerHeight-A),{sampleRate:1,tags:r}),t&&(0,_.uI)("pws.renderClient.resizeWidthDelta",Math.abs(window.innerWidth-R),{sampleRate:1,tags:r}),window.removeEventListener("resize",I)},window.addEventListener("resize",I),(0,J.g)(a),(0,z.nT)(a),(0,q.Zo)(),a.fullPath&&a.fullPath.startsWith("/pin/")){let e=function(e){let a=e.split("?")[0]??"";if(!a.startsWith("/pin/"))return null;let t=a.split("/")[3];return t?"feedback"===t||"sent"===t?t:null:"default"}(a.fullPath);e&&(0,_.GV)(`pwt.renderClient.pinType.${e}`,{tags:{isAuthenticated:a.isAuthenticated,isBot:a.isBot,isMobile:g}})}}(T,B,eh);let eU=(0,g.Ay)(),eb=function({relayEnvironment:e}){let a=[];return{preloadQuery:function(t){let r=(0,R.loadQuery)(e,(0,I.getRequest)(t.query),t.variables??{});return a=a.concat({descriptor:t,queryRef:r}),r},ensureFlushed:async function(e){throw Error("ensureFlushed should not be called on the client")},findPreloadedQuery:function(e){return a.find(({descriptor:a})=>{let t,r;return t=(0,I.getRequest)(a.query),r=(0,I.getRequest)(e.query),t.operation.name===r.operation.name&&t.hash===r.hash&&(0,m.C)(a.variables,e.variables)})}}}({relayEnvironment:eU}),eG=await Y(),eM=(await e4({routeManifest:eG,site:M})).concat().sort((e,a)=>(function e(a,t){if(a.length!==t.length)return a.length<t.length?-1:1;if(0===a.length||0===t.length)return 0;let[r,...s]=a,[o,...n]=t,i=function(e,a){let t=e2(e),r=e2(a);if(t&&!r)return 1;if(!t&&r)return -1;let s=e3(e),o=e3(a);return s>o?-1:s<o?1:e.localeCompare(a)}(r,o);return 0===i?e(s,n):i})(`/${e}/`.split("/").filter(Boolean),`/${a}/`.split("/").filter(Boolean))).map(e=>({handlerId:(0,C.DS)(M,e),route:function(e){if(/index\.[tj]sx?$/.test(e)){if(e.includes("/"))throw new A(e);return"/"}return`/${e.replace(/.[tj]sx?$/,"").split("/").map(e=>e.replace(/\[(.*)\]/,":$1")).join("/")}`}(e)})),eB=function({isAuthenticated:e,isMobile:a,manifest:t,site:r,country:s}){let o="noModule"in document.createElement("script"),n={},i={},l=!0,d={};async function c([e,a]){d[e]||(d[e]=w()),d[e].resolve?.(a)}async function u(r){let n=r.replace(/.js$/,"");d[n]||(d[n]=w());let c=!1,{filepath:u}=(0,C.j9)(r),{css:p,js:E,mjs:S}=t[u].dependencies.reduce((e,a)=>{let t=a.split(".").pop();if(e[t])e[t].add(a);else throw new L(`Unsupported extension ${t} encountered: ${a}`);return e},{css:new Set,js:new Set,mjs:new Set}),T=[...p,...S.size>0?S:E],y=S.size>0?"modern":"legacy";await Promise.all(T.map(async e=>{/\.m?js$/.test(e)&&!document.querySelector(`script[src^="${e}"]`)?(i[e]=function(e){let{head:a}=document;if(!a)throw new L("document.head is undefined");return new Promise((t,r)=>{let s=document.createElement("script");s.crossOrigin="anonymous",s.charset="utf-8",s.onload=t,s.onerror=r,s.src=e,a.appendChild(s)})}(e),c=!0):/\.css$/.test(e)&&!document.querySelector(`link[rel=stylesheet][href^="${e}"]`)&&(i[e]=function(e){let{head:a}=document;if(!a)throw new L("document.head is undefined");return new Promise((a,t)=>{let{head:r}=document;if(!r)throw new L("document.head is undefined");let s=document.createElement("link");s.crossOrigin="anonymous",s.rel="stylesheet",s.href=e,s.onload=a,s.onerror=t,r.appendChild(s)})}(e),c=!0),i[e]&&(await i[e],delete i[e])})),h({didLoadNewFiles:c,files:T,handlerId:r,isAuthenticated:e,isInitialLoad:l,country:s}),l&&(!function({browserType:e,isAuthenticated:a,isMobile:t,handlerId:r}){if(!(window.performance&&window.performance.getEntriesByType))return;let s={browserType:e,handler:r,isAuthenticated:a,isMobile:t},{scriptSize:o,styleSize:n}=D(window.performance.getEntriesByType("resource").filter(e=>{let a,t;return a=e.name,/webapp\/.*\.m?js$/.test(a)&&!/locale-/.test(e.name)||(t=e.name,/webapp\/.*\.css$/.test(t))}));o&&(0,P.Be)({eventName:"pws.clientLoader.initialPageLoad.scripts",value:o,tags:s,sampleRate:.1,annotateExperiments:N}),n&&(0,P.Be)({eventName:"pws.clientLoader.initialPageLoad.styles",value:n,tags:s,sampleRate:.1,annotateExperiments:N})}({browserType:y,handlerId:r,isAuthenticated:e,isMobile:a}),l=!1),c&&function({browserType:e,files:a=[],isAuthenticated:t,isMobile:r,handlerId:s}){if(!(window.performance&&window.performance.getEntriesByType))return;let o=window.performance.getEntriesByType("resource").filter(e=>!!a.find(a=>e.name.endsWith(a))),n={browserType:e,handler:s,isAuthenticated:t,isMobile:r},{scriptSize:i,styleSize:l}=D(o);i&&(0,P.Be)({eventName:"pws.clientLoader.clientNavigation.scripts",value:i,tags:n,sampleRate:.1,annotateExperiments:N}),l&&(0,P.Be)({eventName:"pws.clientLoader.clientNavigation.styles",value:l,tags:n,sampleRate:.1,annotateExperiments:N})}({browserType:y,handlerId:r,isAuthenticated:e,isMobile:a,files:T}),(o&&0===S.size||!o&&S.size>0)&&(0,_.GV)("pws.clientLoader.moduleSupportMismatch",{sampleRate:1,tags:{assetType:S.size>0?"mjs":"js",hasModuleSupport:o}});let A=await d[n].promise;if(!A)throw new L(`Unable to load module for handler: ${r}`);return A()}async function p(e){let{filepath:a}=(0,C.j9)(e),s=(0,C.DS)(r,a);try{if(!n[a]){t[a];let e=u(s);e.then(e=>{n[a]=e}),n[a]=e}return n[a]}catch(t){delete n[a],(0,_.GV)("webapp.clientLoader.fail",{sampleRate:1,tags:{error:t.name,handler:s}});let e=new L(t.message);throw e.stack=t.stack,e}}async function E(e){try{await p(e)}catch(e){}}return window.__PWS_LOADED_HANDLERS__||(window.__PWS_LOADED_HANDLERS__=[]),window.__PWS_LOADED_HANDLERS__.forEach(([e,a])=>{c([e,a])}),window.__PWS_LOADED_HANDLERS__.push=c,{loadFromCache(e){let{filepath:a}=(0,C.j9)(e);if(!n[a])return E(e),null;let t=n[a];return"object"==typeof t&&"function"==typeof t.then?null:t},load:p,preload:E}}({isAuthenticated:F,isMobile:eN,manifest:eG,site:M,country:eO}),ek=await x(),eF=ek.childElementCount>0;(0,E.gE)({countryFromHostName:B.countryFromHostName||"",countryFromIp:B.countryFromIp||"",regionFromIp:B.regionFromIp||"",isAuthenticated:B.isAuthenticated,unauthId:B.unauthId}),(0,S.hq)({countryFromHostName:B.countryFromHostName||"",countryFromIp:B.countryFromIp||"",regionFromIp:B.regionFromIp||"",isAuthenticated:B.isAuthenticated});let eV=(async()=>{let a=await V();return(0,_.N9)("earlyHydrationDebug.initializeClientApp.initialProps",performance.now(),{tags:ev}),e({initialServerContext:O,initialProps:a,requestContext:B,ssrIsEnabled:eF,handler:G}).rootComponent})(),eH=eM.find(({route:e})=>(0,d.B6)({path:e,end:!0},window.location.pathname));if(eH){let{handlerId:e}=eH;(0,y.U)(e);let a=eB.load(e);n.push(a)}let ex=eM.map(({handlerId:e,route:a})=>({element:(0,W.jsx)(e1,{},a),handlerId:e,route:a})),eY=(0,W.jsx)(i.Suspense,{fallback:(0,W.jsx)(e7,{}),children:(0,W.jsx)(em.A,{value:eD,children:(0,W.jsx)(eK,{appRootComponent:eL?ez(eV):await eV,initialLocation:new URL(window.location.href),loader:eB,queryPreloader:eb,relayEnvironment:eU,requestContext:B,routeTable:ex,site:M})})});!function({handlerId:e,requestContext:a}){let t={isAuthenticated:a.isAuthenticated,isBot:a.isBot,isDesktop:!a.userAgent.isMobile&&!a.userAgent.isTablet,handler:e};if((0,_.GV)("webapp.isFromInstantLoadingIndicatorAppShell",{sampleRate:1,tags:{...t,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1}}),window.isFromInstantLoadingIndicatorAppShell&&window.PerformanceObserver){let e=new PerformanceObserver(a=>{a?.getEntries?.().forEach(a=>{if(!a?.name.startsWith("pwt__instantLoadingIndicator"))return;let{name:r,startTime:s}=a,[,o]=r.split(".");(0,_.N9)(`webapp.instantLoadingIndicator.timing.${o}`,s,{sampleRate:1,tags:t}),"pwt__instantLoadingIndicator.done"===a.name&&e.disconnect()})});e?.observe({type:"mark",buffered:!0})}}({handlerId:G,requestContext:B}),(0,_.GV)("pws.initializeClientApp",{sampleRate:1,tags:{handler:G,isAuthenticated:F,isBot:ef,isMobile:eN}}),(0,u.A)("RenderReactContainer"),eF?(eL||await Promise.all(n),(0,i.startTransition)(()=>{eL||(window.__PWS_CLIENT_RENDER_INIT__=!0),(0,_.N9)("earlyHydrationDebug.initializeClientApp.hydrate",performance.now(),{tags:ev}),(0,l.hydrateRoot)(ek,eY,{onRecoverableError:(e,a)=>{!(0,eg.A)(e)&&((0,_.GV)("pws.renderClient.onRecoverableError",{tags:{error:e.message.replace(/([^a-zA-Z0-9\-_/])/g,"_"),handler:G,isAuthenticated:F,isBot:ef,isMobile:eN,earlyHydrationGroup:ew}}),(0,eC.B)({type:"hydration",payload:{error:e,errorInfo:a}})&&console.error("Unexpected hydration error",e.message,a.componentStack)),(0,_.GV)("earlyHydrationDebug.initializeClientApp.onRecoverableError",{tags:ev})}})})):((0,_.N9)("earlyHydrationDebug.initializeClientApp.render",performance.now(),{tags:ev}),(0,l.createRoot)(ek).render(eY))}},811285(e,a,t){t(693117),t(646844)},611390(e,a,t){function r(e){return!("hydration"===e.type&&(e.payload.error.message.includes("Suspense boundary received an update before it finished hydrating")||e.payload.error.message.includes("Minified React error #421")||!e.payload.errorInfo.componentStack))}t.d(a,{B:()=>r})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/50016.en_GB-3a0b7dcc2ab056d0.mjs.map