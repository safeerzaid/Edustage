(self.modernJsonp=self.modernJsonp||[]).push([["64115"],{562154(e,a,i){var t,r,s,l;i.r(a),i.d(a,{default:()=>n});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCard_board",selections:[{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSponsoredContent",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},t,l,r,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_coverPin"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_board"}],type:"Board",abstractKey:null};o.hash="160b60f499ce33660e2c11915eed4d09";let n=o},276380(e,a,i){i.r(a),i.d(a,{default:()=>r});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselEllipsis_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};t.hash="d9fe632f7481dc91f9007bbd592d44c2";let r=t},139763(e,a,i){i.r(a),i.d(a,{default:()=>r});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselSliders_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"CarouselEllipsis_pin"}],type:"Pin",abstractKey:null};t.hash="4b0c4a7a095db0d3cc7f22f3f6c85086";let r=t},602740(e,a,i){var t;i.r(a),i.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null};r.hash="cabaa35ed7d59dee006897bf3ef32e3d";let s=r},29578(e,a,i){var t;i.r(a),i.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetCoverPhoto_board",selections:[{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:t,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:t,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};r.hash="756d8d8edca35eac0a0500359bf60618";let s=r},355799(e,a,i){var t,r,s,l,o;i.r(a),i.d(a,{default:()=>d});let n=(r={alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},s={alias:"images_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"474x")'},l={alias:"images_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"564x")'},o={alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"736x")'},{argumentDefinitions:[{kind:"RootArgument",name:"isCloseupRelatedModulesFeedQuery"}],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:t,storageKey:null}],storageKey:null},r,s,l,o],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},r,s,l,o],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:t,storageKey:null}],storageKey:null},{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null});n.hash="7a87fb47ec8dc08d373f83cf43f4b96f";let d=n},206296(e,a,i){i.r(a),i.d(a,{default:()=>r});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useLogSwipe_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="dbfca9820e0aa1302554a0137a270b16";let r=t},886941(e,a,i){i.r(a),i.d(a,{default:()=>r});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinCarouselData_pin",selections:[{args:null,kind:"FragmentSpread",name:"usePinDefaultCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"usePinProductCarouselData_pin"}],type:"Pin",abstractKey:null};t.hash="461a57fcc8f7958e3742c217e4cc45a2";let r=t},524126(e,a,i){var t;i.r(a),i.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinDefaultCarouselData_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"images_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"images_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="0f2167dc67053b3c12e7c48acf3034c5";let s=r},525688(e,a,i){var t,r;i.r(a),i.d(a,{default:()=>l});let s={argumentDefinitions:[{kind:"RootArgument",name:"isCloseupRelatedModulesFeedQuery"}],kind:"Fragment",metadata:null,name:"usePinProductCarouselData_pin",selections:[{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"images_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"images_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:r=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata"}],storageKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:r,storageKey:null}],type:"Pin",abstractKey:null};s.hash="7bb603fa739da45cf04960e3a4021971";let l=s},606708(e,a,i){var t;i.r(a),i.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata",selections:[{alias:"image_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"image_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"image_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"image_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};r.hash="89a94e64e453531e298c38fed6b87b0f";let s=r},485872(e,a,i){i.d(a,{A:()=>s});var t=i(278106),r=i(221077);function s(){let e=(0,t.zy)(),{on_sale:a}=(0,r.A)(e.search);return!!a}},875899(e,a,i){i.d(a,{A:()=>d});var t=i(97407),r=i(296540),s=i(236507),l=i(23704),o=i(243042),n=i(474848);function d({actionButton:e,collapsed:a,disabled:i,displayViewState:d,forceTappableHeader:c,headerHeight:_,headerPaddingX:u,headerPreview:g,heading:h,icon:p="chevron-down",onClick:m,showArrow:y,surface:f}){(0,r.useEffect)(()=>{(0,t.A)("CollapsableHeader","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CollapsableHeader.tsx")},[]);let{closeupWithinMasonryEnabled:b,peekCloseupEnabled:v,viewportSize:x}=(0,o._G)();if(!c&&null===d){let e,a;return e=(0,l.Kd)({peekCloseupEnabled:v,viewportSize:x,surface:f}),a=(0,n.jsx)(s._Y,{accessibilityLevel:2,align:"start",id:"comments-heading",size:e?"300":"400",children:h}),e?(0,n.jsx)(s.az,{marginBottom:4,children:a}):a}let A=(0,n.jsx)(s.az,{marginBottom:!a&&v?4:void 0,children:(0,n.jsxs)(s.so,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",height:_,justifyContent:"between",children:[(0,n.jsx)(s.so.Item,{flex:"shrink",children:(0,n.jsx)(s._Y,{accessibilityLevel:2,align:"start",color:i?"disabled":"default",id:"comments-heading",size:"300",children:h})}),(0,n.jsx)(s.so.Item,{flex:"shrink",children:(0,n.jsxs)(s.so,{alignItems:"center",direction:"row",gap:{row:1,column:0},children:[a&&g,(y||b)&&(0,n.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{transform:a?"rotate(0deg)":"rotate(180deg)",transition:"all 600ms cubic-bezier(.25,1,.5,1)"}},opacity:100*!!y,children:(0,n.jsx)(s.In,{accessibilityLabel:"",color:!y||i?"disabled":"default",dataTestId:"collapse-button",icon:p})})]})}),e&&(0,n.jsx)(s.so.Item,{flex:"grow",children:(0,n.jsx)(s.so,{justifyContent:"end",children:e})})]})});return(0,n.jsx)(s.az,{paddingX:u,children:m?(0,n.jsx)(s.Rp,{disabled:!y||i,onTap:m,children:A}):A})}},895418(e,a,i){i.d(a,{A:()=>c,U:()=>d});var t=i(97407),r=i(296540),s=i(236507),l=i(643357),o=i(286682),n=i(474848);let d="media-viewer-full";function c({children:e,onOutsideClick:a,onKeyboardExit:i}){(0,r.useEffect)(()=>{(0,t.A)("CloseupMediaViewerBackdrop","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/MediaViewer/CloseupMediaViewerBackdrop.tsx")},[]);let c=(0,l.A)();return(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&i()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[i]),(0,n.jsx)(r.Fragment,{children:(0,n.jsxs)(s.az,{alignItems:"center","aria-label":c.bt("Media Viewer", "Media Viewer", "closeup.mediaViewer.label", undefined, true),"aria-modal":"true","data-test-id":d,display:"flex",height:"100vh",justifyContent:"center",left:!0,position:"fixed",role:"dialog",top:!0,width:"100vw",zIndex:o.y,children:[e,(0,n.jsx)("div",{onClick:e=>{e.target===e.currentTarget&&a()},role:"presentation",style:{backgroundColor:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(4px)",position:"absolute",bottom:0,left:0,right:0,top:0,marginBottom:"-1px"}})]})})}},23704(e,a,i){i.d(a,{$c:()=>h,BQ:()=>u,CD:()=>P,Ce:()=>_,GY:()=>c,IO:()=>k,Kd:()=>x,NC:()=>n,OU:()=>w,T3:()=>g,Vc:()=>b,Y:()=>z,Yc:()=>m,Yo:()=>f,ZL:()=>o,aP:()=>p,iI:()=>A,kj:()=>v,lr:()=>E,nQ:()=>I,qw:()=>T,sE:()=>y,ul:()=>d,zQ:()=>S});var t=i(236507),r=i(895418),s=i(404712),l=i(243042);let o={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},n=e=>`${e.substring(0,33)}${e.length>33?"...":""}`,d=375,c=4,_=new Set(["related_modules_header","related_products_feed_header"]),u=({verticalNavWidth:e})=>({BREAKPOINT:1056+e,BACKBUTTON_WITH_LABEL_WIDE_BREAKPOINT:1340+e,SM_BREAKPOINT:680+e,EXP_SM_BREAKPOINT:814+e}),g=16,h=64,p=290,m=100,y=480,f=new t.rk(5);function b(e=0,a=0){let{peekCloseupEnabled:i,viewportSize:t}=(0,l._G)(),r=(0,s.A)();if(!i)return{maxWidth:void 0,maxHeight:void 0,fiftyPercentWidth:void 0,fiftyPercentHeight:void 0};let o={sm:96,md:96,lg:244}[t],n={sm:h,md:h,lg:h}[t],d=`100vw - ${2*o}px - ${e}px`,c=`100vh - 80px - ${n}px - ${a}px`,_={maxWidth:`calc(${d})`,maxHeight:`calc(${c})`,fiftyPercentWidth:"sm"===t?`calc(${d})`:`calc((${d})/2)`,fiftyPercentHeight:`calc((${c})/2)`};if(r)return _;let u=window?.innerWidth-2*o-e,g=window?.innerHeight-80-n-a;return{..._,numericValues:{maxWidth:u,maxHeight:window?.innerHeight-80-n-a,fiftyPercentWidth:"sm"===t?u:u/2,fiftyPercentHeight:g/2}}}function v({objectFit:e,variant:a}){let{peekCloseupEnabled:i,viewportSize:t}=(0,l._G)(),{maxHeight:s,maxWidth:o,fiftyPercentHeight:n,fiftyPercentWidth:d}=b();if("media-viewer"===a)return{};let c=`video:not([data-test-id=${r.U}] video)`;return{styleOverrides:i?`
      ${c} {
        max-height: ${"sm"===t?n:s};
        max-width: ${d};
      }
    `:"",objectFit:i?"contain":e,maxHeight:s,maxWidth:o,fiftyPercentHeight:n}}function x({peekCloseupEnabled:e,viewportSize:a,surface:i}){return!!e&&"lg"===a&&"ShoppingGridSmallCarousel"===i}let A={columnSpan:{sm:2,md:2,_lg1:3,lg:3,xl:5},type:"closeup_module",virtualize:!1},P={md:4,lg:4,lg1:4,xl:5},I={columnSpan:{sm:2,md:4,lg1:4,lg:5,xl:6},type:"closeup_module",virtualize:!1},S={columnSpan:{sm:2,md:2,_lg1:2,lg:2,xl:4},type:"shopping_module",virtualize:!1},w="1px solid var(--sema-color-background-secondary)",E="#FFFFFF",T={boxShadow:"unset",borderRadius:16},k={columnSpan:{sm:2,md:2,_lg1:2,lg:2,xl:2},type:"inclusive_filters_module",virtualize:!1},z={closeupWrapperStyle:{cursor:"zoom-out",display:"flex",width:"100%"},storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}}},228159(e,a,i){i.d(a,{P:()=>m,A:()=>p}),i(234784);var t,r,s,l,o=i(698781);let n=(void 0!==t||(t=i(524126)).hash&&"0f2167dc67053b3c12e7c48acf3034c5"!==t.hash&&console.error("The definition of 'usePinDefaultCarouselData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),d=(void 0!==r||(r=i(606708)).hash&&"89a94e64e453531e298c38fed6b87b0f"!==r.hash&&console.error("The definition of 'useRichPinProductMetadataCarouselSlots_richPinProductMetadata' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);var c=i(391972),_=i(646844);let u=(void 0!==s||(s=i(525688)).hash&&"7bb603fa739da45cf04960e3a4021971"!==s.hash&&console.error("The definition of 'usePinProductCarouselData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),g=!1,h=(void 0!==l||(l=i(886941)).hash&&"461a57fcc8f7958e3742c217e4cc45a2"!==l.hash&&console.error("The definition of 'usePinCarouselData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function p(e){let a,i=(0,o.A)(h,e),t=(a=(0,o.A)(n,i),a?.carouselData?{index:a.carouselData.index,carouselId:a.carouselData.entityId,carouselSlots:a.carouselData.carouselSlots?.map(e=>({details:e.details,imageSignature:e.imageSignature,imageSizeMap:{"236x":e.images_236x&&{height:e.images_236x.height,url:e.images_236x.url,width:e.images_236x.width},"474x":e.images_474x&&{height:e.images_474x.height,url:e.images_474x.url,width:e.images_474x.width},"564x":e.images_564x&&{height:e.images_564x.height,url:e.images_564x.url,width:e.images_564x.width},"736x":e.images_736x&&{height:e.images_736x.height,url:e.images_736x.url,width:e.images_736x.width}},slotId:e.slotId,title:e.title}))??[]}:null),r=function({pinKey:e,index:a}){let i=(0,o.A)(u,e),t=(i?.richMetadata||i?.richSummary)?.products?.[0]||null,r=(i?.richMetadata?.products?.length??0)+(i?.richSummary?.products?.length??0);if(null!=e&&r>1&&!g){g=!0;let a=(0,c.z)(e);(0,_.GV)("autoLegacyAdapter.overfetch.usePinProductCarouselData_pin",{sampleRate:.1,tags:{totalLength:r,isGraphQL:"GraphQL"===a}})}let s=function(e){let a=(0,o.A)(d,e);if(!a)return[];let i={},{image_236x:t,image_474x:r,image_564x:s,image_736x:l}=a;return[[t,"236x"],[r,"474x"],[s,"564x"],[l,"736x"]].forEach(([e,a])=>{(Array.isArray(e)?e:[]).forEach(({canonicalImage:e,imageSignature:t})=>{t&&e&&(i={...i,[t]:{...i[t],[a]:{height:e.height,url:e.url,width:e.width}}})})}),Object.entries(i).map(([e,a])=>({imageSignature:e,imageSizeMap:a}))}(t);return t&&s.length?{carouselId:t.productId,carouselSlots:[{imageSignature:null,imageSizeMap:{"236x":i?.images_236x&&{height:i.images_236x.height,url:i.images_236x.url,width:i.images_236x.width},"474x":i?.images_474x&&{height:i.images_474x.height,url:i.images_474x.url,width:i.images_474x.width},"564x":i?.images_564x&&{height:i.images_564x.height,url:i.images_564x.url,width:i.images_564x.width},"736x":i?.images_736x&&{height:i.images_736x.height,url:i.images_736x.url,width:i.images_736x.width}}},...s],index:a}:null}({pinKey:i,index:t?.index});return r?{...r,carouselSlots:r.carouselSlots.map(e=>({...e,details:null,slotId:null,title:null}))}:t}function m({children:e,pinKey:a}){return e(p(a))}},591042(e,a,i){i.d(a,{A:()=>t});function t(e,a){return e.reduce((e,i)=>{let t="function"==typeof a?a(i):i[a];return t in e||(e[t]=[]),e[t].push(i),e},{})}},157432(e,a,i){i.d(a,{A:()=>l});var t=i(643357),r=i(695531);let s=(e,a)=>{let i=a||0,t=10**i,r=+(i?e*t:e).toFixed(8),s=Math.floor(r),l=r-s,o=l>.49999999&&l<.50000001?s%2==0?s:s+1:Math.round(r);return i?o/t:o};function l(){let e=(0,t.A)();return(a,i,t)=>{let l=0,o=0,n=t&&t.style||void 0,d=t&&t.shortform||!1,c=t&&t.uplimit||void 0,_=t&&t.currency||void 0,u=!!c&&i>=c,g=c&&u?c:i;if("currency"===n){let{minimumFractionDigits:e,maximumFractionDigits:i}=((e,a)=>{if(a){let{minimumFractionDigits:i,maximumFractionDigits:t}=new Intl.NumberFormat(e,{style:"currency",currency:a}).resolvedOptions();if(void 0!==i&&void 0!==t)return{minimumFractionDigits:i,maximumFractionDigits:t}}return{minimumFractionDigits:2,maximumFractionDigits:2}})(a,_);l=void 0===t||void 0===t.maximum_fraction_digits?i:t.maximum_fraction_digits,o=void 0===t||void 0===t.minimum_fraction_digits?e:t.minimum_fraction_digits}else l=void 0===t||void 0===t.maximum_fraction_digits?0:t.maximum_fraction_digits,o=void 0===t||void 0===t.minimum_fraction_digits?0:t.minimum_fraction_digits;if(d&&g>999&&(l=void 0===t||void 0===t.shortform_maximum_fraction_digits?2:t.shortform_maximum_fraction_digits,o=0),l<o)return String(g);let h=g,p="",m=[{"100m":{value:1e8,localeKey:e.bt("億", "億", "Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.", undefined, true)}},{"10k":{value:1e4,localeKey:e.bt("万", "万", "Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.", undefined, true)}}],y=[{b:{value:1e9,localeKey:e.bt("b", "b", "Used in number formatting to abbreviate large values in billions.", undefined, true)}},{m:{value:1e6,localeKey:e.bt("m", "m", "Used in number formatting to abbreviate large values in millions.", undefined, true)}},{k:{value:1e3,localeKey:e.bt("k", "k", "Used in number formatting to abbreviate large values in thousands.", undefined, true)}}],f=/^zh|ja|ko/.test(a);if(d&&g>999){let e=f?m:y;for(let a=0;a<e.length;a+=1){let i=Object.keys(e[a])[0],t=e[a][i].value;if(g>=t){h=s(g/t*Math.pow(10,l))/Math.pow(10,l),p=e[a][i].localeKey;break}}}if(null==h)return"";let b=h.toLocaleString([(e=>{try{0..toLocaleString([e])}catch(e){return!1}return!0})(a)&&"ar-SA"!==a?a:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:a,style:i,currency:t})=>{let r={maximumFractionDigits:e,minimumFractionDigits:a};return i?{...r,style:i,..."currency"===i?{currency:t,currencyDisplay:"symbol"}:{}}:r})({maximumFractionDigits:l,minimumFractionDigits:o,currency:_,style:n}));return p&&p.length>0?(0,r.A)(e.bt("{{formattedNumber}}{{numberSuffix}}", "{{formattedNumber}}{{numberSuffix}}", "i18n.usePrettyNumberFormat.prettyNumberFormat", undefined, true),{formattedNumber:b,numberSuffix:p})+(u?"+":""):b+(u?"+":"")}}},825066(e,a,i){i.d(a,{A:()=>l});var t=i(221077);function r(e,a,i){var t;return(a="symbol"==typeof(t=function(e,a){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var t=i.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?t:t+"")in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}let s={carousel:{authOnly:!0,partnerOnly:!0},disabledIdeaPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_idea_pins|disable_video)/,authOnly:!0,partnerOnly:!1},disabledPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_web_pins)/,authOnly:!0,partnerOnly:!1},disabledVideoPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_video)/,authOnly:!0,partnerOnly:!1},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},offsitePinCreation:{scenarios:["offsite_pin_creation"]},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},requireLink:{scenarios:["ad_creation"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"]},shop_the_pin:{authOnly:!0,partnerOnly:!0},storyPinCommentsPermissions:{authOnly:!0,partnerOnly:!1,groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},video:{customEnabledCheck:({user:e})=>!!e?.video_upload_allowed,authOnly:!0,hasCustomEnabledCheck:()=>!0},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/,orbacDisabled:!0},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"]},pinQuality:{partnerOnly:!0},ideaPinProductTagging:{authOnly:!0,experiment:"web_idea_pin_product_tagging",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},pinItemBase64:{authOnly:!0,experiment:"aid_exp_pin_builder_item_base64",groups:/^(employees|enabled)/}},l=new class{constructor(){r(this,"_experiments",null),r(this,"_viewer",null),r(this,"_advertiser",null),r(this,"_scenario",null),r(this,"_language",null),r(this,"_context",null),r(this,"_orbacActingAs",null)}initialize(e){let{requestContext:a,viewer:i,location:r,advertiser:s,scenario:l,orbacActingAs:o}=e;this._context=e,this._experiments=a.experimentsClient,this._language=a.language,this._viewer=i,this._advertiser=s,this._orbacActingAs=o;let{adCreate:n}=(0,t.A)(r.search);l?this._scenario=l:n?this._scenario="ad_creation":this._scenario="default"}scenario(){return this._scenario}enabled(e){if(!this._viewer||!this._experiments)return!1;let{advertisers:a,authOnly:i,customEnabledCheck:t,experiment:r,groups:l=/.*/,hasCustomEnabledCheck:o,languages:n,orbacDisabled:d,partnerOnly:c,scenarios:_,skipActivation:u}=s[e],g=this._viewer.isAuth?this._viewer.id:void 0;return(!this._orbacActingAs?.id||this._orbacActingAs.id===g||!d)&&(o&&t&&this._context&&o(this._context)?!!this._context&&t(this._context):u&&this._experiments?!!r&&this.checkExperimentWithSkipActivation(e):!!a&&!!this._advertiser&&null!==this._advertiser.billing_type||(!this._viewer||!i||!!this._viewer.isAuth)&&(!this._viewer||!c||!!(this._viewer.isAuth&&this._viewer.isPartner))&&(!_||!!_.includes(this._scenario))&&(!n||!!n.includes(this._language))&&(!r||l.test(this.getExperimentGroup(e)||"")))}getExperimentGroup(e){if(!this._viewer||!this._experiments)return null;let{checkExperiment:a}=this._experiments;switch(e){case"disabledIdeaPinCreation":case"disabledPinCreation":case"disabledVideoPinCreation":return a("disable_pin_creation").group??null;case"imageSignals":return a("pin_quality_signal_image").group??null;case"tagging":return a("web_pin_builder_tagging").group??null;case"videoEditing":return a("video_edit").group??null;case"ideaPinProductTagging":return a("web_idea_pin_product_tagging").group??null;case"pinItemBase64":return a("aid_exp_pin_builder_item_base64").group??null;default:return null}}checkExperimentWithSkipActivation(e){if(!this._viewer||!this._experiments)return!1;let{checkExperiment:a}=this._experiments;switch(e){case"disabledIdeaPinCreation":case"disabledPinCreation":case"disabledVideoPinCreation":return a("disable_pin_creation",{dangerouslySkipActivation:!0}).anyEnabled??!1;case"imageSignals":return a("pin_quality_signal_image",{dangerouslySkipActivation:!0}).anyEnabled??!1;case"tagging":return a("web_pin_builder_tagging",{dangerouslySkipActivation:!0}).anyEnabled??!1;case"videoEditing":return a("video_edit",{dangerouslySkipActivation:!0}).anyEnabled??!1;default:return!1}}}},872361(e,a,i){i.d(a,{A:()=>n});var t=i(315017),r=i(871211),s=i(646844);let l=["originals","736x","474x","236x","200x"],o=new RegExp(/\/(\d+x|originals)\//),n=(e,a,i)=>{(0,r.A)(()=>{if(a?.startsWith("https://i.pinimg.com/")&&e){let r="";e?.includes("Search")?r="search":e?.includes("AuthHomefeed")?r="auth_homefeed":e?.includes("RelatedPinGrid")?r="related_pin_grid":"search_tab_render"===e&&(r="search_tab_render"),r&&((e,a,i)=>{let r,n,d,c,_="";if(i)_=i;else{let e=Math.round(Number(window.devicePixelRatio));e&&(_=2===e?"474x":3===e?"736x":4===e?"orig":"236x")}let u=e.replace(o,`/${_}/`),g=(n=(r=e.match(o))?r[1]:null,d=(0,t.A)("resource").filter(e=>"link"===e.initiatorType&&e.name.includes("i.pinimg.com")),c=new Set,l.forEach(a=>{let i=e.replace(o,`/${a}/`);d.filter(e=>e.name===i).length>0&&c.add(a)}),!(!(c.size>0)||!n||c.has(n))||c.size>1);(e=>{let a=new Image;a.src=e;let{complete:i}=a;return a.src="",i})(u)?(0,s.GV)(`web.${a}.cached_grid_image.found`,{tags:{resolution:_,areMultipleResolutionsLoaded:g}}):(0,s.GV)(`web.${a}.cached_grid_image.not_found`,{tags:{resolution:_,areMultipleResolutionsLoaded:g}})})(a,r,i??void 0)}})}},514372(e,a,i){i.d(a,{A:()=>c});var t=i(97407),r=i(296540),s=i(236507),l=i(696561),o=i(622165),n=i(568677),d=i(474848);function c({allBold:e,searchDelightConfig:a,query:i="",text:c}){(0,r.useEffect)(()=>{(0,t.A)("HighlightTerm","/app/packages/search/HighlightTerm.tsx")},[]);let{checkExperiment:_}=(0,o.A)(),u=(0,n.qJ)(),g=i.trim(),h=c.toLowerCase(),p=(h.startsWith(g.toLowerCase())?g:"").length,m=a?(0,l.ZR)(c,a.search_query_list):null;if(m&&a)return(0,d.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,d.jsx)(l.TC,{allBold:e,searchDelightConfig:a,searchDelightParts:m,text:c,weightPivot:p})});if(!u&&_("web_search_autocomplete_visual_treatment").anyEnabled){let e=((e,a)=>{let i=Array(e.length).fill(!1);a.forEach(a=>{if(!a)return;let t=0;for(;t<=e.length-a.length;){let r=e.indexOf(a,t);if(-1===r)break;let s=r+a.length,l=!1;for(let e=r;e<s;e+=1)if(i[e]){l=!0;break}if(!l){for(let e=r;e<s;e+=1)i[e]=!0;break}t=s}});let t=[],r=0;for(;r<i.length;){let e=i[r],a=r+1;for(;a<i.length&&i[a]===e;)a+=1;t.push({matched:!!e,start:r,end:a}),r=a}return t})(h,g.toLowerCase().split(/\s/));return(0,d.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:e.map(({matched:e,start:a,end:i})=>(0,d.jsx)(s.KJ,{color:e?"subtle":"default",inline:!0,weight:e?"normal":"bold",children:c.substring(a,i)},`search-autocomplete-suggestion-${c}-${a}-${i}`))})}return(0,d.jsxs)(s.az,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:[(0,d.jsx)(s.KJ,{color:"subtle",inline:!0,weight:e?"bold":"normal",children:c.substring(0,p)}),(0,d.jsx)(s.KJ,{inline:!0,weight:"bold",children:c.substring(p)})]})}},553041(e,a,i){i.d(a,{A:()=>t});let t=2},809583(e,a,i){i.d(a,{Ef:()=>s,Jj:()=>r,UQ:()=>l,_n:()=>o,cO:()=>t,my:()=>d,yI:()=>n});let t={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",BOARDS_MINE:"my_boards",USERS:"users",MY_CONTENT:"my_content",SHOP_TOOL:"shop_tool"},r=e=>Object.values(t).find(a=>a===e)??void 0,s=e=>{switch(e){case t.PINS:return 0;case t.PINS_MINE:return null;case t.PINS_BUYABLE:return 1;case t.PINS_VIDEO:return 2;case t.BOARDS:return 3;case t.USERS:return 4;default:return null}},l=e=>{switch(e){case 0:return t.PINS;case 1:return t.PINS_BUYABLE;case 2:return t.PINS_VIDEO;case 3:return t.BOARDS;case 4:return t.USERS;default:return null}},o=e=>{switch(e){case t.PINS_MINE:case t.MY_CONTENT:return 107;case t.PINS_BUYABLE:return 254;case t.PINS_VIDEO:return 3306;case t.SHOP_TOOL:return 3380;case t.BOARDS:return 44;case t.USERS:return 45;case t.PINS:default:return 43}},n=e=>{switch(e){case t.PINS:return 60;case t.PINS_MINE:case t.MY_CONTENT:return 63;case t.PINS_BUYABLE:return 3800;case t.PINS_VIDEO:return 64;case t.BOARDS:return 61;case t.USERS:return 62;default:return null}},d=(e,a)=>{if(a)switch(e){case t.USERS:return 1000392;case t.PINS_BUYABLE:return 1000391;case t.PINS:default:return 29}switch(e){case t.USERS:return 1000432;case t.PINS_BUYABLE:return 1000433;case t.PINS:default:return 1000269}}},329794(e,a,i){i.d(a,{fX:()=>s,kP:()=>r,uq:()=>t});let t="#E1E1E1",r="#F1F1F1",s="0 0 0 4px rgba(0, 132, 255, .5)"},868850(e,a,i){i.d(a,{A:()=>t});function t(e){return(e||"").trim().replace(/\s+/g," ")}},201015(e,a,i){i.d(a,{A:()=>s});var t=i(739479),r=i(857062);let s=()=>{let e=(0,t.C)(),a=(0,r.E)();return i=>{let{mobileOptions:t,desktopOptions:r,reason:s,attributionLabel:l,pinId:o,savePinImageUrl:n}=i;e?e.showDesktopSignupModal({signupFlow:r?.modalType==="login"?{type:"login"}:{type:"signup"},reason:s,attributionLabel:l,savePinId:o,savePinImageUrl:n,...r?.modalOptions}):a&&a.showMobileSignupModal({reason:s,attributionLabel:l,headingType:t?.headingType??"none",pinId:o,savePinImageUrl:n})}}},885450(e,a,i){i.d(a,{A:()=>t});function t(e,a){let i=a?.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(i,(e,a)=>"_"+a.toLowerCase())}},134971(e,a,i){i.d(a,{A:()=>o});var t=i(97407),r=i(296540),s=i(236507),l=i(474848);function o(){return(0,r.useEffect)(()=>{(0,t.A)("A11yPause","/app/packages/ui/A11yPause.tsx")},[]),(0,l.jsx)(s.az,{display:"visuallyHidden",children:", "})}},807898(e,a,i){i.d(a,{A:()=>t});let t=()=>window.location.pathname},84220(e,a,i){i.d(a,{A:()=>c,Y:()=>d});var t,r=i(296540);i(234784);var s=i(391972),l=i(698781);let o=(void 0!==t||(t=i(355799)).hash&&"7a87fb47ec8dc08d373f83cf43f4b96f"!==t.hash&&console.error("The definition of 'useGetStringifiedCommerceAuxData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),n=e=>{let a=!!(e&&"GraphQL"===(0,s.z)(e)),i=(0,l.A)(o,e);return(0,r.useCallback)(e=>{let t,r,s;return 0===Object.keys(t={...e?.default,...i?(r=Symbol("SKIP"),s=null,!a&&(s=!!(i.shoppingFlags?.includes(10)||i.productPinData?.items?.[0]?.additionalImagesLength)),Object.entries({...i.isEligibleForPdp||i.isOosProduct||i.isStaleProduct?{...(()=>{let e=null,t=null,s=i.richMetadata?.products?.[0];if(!a){let r=(i.richMetadata||i.richSummary)?.products?.[0],l=r?.images_736x?.length||r?.images_564x?.length||r?.images_474x?.length||r?.images_236x?.length||0,o=!!i.images_orig;t=l>0?+!!o+l:i.carouselData?.carouselSlots?.length,e=!a&&s?.variantSet?.dimensionMetadata?.reduce((e,{name:a,values:i})=>e+(a&&i?i.length:0),0)}return{carousel_image_count:t||r,brand_signature:s?.brand?.signature||r,free_shipping_price:s?.shippingInfo?.freeShippingPrice||r,free_shipping_value:s?.shippingInfo?.freeShippingValue||r,num_variants:s?.variantSet?.variants?.length||r,total_dimension_option_count:s?.variantSet?.dimensionMetadata?.length||r,valid_dimension_option_count:e||r}})(),pin_show_pdp_oos:!!i.isOosProduct||r,pin_show_pdp_stale:!!i.isStaleProduct||r,pin_show_pdp:!!i.isEligibleForPdp||r}:{},pin_is_shop_the_look:!!(i.shoppingFlags?.includes(2)||i.aggregatedPinData?.isShopTheLook)||r,is_available:!!i.shoppingFlags?.includes(1)||r,is_product_pin_v2:!!i.shoppingFlags?.includes(5)||r,is_rich_product_pin:!!i.shoppingFlags?.includes(6)||r,is_organic_product_carousel:s||r,item_id:(i.richSummary?.products?.[0]||{}).itemId||r,item_set_id:(i.richSummary?.products?.[0]||{}).itemSetId||r,story_pin_id:i.storyPinData?i.storyPinDataId:r}).filter(([,e])=>e!==r).reduce((e,[a,i])=>({...e,[a]:i}),{})):{},...e?.override}).length?{}:{commerce_data:JSON.stringify(t)}},[a,i])},d=({children:e,pinKey:a})=>e(n(a)),c=n},258462(e,a,i){i.d(a,{A:()=>d});var t=i(97407),r=i(296540),s=i(236507),l=i(474848);function o(e,a,i){var t;return(a="symbol"==typeof(t=function(e,a){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var t=i.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?t:t+"")in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}let n={default:{backgroundColor:"var(--sema-color-background-secondary)",boxShadow:"none"},drag:{backgroundColor:"var(--sema-color-background-default)",boxShadow:"var(--sema-space-0) var(--sema-space-0) var(--sema-space-0) var(--sema-space-25) var(--sema-color-border-education)"},error:{backgroundColor:"var(--sema-color-background-error-weak)",boxShadow:"var(--sema-space-0) var(--sema-space-0) var(--sema-space-0) var(--sema-space-25) var(--sema-color-border-error)"}};class d extends r.Component{constructor(...e){super(...e),o(this,"state",{isDraggingOver:!1,isHoveringOver:!1,containedHeight:null}),o(this,"handleOnDragEnter",e=>{let{onDragEnter:a}=this.props;e.preventDefault(),e.stopPropagation(),this.setState({isDraggingOver:!0}),a&&a(e)}),o(this,"handleOnDragLeave",e=>{let{onDragLeave:a}=this.props;e.preventDefault(),e.stopPropagation(),this.setState({isDraggingOver:!1}),a&&a(e)}),o(this,"handleOnDragOver",e=>{let{onDragOver:a}=this.props;e.preventDefault(),e.stopPropagation(),a&&a(e)}),o(this,"handleOnDrop",e=>{let{onDrop:a}=this.props;e.preventDefault(),e.stopPropagation(),this.setState({isDraggingOver:!1}),a&&a(e)}),o(this,"handleMouseEnter",()=>{let{onMouseEnter:e}=this.props;e&&e(),this.setState({isHoveringOver:!0})}),o(this,"handleMouseLeave",()=>{let{onMouseLeave:e}=this.props;e&&e(),this.setState({isHoveringOver:!1})}),o(this,"setContainedHeight",e=>{this.setState({containedHeight:e})})}getDragContainerStyles(e,a){return a&&"default"===e?{...n[e],backgroundColor:a}:n[e]}render(){let{children:e,color:a,dropRounding:i,hasError:t,height:r,position:o,width:n}=this.props,{isDraggingOver:d,isHoveringOver:c,containedHeight:_}=this.state;return(0,l.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{...this.getDragContainerStyles(d?"drag":t?"error":"default",a),...i?{borderRadius:i}:{}}},"data-test-id":"drag-behavior-container",height:r||_||"100%",onDragEnter:this.handleOnDragEnter,onDragLeave:this.handleOnDragLeave,onDragOver:this.handleOnDragOver,onDrop:this.handleOnDrop,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,position:o,rounding:200,width:n||"100%",children:e(d,c,this.setContainedHeight,_)})}componentDidMount(){(0,t.A)("DragBehavior","/app/packages/vip/DragBehavior.tsx")}}},832199(e,a,i){i.d(a,{A:()=>d});var t=i(97407),r=i(296540),s=i(236507),l=i(258462),o=i(474848);let n={cursor:"pointer",height:"100%",opacity:0,position:"absolute",width:"100%",left:0,top:0,fontSize:0},d=e=>{(0,r.useEffect)(()=>{(0,t.A)("FileUpload","/app/packages/vip/FileUpload.tsx")},[]);let[a,i]=(0,r.useState)(!1),d=a=>{let{onChange:i}=e;a.preventDefault(),a.stopPropagation(),i&&i(a),a.target.value=""},c=a=>{let{onClick:i}=e;i&&i(a)},{accept:_,accessibilityLabel:u,accessibilityDescription:g,allowMultipleFiles:h,children:p,color:m,dropRounding:y,hasError:f,height:b,id:v,onDrop:x,position:A,rounding:P=200,width:I,isAriaHidden:S,isRequired:w,experimentsClient:E}=e;return(0,o.jsx)(l.A,{color:m,dropRounding:y,experimentsClient:E,hasError:f,height:b,onDrop:x,position:A,width:I,children:e=>(0,o.jsxs)(s.az,{dangerouslySetInlineStyle:{__style:{...a?{border:"2px solid var(--sema-color-border-focus-outer-default)"}:{}}},height:"100%",onBlur:()=>i(!1),onFocus:()=>i(!0),position:"relative",rounding:P,children:[p(e),(0,o.jsx)("input",{accept:_,"aria-describedby":"upload-button-explanation","aria-hidden":S,"aria-invalid":f?"true":void 0,"aria-label":u,"data-test-id":v,id:v,multiple:h,onChange:d,onClick:c,required:w,style:n,tabIndex:S?-1:0,type:"file"}),g&&(0,o.jsx)(s.az,{display:"none",id:"upload-button-explanation",children:(0,o.jsx)(s.KJ,{children:g})})]})})}},543053(e,a,i){i.d(a,{Uz:()=>o,Vf:()=>l,f9:()=>r,oA:()=>t,uq:()=>s});let t=["image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/webp"],r=["bmp","gif","jpg","jpeg","png","tiff","webp"],s=["video/mp4","video/x-m4v","video/quicktime"],l=["mp4","m4v","mov"],o={border:"2px dashed #DADADA",borderRadius:"32px",pointerEvents:"none"}},797305(e,a,i){i.d(a,{A:()=>l});var t=i(327467),r=i(803710),s=i(825066);function l(e,a,i,l){switch(e){case"FILE_UNRECOGNIZED_TYPE":return{dispatchId:i,id:"FILE_UNRECOGNIZED_TYPE",type:"error",message:a.bt("Your upload failed because it is in the wrong format.", "Your upload failed because it's the wrong format.", "vip.errorMessaging.message", undefined, true),blocking:!0};case"IMAGE_OVER_MAX_DIMENSIONS":return{dispatchId:i,id:"IMAGE_OVER_MAX_DIMENSIONS",type:"error",message:a.bt("This image is too large and can't be uploaded. Please try a smaller image size.", "This image is too large and can't be uploaded. Please try a smaller image size.", "vip.errorMessaging.message", undefined, true),blocking:!0};case"IMAGE_UNDER_MIN_DIMENSIONS":let[o,n]=s.A.enabled("pinQuality")||l?.isStoryPin?[300,200]:[100,100];return{dispatchId:i,id:"IMAGE_UNDER_MIN_DIMENSIONS",type:"error",message:(0,t.vQ)(a.bt("This image is too small. Make sure your images are at least {{ minWidth }} x {{ minHeight }} {{ pixelString }}.", "Hmm...this image is too small. Make sure your images are at least {{ minWidth }} x {{ minHeight }} {{ pixelString }}.", "vip.errorMessaging.minImageMessage", undefined, true),{minHeight:o,minWidth:n,pixelString:a.nbt(["pixel", "pixels"], n, "pinBuilder.errorMessaging.pixel", true)}).join(""),blocking:!0};case"IMAGE_OVER_MAX_FILE_SIZE":return{dispatchId:i,id:"IMAGE_OVER_MAX_FILE_SIZE",type:"error",message:(0,t.vQ)(a.nbt(["This image is too large and can't be uploaded. Images can't be larger than {{max_size_mb}} MB", "This image is too large and can't be uploaded. Images can't be larger than {{max_size_mb}} MB"], 20, "vip.errorMessaging.message", true),{max_size_mb:20}).join(""),blocking:!0};case"IMAGE_UNRECOGNIZED_TYPE":return{dispatchId:i,id:"IMAGE_UNRECOGNIZED_TYPE",type:"error",message:a.bt("This image type is invalid – please make sure the image is natively .jpg or .png", "This image type is invalid - please make sure the image is natively .jpg or .png", "vip.errorMessaging.message", undefined, true),blocking:!0};case"VIDEO_UNDER_MIN_DIMENSIONS":return{dispatchId:i,id:"VIDEO_UNDER_MIN_DIMENSIONS",type:"error",message:(0,t.vQ)(a.nbt(["This video is too small and can't be uploaded. Videos must have a height and width larger than {{min_size_video}} pixel", "This video is too small and can't be uploaded. Videos must have a height and width larger than {{min_size_video}} pixels"], 100, "vip.errorMessaging.message", true),{min_size_video:100}).join(""),blocking:!0};case"VIDEO_BELOW_MIN_DURATION":let d=Math.floor(4);return{dispatchId:i,id:"VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,t.vQ)(a.nbt(["This video is too short and cannot be uploaded. Videos cannot be shorter than {{minVideoLengthSeconds}} second.", "This video is too short and cannot be uploaded. Videos cannot be shorter than {{minVideoLengthSeconds}} seconds."], d, "vip.errorMessaging.message", true),{minVideoLengthSeconds:d}).join(""),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":return{dispatchId:i,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,t.vQ)(a.nbt(["This video is too short and cannot be uploaded. Videos cannot be shorter than {{minStoryPinVideoLengthSeconds}} second.", "This video is too short and cannot be uploaded. Videos cannot be shorter than {{minStoryPinVideoLengthSeconds}} seconds."], 4, "vip.errorMessaging.storyPinVideoBelowMin.message", true),{minStoryPinVideoLengthSeconds:4}).join(""),blocking:!0};case"VIDEO_COVER_INVALID_ASPECT_RATIO":return{dispatchId:i,id:"VIDEO_COVER_INVALID_ASPECT_RATIO",type:"error",message:a.bt("The video's cover image must have the same dimensions as the video itself", "The video's cover image must be of the same dimensions as the video itself", "vip.errorMessaging.message", undefined, true),blocking:!0};case"VIDEO_GENERAL_UPLOAD_ERROR":return{dispatchId:i,id:"VIDEO_GENERAL_UPLOAD_ERROR",type:"error",message:a.bt("Your upload failed for some reason. Please try again.", "Hmm, your upload failed for some reason. Please try again.", "vip.errorMessaging.message", undefined, true),blocking:!0};case"VIDEO_OVER_MAX_DURATION":return{dispatchId:i,id:"VIDEO_OVER_MAX_DURATION",type:"error",message:(0,t.vQ)(a.nbt(["This video is too long and can't be uploaded. Videos can't be longer than {{max_video_length_minutes}} minute.", "This video is too long and can't be uploaded. Videos can't be longer than {{max_video_length_minutes}} minutes."], 15, "vip.errorMessaging.message", true),{max_video_length_minutes:15}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_DURATION":return{dispatchId:i,id:"STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:(0,t.vQ)(a.bt("This video is too long and can't be uploaded. Videos can't be longer than {{max_video_length_seconds}} seconds.", "This video is too long and can't be uploaded. Videos can't be longer than {{max_video_length_seconds}} seconds.", "vip.errorMessaging.message", undefined, true),{max_video_length_seconds:Math.floor(300.5)}).join(""),blocking:!0};case"VIDEO_OVER_MAX_FILE_SIZE":return{dispatchId:i,id:"VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,t.vQ)(a.nbt(["This video is too large and can't be uploaded. Videos can't be larger than {{max_video_size_gb}} GB.", "This video is too large and can't be uploaded. Videos can't be larger than {{max_video_size_gb}} GB."], 2, "vip.errorMessaging.message", true),{max_video_size_gb:2}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":{let e=r.L3/1024/1024;return{dispatchId:i,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,t.vQ)(a.nbt(["This video is too large and cannot be uploaded. Videos cannot be larger than {{maxVideoFileSize}} MB.", "This video is too large and cannot be uploaded. Videos cannot be larger than {{maxVideoFileSize}} MB."], e, "vip.errorMessaging.message", true),{maxVideoFileSize:e}).join(""),blocking:!0}}case"VIDEO_UNRECOGNIZED_ENCODING":return{dispatchId:i,id:"VIDEO_UNRECOGNIZED_ENCODING",type:"error",message:a.bt("This video isn't encoded in H.264", "This video isn't encoded in H.264", "vip.errorMessaging.message", undefined, true),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME":return{dispatchId:i,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME",type:"error",message:a.bt("This video isn't encoded in H.264 or H.265. Please use Safari if you want to upload ProRes videos.", "This video isn't encoded in H.264 or H.265. Please use Safari if you want to upload ProRes videos.", "vip.errorMessaging.message.chrome", undefined, true),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX":return{dispatchId:i,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX",type:"error",message:a.bt("This video isn't encoded in H.264. Please use Safari if you want to upload H.265 or ProRes videos.", "This video isn't encoded in H.264. Please use Safari if you want to upload H.265 or ProRes videos.", "vip.errorMessaging.message.firefox", undefined, true),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI":return{dispatchId:i,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI",type:"error",message:a.bt("This video isn't encoded in H.264 or H.265 or ProRes.", "This video isn't encoded in H.264 or H.265 or ProRes.", "vip.errorMessaging.message.safari", undefined, true),blocking:!0};case"VIDEO_UNSUPPORTED_RATIO":return{dispatchId:i,id:"VIDEO_UNSUPPORTED_RATIO",type:"error",message:a.bt("This video is too tall or narrow and can't be uploaded. Videos need to be between 1:2 and 1.91:1 aspect ratio.", "This video is too tall or narrow and can't be uploaded. Videos need to be between 1:2 and 1.91:1 aspect ratio.", "vip.errorMessaging.message", undefined, true),blocking:!0};default:return{dispatchId:i,id:"GENERAL_ERROR",type:"error",message:a.bt("Something went wrong. Please try again.", "Hmm, something went wrong. Please try again.", "vip.errorMessaging.message", undefined, true),blocking:!0}}}},922437(e,a,i){i.d(a,{A:()=>s});var t=i(418562),r=i(797305);let s=e=>a=>new Promise((i,s)=>{let l=new Image;l.addEventListener("load",()=>i({fileSrc:a,height:l.height,id:(0,t.A)(),name:a.name,size:a.size,src:l.src,type:"localImage",width:l.width})),l.addEventListener("error",()=>s((0,r.A)("IMAGE_UNRECOGNIZED_TYPE",e))),l.src=URL.createObjectURL(a)})},568187(e,a,i){i.d(a,{A:()=>l});var t=i(418562),r=i(797305),s=i(778678);let l=e=>a=>new Promise((i,l)=>{let o=new FileReader,n=(window.navigator?.userAgent||"").includes("Safari")?a.slice(0,a.size,"video/mp4"):a,d=URL.createObjectURL(n);o.addEventListener("load",()=>{let o=document.createElement("video");o.addEventListener("loadedmetadata",()=>i({id:(0,t.A)(),duration:o.duration,fileSrc:a,height:o.videoHeight,name:a.name,size:a.size,src:o.src,thumbnail:0,type:"localVideo",width:o.videoWidth})),o.addEventListener("error",()=>{l((0,r.A)((0,s.A)(),e))}),o.src=d}),o.readAsDataURL(a)})},778678(e,a,i){i.d(a,{A:()=>t});function t(){let e=window.navigator?.userAgent||"";if(e.includes("Firefox"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX";if(e.includes("SamsungBrowser")||e.includes("Opera")||e.includes("OPR")||e.includes("Edge"))return"VIDEO_UNRECOGNIZED_ENCODING";if(e.includes("Edg"))return"VIDEO_UNRECOGNIZED_ENCODING";if(e.includes("Chrome"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME";if(e.includes("Safari"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI";else return"VIDEO_UNRECOGNIZED_ENCODING"}},134521(e,a,i){i.d(a,{A:()=>_});var t=i(543053),r=i(797305),s=i(922437),l=i(825066),o=i(646212),n=i(803710),d=i(568187),c=i(778678);function _({i18n:e,file:a,options:i,ideaPinRenamingEnabled:_,imageFileTypes:u=t.oA}){let{allowVideo:g,videoOnly:h}=i||{};return t.uq.includes(a.type)&&g?function(e,a,i){let{forStoryPin:t}=i||{},s=t?n.L3:0x80000000;return a.size>s?Promise.resolve((0,r.A)(t?"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":"VIDEO_OVER_MAX_FILE_SIZE",e)):(0,d.A)(e)(a).then(a=>(function(e,a,i){let{forStoryPin:t,allowAllAspectRatios:s}=i||{},l=!!t;return a.duration<4?(0,r.A)(l?"STORY_PIN_VIDEO_BELOW_MIN_DURATION":"VIDEO_BELOW_MIN_DURATION",e):a.duration>(l?300.5:900)?(0,r.A)(l?"STORY_PIN_VIDEO_OVER_MAX_DURATION":"VIDEO_OVER_MAX_DURATION",e):a.width&&a.height?!s&&(a.width/a.height<.5||a.width/a.height>1.91)?(0,r.A)("VIDEO_UNSUPPORTED_RATIO",e):a.width<100||a.height<100?(0,r.A)("VIDEO_UNDER_MIN_DIMENSIONS",e):a:(0,r.A)((0,c.A)(),e)})(e,a,i)).catch(e=>e)}(e,a,i):!u.includes(a.type)||h?Promise.resolve((0,r.A)("FILE_UNRECOGNIZED_TYPE",e)):a.size>0x1400000?Promise.resolve((0,r.A)("IMAGE_OVER_MAX_FILE_SIZE",e)):(0,s.A)(e)(a).then(a=>(function(e,a,i,t){let[r,s]=l.A.enabled("pinQuality")||t?.isStoryPin?[300,200]:[100,100],n=t?.minHeight||r,d=t?.minWidth||s;return i.height*i.width>0x5555555?(0,o.Ay)({errorId:"IMAGE_OVER_MAX_DIMENSIONS",i18n:e,ideaPinRenamingEnabled:a}):i.height<n||i.width<d?(0,o.Ay)({errorId:"IMAGE_UNDER_MIN_DIMENSIONS",i18n:e,ideaPinRenamingEnabled:a,options:t}):i})(e,_,a,i)).catch(e=>e)}},601051(e,a,i){i.d(a,{A:()=>t});let t={BOARD_PICKER:"board_picker",ORGANIZE_PINS:"organize_pins",PROFILE:"profile",PIN_CLUSTER:"create_pin_cluster_page"}},320201(e,a,i){i.d(a,{A:()=>T});var t,r=i(97407),s=i(296540);i(234784);var l=i(236507),o=i(275552),n=i(449798),d=i(698781),c=i(643357),_=i(622165),u=i(201015),g=i(182835),h=i(570305),p=i(211974),m=i(551552),y=i(718254),f=i(568677),b=i(871211),v=i(706243),x=i(431210),A=i(882101),P=i(271790),I=i(194725),S=i(474848);let w=({children:e,pulsar:a,testId:i})=>a.show?(0,S.jsx)(l.az,{"data-test-id":i,position:"relative",children:(0,S.jsxs)(l.Rp,{onTap:a.onClick,tapStyle:"none",children:[(0,S.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,S.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,S.jsx)(l.EV,{})})]})}):(0,S.jsx)(l.az,{"data-test-id":i,children:e}),E=(void 0!==t||(t=i(602740)).hash&&"cabaa35ed7d59dee006897bf3ef32e3d"!==t.hash&&console.error("The definition of 'FollowButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function T({auxData:e,disabled:a,disableLog:i,followEventType:t,id:T,inline:k,invertColors:z,isFollowed:O,isIdeaPin:D,isLegoEnabled:R,isSecondaryButton:C,isUserFollowButton:L,isUserMe:B,onFollow:j,onUnfollow:N,pinKey:M,shouldUseLegoColors:F,showPulsar:V,size:U,textType:K="FollowFollowing",unfollowEventType:G,viewParameter:H,viewType:Y,clientTrackingParams:J}){let q;(0,s.useEffect)(()=>{(0,r.A)("FollowButton","/app/www/FollowButton.tsx")},[]);let W=(0,c.A)(),$=(0,f.qJ)(),{showToast:X}=(0,p.CG)(),Q=(0,h.A)(),Z=(0,o.A)(),ee=(0,u.A)(),{checkExperiment:ea}=(0,_.A)(),ei=(0,x.A)(),et=(0,n.A)(),er=et&&et.isAuth,{unauthFollowUserId:es,setUnauthFollowUserId:el}=(0,I.H)(),eo=(0,A.DF)()(T),en=(0,m.A)(),[ed,ec]=(0,s.useState)(O),e_=eo&&{imageMediumUrl:eo.image_medium_url,username:eo.username},eu=(0,d.A)(E,M),eg=eu?.linkDomain,eh=eu?.nativeCreator,ep=eu?.originPinner,em=eu?.pinner;q=eh||(eg?eg.officialUser:ep||em);let ey=e_??q;(0,b.A)(()=>{!$&&er&&es&&T&&es===T&&j(T)});let ef=ei({fn:()=>{if(er)ed?(N(T),ec(!1),i||Z({event_type:G,view_type:Y,view_parameter:H,object_id_str:T,aux_data:e,clientTrackingParams:J})):(j(T),ec(!0),L&&X(({hideToast:e})=>{let a=ey?.username?`/${ey.username}/`:"";return(0,S.jsx)(P.A,{handleHide:e,href:a,imageUrl:ey?.imageMediumUrl||"",text:(0,S.jsx)(l.KJ,{lineClamp:4,children:W.bt("Following! Their created Pins will show up in your home feed!", "Following! Their created Pins will show up in your home feed!", "followButton.follow.informationalToastText", undefined, true)}),userId:T})}),i||Z({event_type:t,view_type:Y,view_parameter:H,object_id_str:T,aux_data:e,clientTrackingParams:J}));else{if((0,g.uq)(ed?"press_profile_unfollow":"press_profile_follow"),Q({action:"click",item:ed?"unfollow-button":"follow-button"}),ea("migration_upsell_manager_redux").anyEnabled||ea("migration_upsell_manager_redux_dweb").anyEnabled||ea("migration_upsell_manager_redux_mweb").anyEnabled||ea("migration_upsell_manager_redux_dweb_global").anyEnabled||ea("migration_upsell_manager_redux_mweb_global").anyEnabled)if($){let e=ea("pcons_dweb_contextual_follow_modal").anyEnabled;en((0,y.Vl)(!!D,e))}else{let e=ea("pcons_mweb_contextual_follow_modal").anyEnabled;en((0,y.Ll)(!!D,e))}else ee({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:D?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:$&&ea("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!$&&ea("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});$||el(T??""),(0,g.uq)("clickthrough")}},modalHeader:(0,v.Bh)({i18n:W,toFollow:!ed})}),eb=!ed&&!!V,ev=()=>{if(B)return W.bt("That's you!", "That's you!", "Follow button is disabled because this is you", undefined, true);if("AddRemove"===K)return ed?W.bt("Remove", "Remove", "unfollowButton.removeText", undefined, true):W.bt("Add", "Add", "followButton.addText", undefined, true);let e="FollowUnfollow"===K?W.bt("Unfollow", "Unfollow", "unfollowButton.unfollowText", undefined, true):W.bt("Following", "Following", "Follow button label - followed state", undefined, true);return ed?e:W.bt("Follow", "Follow", "Follow button label - unfollowed state", undefined, true)};return(0,S.jsx)(w,{pulsar:eb?{show:!0,onClick:ef}:{show:!1},testId:B||ed?"board-unfollow-button":"board-follow-button",children:(0,S.jsx)(l.$n,{accessibilityLabel:ev(),color:F||"AddRemove"===K||!R&&C||z?"secondary":"primary",disabled:B||a,fullWidth:k,onClick:eb?void 0:({event:a})=>{a.preventDefault(),a.stopPropagation(),i||Z({event_type:101,component:13672,element:11951,object_id_str:T,view_type:Y,view_parameter:H,aux_data:e,clientTrackingParams:J}),ef()},selected:ed||!1,size:U,text:ev()})})}},727914(e,a,i){i.d(a,{D6:()=>h,LV:()=>c,S$:()=>s,Tq:()=>d,Wt:()=>u,b9:()=>r,hK:()=>_,iu:()=>o,oc:()=>g,t1:()=>l,zU:()=>n});var t=i(706397);let r=e=>{let a=(0,t.bi)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},s=e=>{let a=(0,t.bi)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:a})},l=e=>{let a=(0,t.bi)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:a})},o=e=>{let a=(0,t.bi)({impressionAuxFields:{...e.impressionData||{}},contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:a})},n=e=>{let a=(0,t.bi)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},d=e=>{let a=(0,t.bi)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},c=e=>{let a=(0,t.bi)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},_=e=>{let a=(0,t.bi)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},u=e=>{let a=(0,t.bi)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:a})},g=e=>{let a=(0,t.bi)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:a})},h=e=>{let a=(0,t.bi)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"EditorialBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})}},597762(e,a,i){i.d(a,{A:()=>r});var t=i(882101);function r(){let e=(0,t.V_)();return Object.keys(e).reduce((a,i)=>{let t=e[i];return a[t.username]=t,a},{})}},227651(e,a,i){i.d(a,{_:()=>s});let t={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},r=e=>{if(!e)return"";let a="";for(let i=0;i<e.length;i+=1)a+=t[e.charAt(i)]||e.charAt(i);return a},s=(e,a,i="name")=>{let t=a.toLowerCase();return e.filter(e=>((e,a)=>{let i=a.split(" "),t=e.split(" "),s=0;for(let e=0;e<t.length;e+=1)(r(t[e]).includes(i[s])||t[e].includes(i[s]))&&(s+=1);return s===i.length})(e[i].toLowerCase(),t))}},694506(e,a,i){i.d(a,{A:()=>D});var t,r=i(97407),s=i(296540);i(234784);var l=i(278106),o=i(236507),n=i(275552),d=i(28245),c=i(449798),_=i(698781),u=i(643357),g=i(793900),h=i(157432),p=i(327467),m=i(534955),y=i(182835),f=i(134971),b=i(409848),v=i(568677),x=i(866645),A=i(194637),P=i(796903),I=i(474848);function S({boardId:e}){let a,i,t;(0,s.useEffect)(()=>{(0,r.A)("CollaboratorsAvatars","/app/www/board/CollaboratorsAvatars.tsx")},[]);let l=(0,c.A)(),n=(0,v.qJ)(),d=(0,P.oW)()(e),_=(a=(0,c.A)(),i=(0,v.qJ)()&&a&&a.isAuth,t=(0,P.oW)()(e),(0,s.useMemo)(()=>{if(!t)return[];let{owner:e,collaborating_users:r}=t,[s,l,o]=[new Set,new Set,new Set];for(let i of[...e?[e]:[],...r||[]])i.id===e?.id?s.add(i):i.id===(a.isAuth?a.id:void 0)?l.add(i):o.add(i);return[...s,...l,...o].map(e=>({name:(i?e.full_name:e.username)??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??"",color:e?.avatar_color_index??void 0}))},[i,t,a]));if(!d)return null;let{collaborator_count:u=0}=d,g=n&&l&&l.isAuth?23:16,h=g/3*((_.length>2?3:_.length)*2+1),p=u>=_.length?u-_.length:0,m=[..._,...Array(p=p>99?100:p).fill({name:"",src:""})];return(0,I.jsxs)(o.az,{height:g,marginStart:2,minWidth:h,width:h,children:[(0,I.jsx)(f.A,{}),(0,I.jsx)(A.Z7,{collaborators:m})]})}var w=i(328),E=i(320201),T=i(727914),k=i(597762);let z=(void 0!==t||(t=i(562154)).hash&&"160b60f499ce33660e2c11915eed4d09"!==t.hash&&console.error("The definition of 'BoardCard_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),O=({children:e,isOwnProfile:a,lineClamp:i})=>(0,v.qJ)()?(0,I.jsx)(o._Y,{accessibilityLevel:2,lineClamp:a?1:i,size:a?"400":"300",children:e}):(0,I.jsx)(o.KJ,{lineClamp:a?1:i,size:a?void 0:"200",weight:"bold",children:e});function D({auxData:e,archivedDate:a,boardId:i,boardUrl:t,canEdit:A,numberOfCollaborators:P,containerBackgroundColor:D,coverPhoto:R,display:C,followButtonDisabled:L=!1,followedByMe:B,fullSizeDrawer:j,sensitivityScreen:N,handleInviteResponse:M,hideMeta:F,hideSecretBoardIcon:V=!1,id:U,invite:K,imagesLego:G=[],isActive:H,isAttributionHeightUnfixed:Y,isAuthenticated:J,isBoardInviteAccepted:q,isCollaborative:W,isCollaborator:$,isCollaboratorsAttributionVisible:X=!1,isFeaturedBoardsModule:Q=!1,isHomePageBoards:Z,isOwner:ee,isProtected:ea,isSecret:ei,lastModifiedDate:et,layout:er,lineClamp:es=2,locale:el,metaMarginTop:eo=0,metaMarginBottom:en=0,metaPaddingY:ed=2,name:ec,numCols:e_,onEditClick:eu,onFollow:eg,onUnfollow:eh,pinCount:ep=0,sectionCount:em,slotIndex:ey,showFollowButton:ef,showBoardCollaborators:eb=!0,showTitleOnly:ev,trackingParams:ex,boardKey:eA,viewObjectIdStr:eP,viewParameter:eI,viewType:eS}){(0,s.useEffect)(()=>{(0,r.A)("BoardCard","/app/www/board/BoardCard.tsx")},[]);let ew=(0,d.D2)(),eE=(0,u.A)(),eT=(0,g.A)(),ek=(0,h.A)(),ez=(0,n.A)(),eO=(0,v.qJ)(),{isRTL:eD}=(0,m._8)(),eR=(0,c.A)(),{username:eC}=(0,l.g)(),eL=(0,k.A)(),eB=eL[eC??""]?.is_gco_account,ej=(0,_.A)(z,eA),{featuredBoardMetadata:eN}=ej||{},{curator:eM,isSponsoredContent:eF}=eN||{},eV=Q&&eF,eU=eO&&J,eK="square"===er?236:320,eG="responsive"!==C&&(eU||Q)?eK:"100%",eH=eR.isAuth&&eR.username===eC,eY=e=>{J||(0,y.uq)("press_follow_board"),eg&&eg(e)},eJ=e=>{J||(0,y.uq)("press_unfollow_board"),eh&&eh(e)},eq=G.map(e=>({url:e.url,name:ec})),eW=!!ej?.owner&&!A&&ef,e$=ej?.owner?.isVerifiedMerchant,eX=ej?.owner?.verifiedIdentity?.verified,eQ=W&&!Q;eH||(eQ&&=!!eC&&!eB);let eZ=!ee&&!$&&!!N?.show_warning,e0={board_id:U,reason:N?.reason},e1=!eH&&!ev&&(!eC||X||eB),e2=eU?void 0:44+40*!!eW;eH||(e2=eO?void 0:(e1?69:49)+40*!!eW);let e4=eW&&"responsive"!==C?`max(calc(25vh + 10px), calc(210px + ${5*!eH}vh))`:"100%";return(0,s.useEffect)(()=>{eZ&&ez({event_type:13,component:13861,view_type:215,aux_data:e0})},[]),(0,I.jsx)(T.Wt,{auxData:{board_id:U,board_pin_count:ep??0,board_section_count:em??0,grid_index:ey||0,...e},impressionData:{imageURL:R?.url},loggingId:U,slotIndex:ey||0,trackingParams:ex,viewData:{view_object_id_str:eP},viewParameter:eI,viewType:eS,children:({impressionTrackerRef:e})=>(0,I.jsxs)(o.az,{ref:e,"data-test-id":`boardCard-${ec}`,height:a&&!eO?"100%":e4,position:"relative",width:eG,children:[(0,I.jsx)(o.n1,{rounding:400,children:(0,I.jsx)(w.A,{boardKey:ej,canEdit:A,containerBackgroundColor:D,coverPhoto:R,coverPinKey:ej?.coverPin??null,fullSize:j,hideSecretBoardIcon:V,images:eq,isActive:H,isHomePageBoards:Z,isProtected:ea,isSecret:ei,layout:er,onEditClick:eu,renderAsImage:!0,showSensitivityScreen:eZ})}),!F&&(0,I.jsx)(s.Fragment,{children:K?(0,I.jsxs)(s.Fragment,{children:[(0,I.jsxs)(o.az,{alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",padding:2,children:[(0,I.jsxs)(o.az,{width:"100%",children:[(0,I.jsx)(o.N_,{href:t??"",children:(0,I.jsx)(o.az,{marginBottom:1,marginTop:0,children:(0,I.jsx)(O,{isOwnProfile:eH,lineClamp:es,children:ec})})}),q?(0,I.jsx)(o.KJ,{lineClamp:1,size:"200",children:eE.bt("You’ve joined", "You’ve joined", "boardRep.invite.invitationAcceptedText", undefined, true)}):(0,I.jsx)(o.KJ,{size:"200",children:function(e,a){let{full_name:i,username:t}=e,r=(0,I.jsx)(o.N_,{display:"inlineBlock",href:`/${t}`,underline:"hover",children:i},"linkToUser");return(0,p.vQ)(a.bt("{{ linkToUser }} invited you to join this board", "{{ linkToUser }} invited you to join this board", "boardRep.invite.invitationText", undefined, true),{linkToUser:r})}(K.invited_by_user,eE)})]}),eb&&(0,I.jsx)(S,{boardId:i})]}),q?(0,I.jsx)(o.az,{direction:"row",display:"flex",paddingX:2,children:(0,I.jsx)(o.az,{flex:"grow",marginBottom:3,paddingX:1,children:(0,I.jsx)(o.vx,{fullWidth:!0,href:t??"",size:"lg",text:eE.bt("See board", "See board", "boardRep.invite.seeBoardButton", undefined, true)})})}):(0,I.jsxs)(o.so,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,I.jsx)(o.az,{flex:"grow",marginBottom:3,paddingX:1,children:(0,I.jsx)(o.$n,{fullWidth:!0,onClick:()=>{M?.(!1)},size:"lg",text:eE.bt("Decline", "Decline", "boardRep.invite.declineButton", undefined, true)})}),(0,I.jsx)(o.az,{flex:"grow",marginBottom:3,paddingX:1,children:(0,I.jsx)(o.$n,{color:"primary",fullWidth:!0,onClick:()=>{M?.(!0)},size:"lg",text:eE.bt("Accept", "Accept", "boardRep.invite.acceptButton", undefined, true)})})]})]}):(0,I.jsxs)(o.az,{height:Y?void 0:e2,marginBottom:en,marginTop:eo,paddingX:2,paddingY:ed,children:[(0,I.jsxs)(o.az,{alignItems:eH?"center":"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,I.jsx)(O,{isOwnProfile:eH,lineClamp:es,children:ec}),eQ&&eb&&(0,I.jsx)(S,{boardId:i})]}),e1&&(0,I.jsx)(o.az,{marginTop:1,children:eV?(0,I.jsx)(x.A,{numberOfCollaborators:0,ownerFullName:eM?.fullName??"",ownerIsVerifiedIdentity:!!eM?.verifiedIdentity?.verified,ownerIsVerifiedMerchant:!!eM?.isVerifiedMerchant,showBoardCollaborators:!1}):(0,I.jsx)(x.A,{numberOfCollaborators:P,ownerFullName:ej?.owner?.fullName??"",ownerIsVerifiedIdentity:!!eX,ownerIsVerifiedMerchant:!!e$,showBoardCollaborators:eb})}),!ev&&(0,I.jsxs)(o.az,{alignItems:eO?"center":"start",direction:"row",display:"flex",marginTop:1,children:[(0,I.jsxs)(o.KJ,{color:eH?void 0:"subtle",overflow:"normal",size:"100",children:[(0,I.jsx)(f.A,{}),(0,p.vQ)(eE.nbt(["{{ count }} Pin", "{{ count }} Pins"], ep, "profile.ProfilePage.board.BoardCard.pinsCount", true),{count:ek(el,ep,{shortform:!0,shortform_maximum_fraction_digits:1})})]}),!!em&&(0,I.jsxs)(o.KJ,{color:eH?void 0:"subtle",lineClamp:1,size:"100",children:[(0,I.jsx)(b.A,{ariaHidden:!0,size:"100"}),(0,I.jsx)(f.A,{}),(0,p.vQ)(eE.nbt(["{{ count }} section", "{{ count }} sections"], em, "profile.ProfilePage.board.BoardCard.sectionsCount", true),{count:em})]}),!eH&&(0,I.jsx)(o.KJ,{color:"subtle",size:"100",children:(0,I.jsx)(b.A,{ariaHidden:!0,size:"100"})}),(0,I.jsx)(o.so.Item,{flex:em?"none":"grow",children:(0,I.jsx)(o.az,{display:"flex",marginEnd:2*!!eD,marginStart:eH?2:void 0,children:(0,I.jsxs)(o.KJ,{color:"subtle",overflow:"normal",size:"100",children:[(0,I.jsx)(f.A,{}),eT(et,!0)]})})})]}),a&&!eO&&(0,I.jsxs)(o.KJ,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:[(0,I.jsx)(f.A,{}),eE.bt("Archived", "Archived", "profile.ProfilePage.BoardCard.ArchivedText", undefined, true)]}),eW&&(0,I.jsx)(o.az,{column:2===e_?12:void 0,flex:"none",marginTop:2===e_?3:void 0,children:(0,I.jsx)(E.A,{disabled:!!ej?.owner?.blockedByMe||L,followEventType:26,id:U,isFollowed:B,onFollow:eY,onUnfollow:eJ,pinKey:null,shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:eI,viewType:eS})})]})}),eF&&(0,I.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:ew?"rgba(51,51,46,0.8)":"rgba(229,229,224,0.8)",pointerEvents:"none"}},left:!0,margin:2,paddingX:1.5,paddingY:1,position:"absolute",rounding:200,top:!0,children:(0,I.jsx)(o.KJ,{size:"100",children:eE.bt("Sponsored", "Sponsored", "board.Headers.BoardHeader.BoardHeaderDetails.sponsored", undefined, true)})})]})})}},866645(e,a,i){i.d(a,{A:()=>u});var t=i(97407),r=i(296540),s=i(236507),l=i(474848);let o=({text:e})=>((0,r.useEffect)(()=>{(0,t.A)("LineClampWrapper","/app/analytics/react/components/DataTable/LineClampWrapper.tsx")},[]),(0,l.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},"data-test-id":"line-clamp-wrapper",fit:!0,overflow:"hidden",children:e}));var n=i(643357),d=i(157432),c=i(534955);let _={xs:{icon:12,text:"100",height:15},sm:{icon:16,text:"200",height:17},md:{icon:20,text:"300",height:18},lg:{icon:24,text:"400",height:23}};function u({ownerFullName:e,ownerIsVerifiedMerchant:a,ownerIsVerifiedIdentity:i,numberOfCollaborators:u,size:g="xs",showBoardCollaborators:h=!0}){(0,r.useEffect)(()=>{(0,t.A)("CollaboratorsAttribution","/app/www/board/CollaboratorsAttribution.tsx")},[]);let p=(0,n.A)(),{locale:m}=(0,c._8)(),y=(0,d.A)();return(0,l.jsxs)(s.so,{alignItems:"center",justifyContent:"start",maxHeight:_[g].height,children:[(0,l.jsx)(s.KJ,{lineClamp:1,size:_[g].text,children:(0,l.jsx)(o,{text:e})}),(a||i)&&(0,l.jsx)(s.az,{flex:"none",marginStart:1,children:a?(0,l.jsx)(s.In,{accessibilityLabel:p.bt("Merchant verification badge icon", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true),color:"info",icon:"compact-circle-check",size:_[g].icon}):(0,l.jsx)(s.In,{accessibilityLabel:p.bt("Identity verification badge icon", "Identity verification badge icon", "identityVerification.badge.icon", undefined, true),color:"error",icon:"compact-circle-check",size:_[g].icon})}),h&&u>0&&(0,l.jsx)(s.az,{flex:"none",marginStart:1,marginTop:.25,children:(0,l.jsx)(s.KJ,{size:_[g].text,children:"+ "+y(m,u,{shortform:!0,shortform_maximum_fraction_digits:0})})})]})}},566467(e,a,i){i.d(a,{A:()=>o}),i(234784);var t,r=i(698781),s=i(796903);let l=(void 0!==t||(t=i(29578)).hash&&"756d8d8edca35eac0a0500359bf60618"!==t.hash&&console.error("The definition of 'useGetCoverPhoto_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),o=e=>{let a=(0,r.A)(l,e),i=(0,s.oW)(),t=a?.entityId?i(a.entityId):null,o=a?.imageCoverUrl??t?.image_cover_url,n=a?.coverImageSpec_216x146??t?.cover_images?.spec_216x146,d=a?.coverImageSpec_222x??t?.cover_images?.spec_222x,c=a?.coverImageSpec_400x300??t?.cover_images?.spec_400x300;return e=>{let i=a?.imageCoverHdUrl||a?.imageCoverUrl;if(i)return i;let t=c?.url??d?.url??n?.url??"";return e&&e>2&&t?t:o||""}}},738610(e,a,i){i.d(a,{$R:()=>l,tK:()=>o,xc:()=>t});let t=(e="")=>(e??"").substring((e??"").lastIndexOf("/")+1),r=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),s=e=>{if(!e)return()=>!0;let a=t(e);return e=>"string"==typeof e?t(e)!==a:t(e.url??"")!==a},l=(e,a,i)=>e?e.filter(s(i)):a?a.filter(s(i)).map(r):[],o=e=>(e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})??{x:0,y:0,width:0,height:0}},333384(e,a,i){i.d(a,{A:()=>g});var t=i(97407),r=i(296540),s=i(236507),l=i(875899),o=i(632321),n=i(534955),d=i(568677),c=i(871211),_=i(243042),u=i(474848);function g({actionButton:e,auxData:a,children:i,collapseButtonElementType:g,collapseByDefault:h=!0,componentType:p,disabled:m,displayViewState:y,expandButtonElementType:f,forceTappableHeader:b,headerHeight:v,headerPaddingX:x,headerPreview:A,heading:P,icon:I,surface:S,viewParameter:w,viewType:E}){(0,r.useEffect)(()=>{(0,t.A)("CollapsibleLayout","/app/www/closeup/CollapsibleLayout.tsx")},[]);let T=(0,d.qJ)(),{isBot:k}=(0,n._8)(),{logContextEvent:z}=(0,o.o)(),{setIsShoppingModuleExpanded:O}=(0,_._G)(),D=(0,r.useRef)(null),[R,C]=(0,r.useState)(void 0),[L,B]=(0,r.useState)(m||!k&&h||null!=y&&[1,2].includes(y));return(0,c.A)(()=>{let e=D.current,a=null;if(e){let i=()=>{let a=e.scrollHeight,i=e.firstElementChild;C(a+(i?parseInt(window.getComputedStyle(i).marginTop,10):0))};i(),(a=new ResizeObserver(i)).observe(e)}return()=>{a?.disconnect()}}),(0,r.useEffect)(()=>{O&&O(!L)},[]),(0,u.jsxs)(s.so,{dataTestId:"collapsible-layout",direction:"column",gap:4*!T,children:[(0,u.jsx)(l.A,{actionButton:e,collapsed:L,disabled:m,displayViewState:y,forceTappableHeader:b,headerHeight:v,headerPaddingX:x,headerPreview:A,heading:P,icon:I,onClick:()=>{B(!L),O&&O(L),z({aux_data:a,component:p,element:L?f:g,event_type:T?101:102,view_parameter:w,view_type:E})},showArrow:!0,surface:S}),T?(0,u.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{transition:"height 600ms cubic-bezier(.25,1,.5,1)"}},"data-test-id":`collapsible-layout-content-${L?"collapsed":"expanded"}`,height:L?"0px":`${R}px`,marginBottom:L?void 0:1,overflow:"hidden",children:(0,u.jsx)(s.az,{ref:D,children:i})}):!L&&(0,u.jsx)(s.az,{children:i})]})}},725719(e,a,i){i.d(a,{$6:()=>d,$e:()=>l,BS:()=>r,CT:()=>c,RG:()=>s,d8:()=>o,k4:()=>n});var t=i(236507);let r=new t.rk(1),s=new t.rk(3),l=2,o=new t.rk(l),n=3,d=new t.rk(100),c=new t.K5([d])},596026(e,a,i){i.d(a,{A:()=>p});var t,r=i(97407),s=i(296540),l=i(671468);i(234784);var o=i(236507),n=i(228159),d=i(698781),c=i(243042),_=i(37572),u=i(584733),g=i(474848);let h=(void 0!==t||(t=i(276380)).hash&&"d9fe632f7481dc91f9007bbd592d44c2"!==t.hash&&console.error("The definition of 'CarouselEllipsis_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function p({carouselData:e,carouselIndex:a,componentType:i,contextLogData:t,enablePagination:p=!1,handleCarouselSwipe:m,isCloseup:y,isEditMode:f,itemsPerPage:b,pinKey:v,viewParameter:x,viewType:A,variant:P}){(0,s.useEffect)(()=>{(0,r.A)("CarouselEllipsis","/app/www/common/Carousel/CarouselEllipsis.tsx")},[]);let I=(0,d.A)(h,v),S=(0,_.A)(I),w=(0,n.A)(I),E=e||w&&{carouselSlots:w.carouselSlots.map(({slotId:e,title:a})=>({id:e,title:a})),entityId:w.carouselId??"",index:w.index},T=(0,l.wA)(),{closeupWithinMasonryEnabled:k,viewportSize:z}=(0,c._G)();if(!E)return null;let{carouselSlots:O,index:D}=E,R="number"==typeof a?a:D,C=O?.length&&b?Math.ceil(O?.length/b):void 0,L="default"===P,B=L?"white":"#555",j=L?"rgba(255, 255, 255, 0.5)":"lightGray",N=(e,a)=>(0,g.jsx)(o.az,{paddingX:1,children:(0,g.jsx)(o.Rp,{accessibilityLabel:(e||{}).title??"",fullWidth:!1,onTap:({event:e})=>{f||void 0===u.p8||(e.preventDefault(),e.stopPropagation(),T((0,u.p8)(I?.entityId??"",a))),void 0!==m&&m(a),S({pinId:I?.entityId??"",currentIndex:R??0,nextIndex:a,carouselData:{carouselSlots:E.carouselSlots?.map(e=>({id:e.id})),entityId:E.entityId},viewParameter:x,viewType:A,componentType:i,contextLogData:t,isEditMode:f})},rounding:"circle",children:(0,g.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:a===R?B:j}},"data-test-id":"ellipsis-size",height:8,rounding:"circle",width:8})})},`${e?.id}-${a}`);return"sm"===z&&(k&&14339!==i&&14394!==i||!k)?null:O&&(0,g.jsx)(o.az,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:y?"end":"center",paddingY:+!!f,children:p?b&&[...Array(C).keys()].map(e=>N(O[e*b],e*b)):[...Array(O.length).keys()].map(e=>N(O[e],e))})}},606261(e,a,i){i.d(a,{A:()=>y});var t,r=i(97407),s=i(296540),l=i(671468);i(234784);var o=i(236507),n=i(228159),d=i(698781),c=i(643357),_=i(596026),u=i(37572),g=i(584733),h=i(474848);let p={cursor:"pointer",padding:"30px 16px",position:"relative",zIndex:1},m=(void 0!==t||(t=i(139763)).hash&&"4b0c4a7a095db0d3cc7f22f3f6c85086"!==t.hash&&console.error("The definition of 'CarouselSliders_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function y({addEllipsis:e,alwaysShowNavigationArrows:a,carouselIndex:i,carouselData:t,ellipsisVariant:y,handleCarouselSwipe:f,height:b,isShowingLastSlide:v,pinKey:x,contextLogData:A,viewParameter:P,viewType:I,componentType:S,isEditMode:w,storyType:E,itemsPerPage:T,forwardNode:k,backNode:z,sliderStyleOverride:O,hideNavigationArrows:D}){(0,s.useEffect)(()=>{(0,r.A)("CarouselSliders","/app/www/common/Carousel/CarouselSliders.tsx")},[]);let R=(0,c.A)(),C=(0,l.wA)(),L=(0,d.A)(m,x),B=(0,u.A)(L),j=(0,n.A)(L),N=t||j&&{carouselSlots:j.carouselSlots.map(({slotId:e,title:a})=>({id:e,title:a})),entityId:j.carouselId??"",index:j.index};if(!N)return null;let M=(e,a)=>C((0,g.p8)(e,a)),{carouselSlots:F,index:V}=N,U=void 0!==i?i:V??0,K=Math.max(0,U-(T??1)),G=Math.min((F??[]).length-1,U+(T??1)),H=0===U,Y=v||U===(F??[]).length-1,J=(e,a)=>{var i;let t=a<U?9315:9316,r="search_3p_ad_only_module"===E;i=L?.entityId??"",w||void 0===M||(e.preventDefault(),e.stopPropagation(),M(i,a)),void 0!==f&&f(a),B({pinId:L?.entityId??"",currentIndex:U,nextIndex:a,carouselData:{carouselSlots:F?.map(({id:e})=>({id:e})),entityId:N.entityId},viewParameter:P,viewType:I,storyType:E,componentType:S,contextLogData:A,isEditMode:w,isEligibleForPdp:L?.isEligibleForPdp??!1,swipeEvent:r?t:108})},q=z||(0,h.jsx)(o.In,{accessibilityLabel:R.bt("View previous", "View Previous", "Button to advance carousel to the previous image", undefined, true),color:"inverse",icon:"chevron-left"}),W=D?null:k||(0,h.jsx)(o.In,{accessibilityLabel:R.bt("View next", "View Next", "Button to advance carousel to the next image", undefined, true),color:"inverse",icon:"chevron-right"});return(0,h.jsxs)(o.az,{alignItems:"center",bottom:!b,"data-test-id":"carousel-sliders",display:"flex",height:b,justifyContent:D?"center":"between",left:!0,position:"absolute",right:!0,top:!0,children:[!D&&(0,h.jsx)("div",{"data-test-id":"carousel-slider-left",onClick:e=>J(e,K),role:"presentation",style:{...p,...O,pointerEvents:H?"none":"auto"},children:(0,h.jsx)(o.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:H&&!a?"hidden":"visible",opacity:H&&a?"50%":"100%"}},"data-test-id":"carousel-slider-left-box",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:q})}),e&&(0,h.jsx)(_.A,{carouselData:{carouselSlots:N.carouselSlots?.map(({id:e,title:a})=>({id:e,title:a})),entityId:N.entityId,index:N.index},carouselIndex:i,componentType:S,handleCarouselSwipe:f,itemsPerPage:T,pinKey:L,variant:y||"default",viewParameter:P,viewType:I}),!D&&(0,h.jsx)("div",{"data-test-id":"carousel-slider-right",onClick:e=>J(e,G),role:"presentation",style:{...p,...O,pointerEvents:Y?"none":"auto"},children:(0,h.jsx)(o.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:Y&&!a?"hidden":"visible",opacity:Y&&a?"50%":"100%"}},"data-test-id":"carousel-slider-right-box",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:W})})]})}},37572(e,a,i){i.d(a,{A:()=>n}),i(234784);var t,r=i(632321),s=i(698781),l=i(84220);let o=(void 0!==t||(t=i(206296)).hash&&"dbfca9820e0aa1302554a0137a270b16"!==t.hash&&console.error("The definition of 'useLogSwipe_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function n(e){let{logContextEvent:a}=(0,r.o)(),i=(0,s.A)(o,e),t=(0,l.A)(i);return function({pinId:e,currentIndex:i,nextIndex:r,carouselData:s,viewParameter:l,viewType:o,storyType:n,componentType:d,contextLogData:c,isEditMode:_,swipeEvent:u}){if(!_){let{carouselSlots:_,entityId:g}=s,{objectIdStr:h,...p}=c??{};a({event_type:u??108,object_id_str:e??h,component:d,view_type:o,view_parameter:l,event_data:{pinCarouselSlotEventData:{carouselSlotId:_?.[i]&&Number(_[i].id),carouselDataId:Number(g),carouselSlotIndex:i,toCarouselSlotIndex:r}},aux_data:{story_type:n,...p,...t()}})}}}},305167(e,a,i){i.d(a,{Ah:()=>H,Pc:()=>$,FE:()=>W,K$:()=>Q,cC:()=>X});var t=i(97407),r=i(296540),s=i(671468),l=i(418562),o=i(236507),n=i(632321),d=i(901856),c=i(449798),_=i(643357),u=i(542098),g=i(327467),h=i(622165),p=i(534955),m=i(972756),y=i(468133),f=i(553041),b=i(998753),v=i(755701),x=i(601051),A=i(725719),P=i(871211),I=i(474848);function S({children:e,headingLevel:a,textWeight:i="normal",size:s}){(0,r.useEffect)(()=>{(0,t.A)("BoardHeader","/app/www/common/PinBetterSave/BoardHeader.tsx")},[]);let l="100"===s?"200":s,n="500"===s||"600"===s?"400":s;return(0,I.jsx)(o._Y,{accessibilityLevel:a,size:l,children:(0,I.jsx)(o.KJ,{inline:!0,size:n,weight:i,children:e})})}function w({boardPickerSuggestedBoards:e,clientTrackingParams:a,headingLevel:i=3,imageSignature:s,index:l,item:d,pinId:c,saveSessionId:_,surfaceOriginViewParameter:u,useLegoLayout:g}){(0,r.useEffect)(()=>{(0,t.A)("BoardHeader","/app/www/common/PinBetterSave/BoardHeader.tsx")},[]);let{logContextEvent:h}=(0,n.o)();return(0,P.A)(()=>{"shortlist"===d.category&&h({aux_data:{board_picker_surface_origin:u,board_picker_suggested_boards:e,image_signature:s,pin_id:c,save_session_id:_},event_type:13,clientTrackingParams:a,view_type:21,view_parameter:3988})}),(0,I.jsx)(o.az,{marginTop:l>0?2:1,paddingX:g?4:3,paddingY:1,children:(0,I.jsx)(S,{headingLevel:i,size:g?"100":"200",children:d.title})})}var E=i(645519),T=i(608368);function k({accessibilityLabelText:e,board:a,boardPickerSuggestedBoards:i,buttonText:s,clientTrackingParams:l,displayAlreadySavedMsg:d,imageSignature:c,isSectionOpen:u,onButtonClick:g,onClick:h,pinId:p,saveSessionId:m,shouldOpenSections:y=!0,showSaveToProfile:f,showFlyoutSaveButton:b=!0,surfaceOriginViewParameter:v,useLegoLayout:x}){(0,r.useEffect)(()=>{(0,t.A)("BoardRow","/app/www/common/PinBetterSave/BoardRow.tsx")},[]);let{logContextEvent:A}=(0,n.o)(),P=(0,_.A)(),[S,w]=(0,r.useState)(!1),k=(0,r.useRef)(null),z=!!a.section_count&&a.section_count>0,O=z?"boardWithSection":"boardWithoutSection",{images:D,image_cover_url:R}=a||{},C=!R?.includes("custom")&&D&&D["75x75"]&&D["75x75"][D["75x75"].length-1].url||R;(0,r.useEffect)(()=>{"boardless"===a.type&&A({aux_data:{board_picker_surface_origin:v,board_picker_suggested_boards:i,image_signature:c,pin_id:p,save_session_id:m},clientTrackingParams:l,event_type:13,view_parameter:3990,view_type:21})},[]),(0,r.useEffect)(()=>{k.current&&u&&z&&k.current.focus()},[k,u,z]);let L=()=>{h(a)};return(0,I.jsx)(o.az,{"data-test-id":O,role:"listitem",children:(0,I.jsx)(o.Rp,{ref:k,dataTestId:u&&z?"board-row-input":void 0,onBlur:()=>{w(!1)},onFocus:()=>{w(!0)},onMouseEnter:()=>{w(!0)},onMouseLeave:()=>{w(!1)},onTap:L,children:(0,I.jsxs)(o.az,{alignItems:"center",color:S?"secondary":"default","data-test-id":`board-row-${a.name||""}`,display:"flex",height:x?64:52,marginBottom:+!x,marginEnd:x?2:3,marginStart:x?2:3,marginTop:+!x,padding:2*!!x,rounding:300,children:[(0,I.jsxs)(o.az,{"aria-hidden":"true",flex:"none",height:x?48:36,marginBottom:+!x,marginEnd:x?2:3,marginStart:2*!x,marginTop:+!x,overflow:"hidden",width:x?48:36,children:[f&&"boardless"===a.type&&(0,I.jsx)(o.n1,{height:"100%",rounding:200,width:"100%",children:(0,I.jsx)(o.az,{alignItems:"center",color:S?"default":"secondary",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:(0,I.jsx)(o.az,{children:(0,I.jsx)(o.In,{accessibilityLabel:"",color:"default",icon:"clock-history",size:24})})})}),C&&!y&&(0,I.jsx)(o.n1,{height:x?48:36,rounding:200,wash:!0,width:x?48:36,children:(0,I.jsx)(o._V,{alt:"",fit:"cover",naturalHeight:x?48:36,naturalWidth:x?48:36,src:C})}),C&&y?(0,I.jsx)(o.n1,{height:x?48:36,rounding:200,wash:!0,width:x?48:36,children:(0,I.jsx)(o._V,{alt:"",fit:"cover",naturalHeight:x?48:36,naturalWidth:x?48:36,src:C})}):(0,I.jsx)(o.n1,{height:x?48:36,rounding:200,width:x?48:36,children:(0,I.jsx)(o.az,{color:y?"secondary":"transparent",height:"100%",width:"100%"})})]}),(0,I.jsxs)(o.az,{flex:"grow",marginStart:+!x,overflow:"hidden",paddingY:1,children:[(0,I.jsx)(o.KJ,{lineClamp:1,overflow:"breakAll",weight:y||!y?"bold":"normal",children:a.name}),d&&(0,I.jsx)(o.az,{marginTop:1,children:(0,I.jsx)(o.KJ,{align:"start",color:"default",size:"100",children:P.bt("Saved here already", "Saved here already", "BoardFlyout.AlreadySaved.Message", undefined, true)})})]}),(0,I.jsxs)(o.so,{alignItems:"center",gap:2,children:[(0===a.section_count||!y)&&b&&(0,I.jsx)(o.az,{"data-test-id":"board-row-save-button-container",flex:"none",opacity:100*!!S,children:(0,I.jsx)(o.$n,{accessibilityLabel:e||P.bt("save", "save", "boardRow.saveButton", undefined, true),color:"primary","data-test-id":"board-row-save-button",onClick:({event:e})=>{L(),g&&g(),e.stopPropagation()},tabIndex:-1,text:s||P.bt("Save", "Save", "save button", undefined, true)})}),a&&!u?(0,I.jsx)(o.az,{marginEnd:2*!x,children:(0,I.jsx)(T.A,{board:a,showCollaborativeIcon:!!a.is_collaborative,showPrivateIcon:a.privacy===E.A.BoardPrivacy.SECRET,showProtectedIcon:a.privacy===E.A.BoardPrivacy.PROTECTED,showSectionsIcon:z&&y,useLegoLayout:x})}):null]})]})})})}var z=i(398304),O=i(990493);function D(e,a,i){var t;return(a="symbol"==typeof(t=function(e,a){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var t=i.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?t:t+"")in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}class R extends r.Component{constructor(...e){super(...e),D(this,"state",{hovered:!1}),D(this,"handleMouseEnter",()=>{this.setState({hovered:!0})}),D(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),D(this,"handleTouch",()=>{let{board:e,onClick:a,section:i}=this.props;a(i,e)}),D(this,"handleButtonClick",({event:e})=>{let{onButtonClick:a}=this.props;this.handleTouch(),a&&a(),e.stopPropagation()}),D(this,"tapAreaRef",(0,r.createRef)())}focus(){let e=this.tapAreaRef.current;e&&e.focus()}render(){let{hovered:e}=this.state,{buttonText:a,section:i,showSectionSaveButton:t,useLegoLayout:r}=this.props;return(0,I.jsx)(o.Rp,{ref:this.tapAreaRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,children:(0,I.jsxs)(o.az,{alignItems:"center",color:e?"secondary":"default",dangerouslySetInlineStyle:{__style:r?{}:{marginLeft:53,marginRight:11}},"data-test-id":`section-row-${i.title||""}`,display:"flex",height:r?64:52,marginEnd:2*!!r,marginStart:2*!!r,marginTop:+!r,padding:2*!!r,role:"listitem",rounding:300,children:[r&&!!i.preview_pins?.length&&(0,I.jsx)(O.A,{image_url:i.preview_pins[0].image_square_url??"",naturalHeight:i.preview_pins[0].image_square_size_pixels?.height??1,naturalWidth:i.preview_pins[0].image_square_size_pixels?.width??1}),(0,I.jsx)(o.az,{flex:"grow",marginStart:4*!r,paddingY:1,children:(0,I.jsx)(o.KJ,{lineClamp:1,weight:r?"bold":"normal",children:i.title})}),e&&t&&(0,I.jsx)(o.az,{flex:"none",marginEnd:2*!r,children:(0,I.jsx)(o.$n,{accessibilityLabel:"save button",color:"primary",onClick:this.handleButtonClick,text:a||this.props.i18n.bt("Save", "Save", "save button", undefined, true)})})]})})}componentDidMount(){(0,t.A)("SectionRow","/app/www/common/PinBetterSave/SectionRow.tsx")}}function C(e){(0,r.useEffect)(()=>{(0,t.A)("SectionRow","/app/www/common/PinBetterSave/SectionRow.tsx")},[]);let a=(0,_.A)();return(0,I.jsx)(R,{...e,i18n:a})}function L(e){(0,r.useEffect)(()=>{(0,t.A)("BoardSections","/app/www/common/PinBetterSave/BoardSections.tsx")},[]);let a=(0,_.A)(),{board:i,buttonText:s,onClick:l,onButtonClick:n,showSectionSaveButton:d,useLegoLayout:u}=e,g=(0,z.A)(),h=(0,c.A)(),p=(0,v.H7)(h,g),m=(0,y.A)({name:"BoardSectionsRepinResource",options:{board_id:i.id,orbac_subject_id:p},noCache:!0}),f=m&&m.data||[];return(0,I.jsxs)(o.az,{children:[!m.isLoaded&&(0,I.jsx)(o.so,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,I.jsx)(o.y$,{accessibilityLabel:a.bt("loading board picker", "loading board picker", "accessibility text for loading spinner", undefined, true),show:!0})}),m.isLoaded&&(0,I.jsxs)(o.az,{children:[u&&(0,I.jsx)(o.az,{marginStart:4,marginTop:2,paddingY:1,children:(0,I.jsx)(S,{headingLevel:3,size:"200",children:a.bt("Section", "Section", "PinBetterSave.BoardFlyout.SectionPlaceholderText", undefined, true)})}),f.map(e=>(0,I.jsx)(C,{board:i,buttonText:s,onButtonClick:n,onClick:l,section:e,showSectionSaveButton:d,useLegoLayout:u},e.id))]})]})}function B({onClick:e,title:a,showIcon:i}){(0,r.useEffect)(()=>{(0,t.A)("BoardSuggestionRow","/app/www/common/PinBetterSave/BoardSuggestionRow.tsx")},[]);let s=(0,_.A)(),[l,n]=(0,r.useState)(!1);return(0,I.jsx)(o.Rp,{dataTestId:"board-suggestion-row-button",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onTap:()=>{e({title:a})},children:(0,I.jsxs)(o.az,{alignItems:"center",color:l?"secondary":"default",display:"flex",height:i?64:52,marginBottom:1,marginEnd:3,marginStart:3,role:"listitem",rounding:300,children:[(0,I.jsx)(o.az,{flex:"none",height:i?48:36,marginBottom:1,marginEnd:3,marginStart:i?1:2,marginTop:1,overflow:"hidden",rounding:i?200:100,width:i?48:36,children:(0,I.jsx)(o.az,{alignItems:i?"center":void 0,color:"secondary",display:i?"flex":void 0,height:"100%",justifyContent:i?"center":void 0,width:"100%",children:i&&(0,I.jsx)(o.In,{accessibilityLabel:"",color:"default",icon:"plus",size:20})})}),(0,I.jsx)(o.az,{flex:"grow",paddingY:1,children:(0,I.jsx)(o.KJ,{lineClamp:1,weight:"bold",children:a})}),l&&(0,I.jsx)(o.az,{marginEnd:2,children:(0,I.jsx)(o.$n,{accessibilityLabel:"create button",color:"primary",text:s.bt("Create", "Create", "create button to create a new board", undefined, true)})})]})})}function j(e){(0,r.useEffect)(()=>{(0,t.A)("BoardSuggestions","/app/www/common/PinBetterSave/BoardSuggestions.tsx")},[]);let a=(0,_.A)(),{suggestionsResource:i,onClick:s,pinBuilderSuggestions:l,inWebRepinFlowExp:n}=e,d=l||i&&i.data||[],c=(0,I.jsxs)(r.Fragment,{children:[n&&(0,I.jsx)(o.az,{marginStart:4,marginTop:2,paddingY:1,children:(0,I.jsx)(S,{headingLevel:3,size:"100",children:a.bt("Suggestions", "Suggestions", "PinBetterSave.BoardFlyout.SectionPlaceholderText", undefined, true)})}),d.map((e,a)=>(0,I.jsx)(B,{onClick:s,showIcon:n,title:e.title},a))]});return(0,I.jsx)(r.Fragment,{children:d?c:(0,I.jsx)(o.so,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,I.jsx)(o.y$,{accessibilityLabel:a.bt("loading board suggestions", "loading board suggestions", "accessibility text for loading spinner", undefined, true),show:!0})})})}function N({isBoardCreate:e,onCreateBoardClick:a,useLegoLayout:i}){(0,r.useEffect)(()=>{(0,t.A)("CreateBoardButton","/app/www/common/PinBetterSave/CreateBoardButton.tsx")},[]);let s=(0,_.A)(),[l,n]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1);return(0,I.jsx)(o.az,{"data-test-id":"create-board",display:"flex",height:"100%",rounding:200,children:(0,I.jsx)(o.Rp,{dataTestId:e?"create-board-button":"create-section-button",onBlur:()=>c(!1),onFocus:()=>c(!0),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onTap:a,rounding:200,children:(0,I.jsxs)(o.az,{alignItems:"center",color:l?"secondary":"default",dangerouslySetInlineStyle:{__style:{...d?{border:"2px solid var(--sema-color-border-focus-outer-default)"}:{}}},display:"flex",height:"100%",padding:i?4:2,width:"100%",children:[(0,I.jsx)(o.az,{color:i?"secondary":"transparent",dangerouslySetInlineStyle:{__style:i?{padding:"14px"}:{}},marginEnd:i?2:5,marginStart:4*!i,rounding:200*!!i,children:(0,I.jsx)(o.In,{accessibilityLabel:"",color:i?"default":"error",icon:i?"plus":"circle-plus",size:i?20:28})}),e?(0,I.jsx)(o.KJ,{align:"center",lineClamp:1,weight:"bold",children:s.bt("Create board", "Create board", " - ", undefined, true)}):(0,I.jsx)(o.KJ,{align:"center",lineClamp:1,weight:"bold",children:s.bt("Create section", "Create section", " - ", undefined, true)})]})})})}D(R,"defaultProps",{showSectionSaveButton:!0});var M=i(227651);function F(e){(0,r.useEffect)(()=>{(0,t.A)("FocusableSearchField","/app/www/save/board/FocusableSearchField.tsx")},[]);let{accessibilityClearButtonLabel:a,accessibilityLabel:i,focused:s,id:l,onBlur:n,onChange:d,onFocus:c,placeholder:_,value:u,size:g="lg"}=e,h=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(s){let e=h.current;window.requestAnimationFrame(()=>{let a=e&&e.querySelector("input");a instanceof HTMLInputElement&&a.focus()})}},[s]),(0,I.jsx)(o.az,{ref:h,children:(0,I.jsx)(o.Lw,{accessibilityClearButtonLabel:a,accessibilityLabel:i,id:l,onBlur:n,onChange:d,onFocus:c,placeholder:_,size:g,value:u})})}function V(e,a,i){var t;return(a="symbol"==typeof(t=function(e,a){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var t=i.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?t:t+"")in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}let U="allBoards",K="shortlist",G=`
.BoardsSlideLeft {
  animation: boardFlyoutSlideLeft 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

.BoardsSlideRight {
  animation: boardFlyoutSlideRight 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

.BoardsSlideLeftRTL {
  animation: boardFlyoutSlideLeftRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

.BoardsSlideRightRTL {
  animation: boardFlyoutSlideRightRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

@keyframes boardFlyoutSlideLeft {
  from {
    margin-left: 0%;
  }

  to {
    margin-left: -100%;
  }
}

@keyframes boardFlyoutSlideRight {
  from {
    margin-left: -100%;
  }

  to {
    margin-left: 0%;
  }
}

@keyframes boardFlyoutSlideLeftRTL {
  from {
    margin-right: -100%;
  }

  to {
    margin-right: 0%;
  }
}

@keyframes boardFlyoutSlideRightRTL {
  from {
    margin-right: 0%;
  }

  to {
    margin-right: -100%;
  }
}
`;class H extends r.PureComponent{constructor(...e){super(...e),V(this,"state",{boardSuggestions:[],isSectionOpen:null,selectedBoardId:"",selectedBoardCategory:"",searchQuery:"",searchBoxFocused:!0,saveSessionId:(0,l.A)()}),V(this,"handleScroll",()=>{let{_container:e}=this,{logContextEvent:a}=this.props;a({event_type:110,component:13282,view_type:21})}),V(this,"refHandler",e=>{this.removeEventListeners(),e&&e.addEventListener("scroll",this.handleScroll,{once:!0}),this._container=e}),V(this,"getItems",e=>{let{boardResource:a,showSaveToProfile:i,checkExperiment:t}=this.props;if(!a?.data)return[];let{all_boards:r}=a.data,s=r.length>=3,l=i&&r.length&&t("web_curation_board_picker_reorder_profile_option").anyEnabled,o=[{boardId:"",image_cover_url:"",is_collaborative:!1,isOpen:!1,name:this.props.i18n.bt("Profile", "Profile", "pinBetterSave.initialSelection.boardlessPinsOption", undefined, true),privacy:"public",section_count:0,type:"boardless",url:"/me/"}],n=this.getAllBoards().map((e,a)=>this.mapBoards(e,U,a)),d=this.getShortlist().map((e,a)=>this.mapBoards(e,K,a)),{searchQuery:c}=this.state;return c.length>=f.A?[...(0,M._)(n,c)]:[...s||!i||l?[]:[{type:"header",title:this.props.i18n.bt("Quick save and organise later", "Quick save and organize later", "BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.boardlessPinsTitle", undefined, true)},...o],...s&&s&&i&&!l?o:[],...s&&d?.length?[{category:K,type:"header",title:e?this.props.i18n.bt("Top choices", "Top choices", "PinBetterSave.BoardFlyout.TopChoicesSectionTitle", undefined, true):this.props.i18n.bt("Top board suggestions", "Top board suggestions", "Header for top suggesions in board picker", undefined, true)},...d]:[],...r.length>0?[{type:"header",title:!s&&i?this.props.i18n.bt("Save to board", "Save to board", "BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.saveToBoardTitle", undefined, true):this.props.i18n.bt("All boards", "All boards", "Header for all boards in board picker", undefined, true)},...n,...l?o:[]]:[]]}),V(this,"mapBoards",(e,a,i)=>{let{selectedBoardId:t,selectedBoardCategory:r}=this.state,s=e.id===t&&a===r;return{...e,category:a,isOpen:s,gridIndex:i}}),V(this,"handleBack",()=>{let{setBoardWithSection:e}=this.props;this.setState({isSectionOpen:!1,selectedBoardId:"",selectedBoardCategory:""}),e&&e(null)}),V(this,"handleSectionClick",(e,a)=>{let{clientTrackingParams:i,imageSignature:t,logContextEvent:r,onItemChosen:s,pinId:l,surfaceOriginViewParameter:o,surface:n}=this.props,{saveSessionId:d,searchQuery:c}=this.state;r({event_type:101,clientTrackingParams:i,component:13282,element:36,object_id_str:a.id,view_type:91,view_parameter:3133,aux_data:{board_id:a.id,board_picker_surface_origin:o,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:a.gridIndex,image_signature:t,is_profile_save:!1,pin_id:l,save_session_id:d,search_query:c,section_id:e.id,source:n}}),s({boardId:a.id,url:e.slug?`${a.url}${e.slug}/`:a.url,sectionId:e.id,title:e.title||"",type:e.type,imageCoverUrl:a.image_cover_url,ownerUsername:a.owner&&a.owner.username||"",boardPickerSuggestedBoards:JSON.stringify(this.getTopChoiceBoardsAuxData())})}),V(this,"getPinBuilderSuggestions",async()=>{let{clientTrackingParams:e,imageSignature:a,logContextEvent:i,pinId:t,surfaceOriginViewParameter:r}=this.props,{saveSessionId:s}=this.state;if(t){let l=await (0,d.A)({url:"/v3/pins/{pin}/board_title_suggestions/",urlParams:{pin:t}});if(l.resource_response.data){let o=l.resource_response.data.map(e=>({title:e.title??"",metadata:JSON.parse(e?.metadata??"{}")}))||[];this.setState({boardSuggestions:o}),i({aux_data:{board_picker_surface_origin:r,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),image_signature:a,pin_id:t,save_session_id:s},component:13282,clientTrackingParams:e,event_type:13,view_parameter:3992,view_type:21})}}}),V(this,"getAllBoards",()=>{let{boardResource:e,advertiser_id:a}=this.props;return(e?.data?.all_boards||[]).filter(e=>!a||"secret"!==e.privacy)}),V(this,"getShortlist",()=>{let{suggestedBoardsShortListResource:e,displayShortlistMostRecentBoard:a,boardResource:i}=this.props,t=i?.data?.boards_shortlist||[];return a?t:e?.data||[]}),V(this,"getBoards",e=>e===U?this.getAllBoards():e===K?this.getShortlist():[]),V(this,"getSuggestedBoardsIds",()=>{let{showSaveToProfile:e}=this.props,a=(e?this.getShortlist().slice(0,2):this.getShortlist()).map(e=>e.id);return e&&a.unshift("PROFILE_PINS"),a}),V(this,"getTopChoiceBoardsAuxData",()=>{let{showSaveToProfile:e}=this.props;return(e?this.getShortlist().slice(0,2):[...this.getShortlist()]).map(e=>({board_title_id:String(e.id),board_title_kind:JSON.parse(e.recommendation_reason??"{}").reason,board_title:String(e.name),board_title_score:JSON.parse(e.recommendation_reason??"{}").score}))}),V(this,"getBoardTitleSuggestionsAuxData",()=>{let{boardSuggestions:e}=this.state;return e.map(e=>({board_title_id:String(e.metadata.value),board_title_kind:String(e.metadata.kind),board_title:String(e.title),board_title_score:String(e.metadata.confidence)}))}),V(this,"handleBoardWithSectionsClick",e=>{let{clientTrackingParams:a,logContextEvent:i,pinId:t,setBoardWithSection:r,surfaceOriginViewParameter:s}=this.props,{saveSessionId:l,searchQuery:o,selectedBoardId:n,selectedBoardCategory:d}=this.state,c=this.getBoards(e.category).find(({id:a})=>a===e.id),_=n===e.id&&d===e.category;i({event_type:13,clientTrackingParams:a,component:13282,element:36,object_id_str:e.id,view_type:275,aux_data:{board_id:e.id,board_picker_surface_origin:s,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,is_profile_save:!1,pin_id:t,save_session_id:l,search_query:o}}),c&&r&&r(c),this.setState({isSectionOpen:!0,selectedBoardId:_?"":e.id,selectedBoardCategory:_?"":e.category})}),V(this,"handleBoardClick",({board:e,toggleSections:a})=>{let{clientTrackingParams:i,imageSignature:t,logContextEvent:r,onItemChosen:s,pinId:l,surfaceOriginViewParameter:o,surface:n}=this.props,{saveSessionId:d,searchQuery:c}=this.state;this.setState({searchBoxFocused:!1}),a?(r({event_type:101,component:13282,element:36,clientTrackingParams:i,object_id_str:e.id,view_type:91,view_parameter:e.category===K?3988:3989,aux_data:{board_id:e.id,board_component:e.category===K?3988:3989,board_picker_surface_origin:o,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,image_signature:t,is_profile_save:!1,pin_id:l,save_session_id:d,search_query:c}}),this.handleBoardWithSectionsClick({category:e.category,gridIndex:e.gridIndex,id:e.id})):(r("boardless"===e.type?{event_type:101,clientTrackingParams:i,component:13282,element:36,object_id_str:e.id,view_type:91,view_parameter:3990,aux_data:{board_id:e.id,board_component:3990,board_picker_surface_origin:o,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,image_signature:t,is_profile_save:!0,pin_id:l,save_session_id:d,search_query:c}}:{event_type:101,clientTrackingParams:i,component:13282,element:36,object_id_str:e.id,view_type:91,view_parameter:e.category===K?3988:3989,aux_data:{board_id:e.id,board_component:e.category===K?3988:3989,board_picker_surface_origin:o,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,image_signature:t,is_profile_save:"boardless"===e.type,pin_id:l,save_session_id:d,search_query:c,source:n}}),s({boardId:e.id,url:e.url,title:e.name||"",type:e.type,imageCoverUrl:e.image_cover_url,privacy:e.privacy,boardPickerSuggestedBoards:JSON.stringify(this.getTopChoiceBoardsAuxData())}))}),V(this,"handleSearchQueryUpdate",e=>{this.setState(a=>({...a,searchQuery:e}))}),V(this,"handleCreateBoardClick",e=>{let{clientTrackingParams:a,imageSignature:i,logContextEvent:t,onBoardCreate:r,pinId:s,surfaceOriginViewParameter:l,surface:o}=this.props,{saveSessionId:n,searchQuery:d}=this.state;t({event_type:101,clientTrackingParams:a,component:13282,element:249,view_type:91,view_parameter:e?87:3132,aux_data:{board_component:e?87:3132,board_picker_surface_origin:l,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),image_signature:i,pin_id:s,save_session_id:n,search_query:d,source:o??x.A.BOARD_PICKER}}),r({title:d})}),V(this,"handleBoardSuggestionClick",e=>{let{clientTrackingParams:a,imageSignature:i,logContextEvent:t,onBoardCreate:r,pinId:s,surfaceOriginViewParameter:l}=this.props,{saveSessionId:o}=this.state;t({event_type:101,clientTrackingParams:a,component:13282,element:23,view_type:91,view_parameter:3992,aux_data:{board_picker_surface_origin:l,board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),image_signature:i,pin_id:s,save_session_id:o}}),r(e)})}componentWillUnmount(){this.removeEventListeners()}componentDidMount(){let{clientTrackingParams:e,logContextEvent:a,imageSignature:i,pinId:t,setBoardWithSection:r,surfaceOriginViewParameter:s}=this.props,{saveSessionId:l}=this.state;r&&r(null),a({event_type:13,component:13282,clientTrackingParams:e,element:10960,aux_data:{board_picker_surface_origin:s,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),image_signature:i,pin_id:t,save_session_id:l}})}componentDidUpdate(e){let{saveSessionId:a}=this.state,{clientTrackingParams:i}=this.props;!e.suggestedBoardsShortListResource?.isLoaded&&this.props.suggestedBoardsShortListResource?.isLoaded&&this.getSuggestedBoardsIds().length>0&&this.props.logContextEvent({event_type:13,clientTrackingParams:i,component:13282,element:1001,aux_data:{pin_id:this.props.pinId,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),save_session_id:a}})}removeEventListeners(){let{_container:e}=this;e&&e.removeEventListener("scroll",this.handleScroll)}render(){let{accessibilityLabelText:e,boardResource:a,buttonText:i,changeBoardModal:t,clientTrackingParams:s,customItem:l,headerText:n,hideAlreadySavedMsg:d,imageSignature:c,onButtonClick:_,paneHeight:h,paneWidth:p,pinAlreadySavedBoard:m,pinId:y,requestContext:f,sectionText:b,showSaveToProfile:v,showSearchField:x,showCreateBoardButton:P,showFlyoutSaveButton:E,showSections:T,showSectionSaveButton:z,suggestedBoardsShortListResource:O,surfaceOriginViewParameter:D,useStoryboardStyle:R,useLegoLayout:C,boardFlyoutStyle:B}=this.props,{boardSuggestions:M,isSectionOpen:V,saveSessionId:K,searchBoxFocused:H,searchQuery:Y}=this.state;if(!a)return null;let{isLoaded:J,error:q}=a,W=[];(J&&!q||O&&O.data&&!O.error)&&(W=this.getItems(!!C));let $=W.filter(e=>e&&e.category===U).length,X=$>3;X||0!==M.length||this.getPinBuilderSuggestions();let Q=R?200:322,Z=R?214:334,ee=h||290,ea=JSON.stringify(this.getTopChoiceBoardsAuxData()),ei=f.isRTL?"BoardsSlideRightRTL":"BoardsSlideLeft",et="";null!==V&&(et=f.isRTL?"BoardsSlideLeftRTL":"BoardsSlideRight");let er=e=>(0,I.jsxs)(r.Fragment,{children:[!C&&(0,I.jsx)(o.cG,{}),(0,I.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:8,borderBottomLeftRadius:8}},elevation:C&&$>=3&&W.length>1?"shadowFloating":void 0,height:C?80:52,overflow:"hidden",children:(0,I.jsx)(N,{isBoardCreate:e,onCreateBoardClick:({event:a})=>{a.stopPropagation(),this.handleCreateBoardClick(e)},useLegoLayout:C})})]});return(0,I.jsxs)(o.az,{color:"default","data-test-id":"board-picker-flyout",height:R||t?"100%":C?498:439,overflow:"hidden",rounding:200,width:C&&!t?"100%":p,zIndex:A.RG,children:[(0,I.jsx)(u.A,{unsafeCSS:G}),J?null:(0,I.jsx)(o.so,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:C&&!t?360:p,children:(0,I.jsx)(o.y$,{accessibilityLabel:this.props.i18n.bt("loading board picker", "loading board picker", "accessibility text for loading spinner", undefined, true),show:!0})}),(0,I.jsx)(o.so,{direction:"row",children:J&&(0,I.jsx)("div",{className:V?ei:et,children:(0,I.jsx)(o.az,{position:"relative",children:(0,I.jsxs)(o.az,{direction:"row",display:"flex",width:C&&!t?720:(p??0)*2,zIndex:new o.rk(0),children:[(0,I.jsxs)(o.so,{alignItems:"stretch",direction:"column",justifyContent:"start",width:C&&!t?360:p,children:[C&&!t&&(0,I.jsx)(o.so,{alignItems:"center",height:64,justifyContent:"center",children:(0,I.jsx)(S,{headingLevel:2,size:"300",textWeight:"bold",children:n||(v?this.props.i18n.bt("Save", "Save", "PinBetterSave.BoardFlyout.SavePlaceholder", undefined, true):this.props.i18n.bt("Save to board", "Save to board", "PinBetterSave.BoardFlyout.SaveToBoardPlaceholder", undefined, true))})}),(x??!t)&&(0,I.jsxs)(o.az,{"data-test-id":"search-boards-field-container",height:C?64:"auto",padding:B?.searchFieldStyle?.padding??3*!C,paddingX:B?.searchFieldStyle?.paddingX??(C?4:3),paddingY:B?.searchFieldStyle?.paddingY,children:[(0,I.jsx)(F,{accessibilityClearButtonLabel:this.props.i18n.bt("Clear board search text", "Clear board search text", "dropdown.searchField.clearButtonLabel", undefined, true),accessibilityLabel:this.props.i18n.bt("Search through your boards", "Search through your boards", "search bar placeholder text", undefined, true),focused:H,id:"pickerSearchField",onChange:({value:e})=>this.handleSearchQueryUpdate(e),placeholder:this.props.i18n.bt("Search", "Search", "search bar placeholder text", undefined, true),size:B?.searchFieldStyle?.size??"lg",value:Y}),(0,I.jsx)(o.az,{"aria-live":"assertive",display:"visuallyHidden",children:$?(0,g.$)(this.props.i18n.nbt(["Found a board", "Found {{boardCount}} boards"], $, "PinBetterSave.BoardFlyout.BoardFoundsDropdown", true),{boardCount:$.toString()}):this.props.i18n.bt("No boards found", "No boards found", "PinBetterSave.BoardFlyout.noBoardFoundsDropdown", undefined, true)})]}),(0,I.jsxs)(o.az,{ref:this.refHandler,maxHeight:C?ee:Q,minHeight:C?290:Q,overflow:"scrollY",role:"list",children:[O&&!O.isLoaded?(0,I.jsx)(o.az,{"data-test-id":"suggestedBoardsContainer",children:(0,I.jsx)(o.so,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:128.5,width:"100%",children:(0,I.jsx)(o.y$,{accessibilityLabel:this.props.i18n.bt("loading board picker", "loading board picker", "accessibility text for loading spinner", undefined, true),show:!0})})}):null,l,W.map((a,t)=>"header"===a.type?(0,I.jsx)(w,{boardPickerSuggestedBoards:ea,clientTrackingParams:s,headingLevel:2,imageSignature:c,index:t,item:a,pinId:y,saveSessionId:K,surfaceOriginViewParameter:D,useLegoLayout:C},`${a.title}`):(0,I.jsx)(o.az,{children:(0,I.jsx)(k,{accessibilityLabelText:e,board:a,boardPickerSuggestedBoards:ea,buttonText:i,clientTrackingParams:s,displayAlreadySavedMsg:m&&m.id===a.id&&!d,imageSignature:c,onButtonClick:_,onClick:e=>{this.handleBoardClick({board:e,toggleSections:T&&!!e.section_count})},pinId:y,saveSessionId:K,shouldOpenSections:T,showFlyoutSaveButton:E,showSaveToProfile:v,surfaceOriginViewParameter:D,useLegoLayout:C})},`${a.category}-${a.id}`)),!X&&M.length>0&&(0,I.jsx)(j,{inWebRepinFlowExp:C,onClick:this.handleBoardSuggestionClick,pinBuilderSuggestions:M})]}),P&&er(!0)]}),V&&(0,I.jsxs)(o.az,{direction:"column",display:"flex",marginBottom:2*!!C,width:C&&!t?360:p,children:[(0,I.jsxs)(o.so,{alignContent:"center",alignItems:"center",direction:"row",justifyContent:"center",children:[(0,I.jsx)(o.VP,{span:2,children:(0,I.jsx)(o.az,{alignContent:"center",alignItems:"center",display:"flex",justifyContent:"start",marginStart:3,children:(0,I.jsx)(o.K0,{accessibilityLabel:"Back button",icon:"chevron-left",iconColor:"default",onClick:this.handleBack,size:"sm"})})}),(0,I.jsx)(o.VP,{span:8,children:(0,I.jsx)(o.so,{alignItems:"center",height:C?64:52,justifyContent:"center",children:(0,I.jsx)(S,{headingLevel:2,size:"300",textWeight:"bold",children:b||(C?this.props.i18n.bt("Save Pin to", "Save Pin to", "PinBetterSave.BoardFlyout.SectionHeader", undefined, true):this.props.i18n.bt("Choose section", "Choose section", "Header for section header", undefined, true))})})}),(0,I.jsx)(o.VP,{span:2,children:(0,I.jsx)(o.az,{})})]}),!C&&(0,I.jsx)(o.cG,{}),(0,I.jsx)(o.az,{maxHeight:C?ee:Z,minHeight:C?354:Z,overflow:"scrollY",children:W?(0,I.jsx)(r.Fragment,{children:W&&W.map(e=>"header"===e.type?null:(0,I.jsx)(o.az,{role:"list",children:e.isOpen&&(0,I.jsxs)(r.Fragment,{children:[C&&(0,I.jsx)(o.az,{marginStart:4,marginTop:2,paddingY:1,children:(0,I.jsx)(S,{headingLevel:3,size:"100",children:this.props.i18n.bt("Board", "Board", "PinBetterSave.BoardFlyout.BoardPickerTitle", undefined, true)})}),(0,I.jsx)(k,{board:e,boardPickerSuggestedBoards:ea,buttonText:i,displayAlreadySavedMsg:m&&m.id===e.id,isSectionOpen:!0,onButtonClick:_,onClick:e=>{this.handleBoardClick({board:e,toggleSections:!1})},saveSessionId:K,shouldOpenSections:!1,showFlyoutSaveButton:E,useLegoLayout:C}),(0,I.jsx)(L,{board:e,buttonText:i,onButtonClick:_,onClick:this.handleSectionClick,showSectionSaveButton:z,useLegoLayout:C})]})},`${e.category}-${e.id}`))}):null}),P&&!t&&er(!1)]})]})})})})]})}}function Y(e){let{logContextEvent:a}=(0,n.o)(),i=(0,_.A)(),{checkExperiment:t}=(0,h.A)();return(0,I.jsx)(H,{...e,checkExperiment:t,i18n:i,logContextEvent:a,requestContext:(0,p._8)()})}function J(e,a,i){let{advertiser:t}=e,r={};if(i&&i.user&&i.user.username&&i.id!==(a.isAuth?a.id:void 0)&&(r.orbacActingAs=i,r.username=i.user.username),a&&t){let i=e.advertiser;if(a.isAuth&&i.is_impersonation)return{hasMUA:i.owner_user_id!==a.id,advertiser_id:i.id,username:i.owner_user_id,...r};if(a.isAuth&&i.owner_user_id!==a.id)return{hasMUA:!0,advertiser_id:i.id,username:i.owner_user_id,...r};if(a.isAuth&&i.owner_user_id===a.id)return{hasMUA:!1,advertiser_id:i.id,username:"me"}}return{advertiser_id:void 0,hasMUA:void 0,...r}}function q(e){let{advertiser_id:a,hasMUA:i,boardFilter:t="all"}=e,{username:r}=e,s={field_set_key:"board_picker",filter:i?"protected":t,...r?{username:r}:Object.freeze({}),...a?{advertiser_id:a}:{}};return e.orbacActingAs&&e.orbacActingAs.user&&e.orbacActingAs.user.username&&(s={...s,username:e.orbacActingAs.user.username,orbac_subject_id:e.orbacActingAs.id,filter:t}),s}function W(e,a){return(i,t)=>i((0,m.Q5)("BoardPickerBoardsResource",q(J(t(),e,a))))}function $(e){(0,r.useEffect)(()=>{(0,t.A)("BoardFlyout","/app/www/common/PinBetterSave/BoardFlyout.tsx")},[]);let a=(0,c.A)(),i=(0,s.d4)(i=>J(i,a,e.orbacActingAs)),l={...e,...i},o=(0,y.A)({name:"BoardPickerBoardsResource",options:q(l)});return(0,I.jsx)(Y,{...l,boardResource:o})}function X(e){(0,r.useEffect)(()=>{(0,t.A)("BoardFlyout","/app/www/common/PinBetterSave/BoardFlyout.tsx")},[]);let a=(0,b.A)(),i=(0,c.A)(),s=(0,v.H7)(i,a);return(0,I.jsx)($,{...e,orbacActingAs:s?a:void 0})}function Q(e){(0,r.useEffect)(()=>{(0,t.A)("BoardFlyout","/app/www/common/PinBetterSave/BoardFlyout.tsx")},[]);let a=(0,y.A)({name:"BoardPickerBoardsShortlistResource",options:{pin_id:e.pinId,shortlist_length:2,num_shortlist_suggestions:2}}),{data:i}=(0,y.A)({name:"ApiResource",options:{url:`/v3/pins/${e.pinId}/`,field_sets:["pin.pinned_to_board()"]},noCache:!0});return(0,I.jsx)(Y,{...e,pinAlreadySavedBoard:i?.pinned_to_board,suggestedBoardsShortListResource:a})}V(H,"defaultProps",{clientTrackingParams:void 0,paneWidth:320,showCreateBoardButton:!0,showFlyoutSaveButton:!0,showSections:!0,showSectionSaveButton:!0,useLegoLayout:!0})},608368(e,a,i){i.d(a,{A:()=>c});var t=i(97407),r=i(296540),s=i(236507),l=i(787379),o=i(875931),n=i(474848);let d=({collaborator_count:e,useLegoLayout:a,type:i})=>a?(0,n.jsx)(s.az,{marginEnd:2*!!e,children:(0,n.jsx)(o.A,{type:i})}):(0,n.jsx)(o.A,{type:i}),c=({board:e,showCollaborativeIcon:a,showPrivateIcon:i,showProtectedIcon:c,showSectionsIcon:_,useLegoLayout:u})=>{(0,r.useEffect)(()=>{(0,t.A)("BoardPickerRowIconList","/app/www/common/PinBetterSave/BoardPickerRowIconList.tsx")},[]);let g=e?.collaborating_users?.length||0;return a||i||c||_?(0,n.jsxs)(s.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8}},"data-test-id":"board-picker-row-icon-list-box",direction:"row",display:"flex",marginEnd:5*!u,children:[i&&(0,n.jsx)(d,{collaborator_count:g,type:"secret",useLegoLayout:u}),c&&(0,n.jsx)(d,{collaborator_count:g,type:"protected",useLegoLayout:u}),a&&(u?(0,n.jsx)(l.A,{board:e,isCompact:!0,ownerOnly:!1}):(0,n.jsx)(o.A,{type:"group"})),_&&(0,n.jsx)(o.A,{type:"sections"})]}):null}},990493(e,a,i){i.d(a,{A:()=>o});var t=i(97407),r=i(296540),s=i(236507),l=i(474848);let o=({image_url:e,naturalHeight:a,naturalWidth:i})=>((0,r.useEffect)(()=>{(0,t.A)("RepinSectionImage","/app/www/common/PinBetterSave/RepinSectionImage.tsx")},[]),(0,l.jsx)(s.az,{"aria-hidden":"true",height:48,marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,children:(0,l.jsx)(s.n1,{height:48,rounding:200,wash:!0,width:48,children:(0,l.jsx)(s._V,{alt:"",naturalHeight:a,naturalWidth:i,src:e})})}))},286682(e,a,i){i.d(a,{y:()=>t});let t=new(i(236507)).rk(700)},964205(e,a,i){i.d(a,{A:()=>u,o:()=>_});var t=i(97407),r=i(296540),s=i(236507),l=i(643357),o=i(650073),n=i(474848);let d=(0,r.lazy)(()=>i.e("66220").then(i.bind(i,415426))),c={xs:12,sm:16,md:20,lg:24};function _({children:e}){(0,r.useEffect)(()=>{(0,t.A)("VerifiedBadge","/app/www/common/VerifiedBadge/VerifiedBadge.tsx")},[]);let a=(0,l.A)();return(0,n.jsx)(s.m_,{dataTestId:"verified-badge-tooltip",link:(0,n.jsx)(s.N_,{href:o.duZ,target:"blank",children:(0,n.jsx)(s.KJ,{color:"inverse",size:"100",weight:"bold",children:a.bt("Learn more", "Learn more", "verifiedBadge.tooltip.link", undefined, true)})}),text:a.bt("This retailer meets Pinterest's Merchant Guidelines", "This retailer meets Pinterest's Merchant Guidelines", "merchantVerification.badge.tooltip", undefined, true),children:e})}function u({iconOnly:e,isVerifiedIdentity:a,isVerifiedMerchant:i,showText:o,size:u,inspirationalBadges:g,inspirationalBadgesColor:h}){(0,r.useEffect)(()=>{(0,t.A)("VerifiedBadge","/app/www/common/VerifiedBadge/VerifiedBadge.tsx")},[]);let p=(0,l.A)(),[m,y]=(0,r.useState)(!1);if(i){let i=(0,n.jsxs)(s.az,{alignItems:"center","data-test-id":"verified-badge-icon",display:"flex",justifyContent:"start",children:[(0,n.jsx)(s.Rp,{onTap:()=>y(!0),children:(0,n.jsx)(s.In,{accessibilityLabel:p.bt("Merchant verification badge", "Merchant verification badge", "merchantVerification.badge.icon", undefined, true),color:"info",icon:"circle-check-fill",inline:!0,size:c[u]})}),o&&(0,n.jsx)(s.az,{marginStart:2,children:(0,n.jsx)(s.KJ,{color:"default",inline:!0,weight:"bold",children:p.bt("Verified merchant", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})]});return(0,n.jsxs)(r.Fragment,{children:[e?i:(0,n.jsx)(_,{children:i}),!a&&!e&&m&&(0,n.jsx)(r.Suspense,{children:(0,n.jsx)(d,{inspirationalBadges:g,inspirationalBadgesColor:h,setShowModal:y,showModal:m})})]})}return a&&!i?(0,n.jsx)(s.In,{accessibilityLabel:p.bt("Domain verification", "Domain verification", "domainVerification.badge.icon", undefined, true),color:"error",icon:"circle-check-fill",size:c[u]}):null}},475750(e,a,i){i.d(a,{A:()=>g,m:()=>u});var t=i(97407),r=i(296540),s=i(236507),l=i(643357),o=i(327467),n=i(514372),d=i(964205),c=i(474848);let _=Math.floor(3.5);function u({id:e,children:a,isHovered:i,url:l,onClick:o,onMouseEnter:n,onMouseLeave:d,onFocus:_,onBlur:u,rounding:g}){return(0,r.useEffect)(()=>{(0,t.A)("SuggestionReps","/app/www/discover/SearchBox/SuggestionReps.tsx")},[]),(0,c.jsx)(s.az,{"aria-selected":i?"true":"false","data-test-id":"search-suggestion",id:e,role:"option",children:(0,c.jsx)(s.pp,{active:i,children:(0,c.jsx)(s.$A,{href:l,onBlur:u,onFocus:_,onMouseDown:({event:e})=>e.preventDefault(),onMouseEnter:n,onMouseLeave:d,onTap:({event:e,dangerouslyDisableOnNavigation:a})=>{a(),e.metaKey||e.ctrlKey||(e.preventDefault(),o())},rounding:g,children:a})})})}function g({highlightMatch:e=!1,iconName:a,imageUrl:i,isVerifiedMerchant:u=!1,label:g,onLoad:h,query:p,rounding:m,searchDelightConfig:y,subLabel:f,type:b,verified:v=!1}){(0,r.useEffect)(()=>{(0,t.A)("SuggestionReps","/app/www/discover/SearchBox/SuggestionReps.tsx")},[]);let x=(0,l.A)(),A="recent_pin_searches"===b?"rs-search-suggestion":i||a?"enriched-search-suggestion":"regular-search-suggestion";return(0,c.jsx)(s.az,{"data-test-id":A,display:"flex",paddingY:+!!i,width:"100%",children:(0,c.jsxs)(s.so,{alignItems:"center",gap:{row:2,column:0},children:[i?(0,c.jsx)(s.az,{"data-test-id":"enriched-autocomplete-image",height:40,marginStart:_,overflow:"hidden",rounding:m&&2===m?200:"circle",width:40,children:(0,c.jsx)(s._V,{alt:"",color:"#efefef",fit:"cover",naturalHeight:40,naturalWidth:40,onLoad:h,role:"presentation",src:i})}):(0,c.jsx)(s.so,{alignItems:"center",height:40,justifyContent:"center",width:40,children:(0,c.jsx)(s.In,{accessibilityLabel:a?(0,o.vQ)(x.bt("{{ icon}} icon", "{{ icon}} icon", "SearchBox.SearchSuggestion.EnrichedAutocomplete.Icon", undefined, true),{icon:a}).join():"",color:"default",icon:a||"magnifying-glass",size:12})}),(0,c.jsxs)(s.so,{alignItems:"start",direction:"column",gap:{row:0,column:1},justifyContent:"center",children:[(0,c.jsxs)(s.so,{alignItems:"center",children:[e&&p?(0,c.jsx)(n.A,{query:p,searchDelightConfig:y,text:g||p}):(0,c.jsx)(s.KJ,{weight:"bold",children:g}),(v||u)&&(0,c.jsx)(s.az,{marginStart:1,children:(0,c.jsx)(d.A,{iconOnly:!0,isVerifiedIdentity:v,isVerifiedMerchant:u,size:"xs",surface:"SuggestionReps"})})]}),f&&(0,c.jsx)(s.KJ,{size:"100",children:f})]})]})})}},556448(e,a,i){i.d(a,{H:()=>g,c:()=>u});var t=i(296540),r=i(449798),s=i(591042),l=i(643357),o=i(327467),n=i(468133),d=i(493006),c=i(809583),_=i(378920);function u({query:e,scope:a,autocompleteRequestSurface:i}){let n=(0,l.A)(),c=(0,r.A)(),_=(0,d.A)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:a,autocomplete_request_surface:i},value:e});return(0,t.useMemo)(()=>{let e=_?.map(e=>{if("query"===e.type){let{modified_filter_eligibility:a,query:i}=e,t=a?(0,o.vQ)(a?.hair_pattern?.eligible_filters?n.bt("{{ query }} by hair pattern", "{{ query }} by hair pattern", "SearchSuggestion.HairPatternFilterSuggestion", undefined, true):n.bt("{{ query }} by skin-tone range", "{{ query }} by skin tone range", "SearchSuggestion.SkinToneFilterSuggestion", undefined, true),{query:i}).join(""):i;return{...e,label:t}}return e});if(c.isAuth)return[{items:e||[],type:"blended_autocomplete"}];let a=(0,s.A)(e||[],e=>e.type);return[{items:["query","user"].flatMap(e=>a[e]).filter(e=>!!e),type:"blended_autocomplete"}]},[_,c,n])}function g(e){let{autocompleteRequestSurface:a}=e||{},{group:i}=(0,_.A)({isSyop:0!==a}),{isLoaded:s,data:l}=function(e){let a=(0,r.A)(),{autocompleteRequestSurface:i}=e||{};return(0,n.A)(a.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:c.cO.PINS,autocomplete_request_surface:i},noCache:!0}:null)}(e);return(0,t.useMemo)(()=>{if(s&&l)return{items:l.items.slice(0,i?.includes("recent_search")?12:5).map((e,a)=>({...e,resultIndex:a})),isLoaded:s};return{items:[],isLoaded:s}},[s,l,i])}},378920(e,a,i){i.d(a,{A:()=>r});var t=i(622165);function r({isSyop:e}){let{checkExperiment:a}=(0,t.A)();return e?{anyEnabled:!1,group:""}:a("web_search_autocomplete_empty_state")}},835106(e,a,i){i.d(a,{A:()=>l});var t=i(296540),r=i(671468),s=i(581818);function l(e){let a=(0,r.wA)();return(0,t.useMemo)(()=>()=>{a((0,s.J)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins",autocomplete_request_surface:e}}))},[a,e])}},431210(e,a,i){i.d(a,{A:()=>o});var t=i(643357),r=i(568677),s=i(575856),l=i(706243);let o=()=>{let e=(0,t.A)(),a=(0,r.qJ)(),{viewer:i,loginForMore:o,limitedLoginModalSubheader:n,limitedLoginModalNextLocation:d}=(0,s.x)();return"LIMITED_LOGIN"===i.type?({modalHeader:i,nextLocation:t})=>r=>{let s=null;r&&(r.nativeEvent&&r.nativeEvent instanceof Event?s=r:r.event&&(s=r.event)),s&&(s.preventDefault&&s.preventDefault(),s.stopPropagation&&s.stopPropagation()),o?.setVisible(!0),n?.setText(i||(a?(0,l.i)(e):(0,l.wC)(e))),t&&d?.setRoute(t)}:({fn:e})=>e}},646212(e,a,i){i.d(a,{Ay:()=>g,Wx:()=>h,tk:()=>u});var t=i(236507),r=i(327467),s=i(803710),l=i(695531),o=i(650073),n=i(807898),d=i(797305),c=i(288289),_=i(474848);let u=e=>e.bt("Not a valid URL.", "Not a valid URL.", "storyPinBuilder.errorMessaging.message", undefined, true);function g({dispatchId:e,errorId:a,i18n:i,ideaPinRenamingEnabled:n,options:g}){let h=(0,d.A)(a,i,e,g);if("GENERAL_ERROR"!==h.id)return h;switch(a){case"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:e,id:"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT",type:"error",message:i.bt("This description is getting long. Try cutting it down.", "Ooops! This description is getting long. Try trimming it down.", "storyPinBuilder.errorMessaging.message", undefined, true)};case"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT":return{dispatchId:e,id:"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT",type:"error",message:i.bt("Too many user mentions. Please keep to 5 max.", "Ooops! Too many user mentions. Try keeping it to 5 max.", "pinBuilder.errorMessaging.descriptionMentionLimit", undefined, true)};case"TITLE_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:e,id:"TITLE_OVER_MAX_CHARACTER_LIMIT",type:"error",message:i.bt("This title is getting long. Try cutting it down.", "Ooops! This title is getting long. Try trimming it down.", "storyPinBuilder.errorMessaging.message", undefined, true)};case"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO":return{dispatchId:e,id:"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO",type:"error",message:i.bt("This image does not have the recommended aspect ratio.", "This image does not have the recommended aspect ratio.", "storyPinBuilder.errorMessaging.message", undefined, true)};case"TAG_SAME_PRODUCT_LINK":return{dispatchId:e,id:"TAG_SAME_PRODUCT_LINK",type:"error",message:i.bt("You can't tag from the same page twice.", "You can't tag from the same page twice.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"TAG_OVER_MAX_PRODUCTS_LIMIT":return{dispatchId:e,id:"TAG_OVER_MAX_PRODUCTS_LIMIT",type:"error",message:i.bt("You've reached the maximum number of products for a tag.", "You've reached the maximum number of products for a tag.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"BOARD_MISSING":return{dispatchId:e,id:"BOARD_MISSING",type:"error",message:i.bt("A board is required to create a Pin.", "A board is required to create a Pin.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"DATE_IN_PAST":return{dispatchId:e,id:"DATE_IN_PAST",type:"error",message:i.bt("A future date is required to schedule a Pin.", "A future date is required to schedule a Pin.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"DATE_TOO_FAR_IN_FUTURE":return{dispatchId:e,id:"DATE_TOO_FAR_IN_FUTURE",type:"error",message:i.bt("Make sure you schedule a Pin less than 30 days in the future.", "Make sure you schedule a Pin less than 30 days in the future.", "storyPinBuilder.errorMessaging.30DayMessage", undefined, true),blocking:!0};case"DATE_MISSING":return{dispatchId:e,id:"DATE_MISSING",type:"error",message:i.bt("A date is required to schedule a Pin.", "A date is required to schedule a Pin.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"DESCRIPTION_INVALID":return{dispatchId:e,id:"DESCRIPTION_INVALID",type:"error",message:i.bt("The description is invalid.", "The description is invalid.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"DUPLICATE_PIN_CONTENT":return{dispatchId:e,id:"DUPLICATE_PIN_CONTENT",type:"error",message:i.bt("This Pin has the same image, board, description and link as another Pin. Please make each Pin unique.", "This Pin has the same image, board, description, and link as another Pin. Please make each Pin unique.", "pinBuilder.errorMessaging.duplicatePinContent", undefined, true),blocking:!0};case"MEDIA_MISSING":return{dispatchId:e,id:"MEDIA_MISSING",type:"error",message:i.bt("An image is required to create a Pin.", "An image is required to create a Pin.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"SHOWCASE_UNSUPPORTED_FORMAT":return{dispatchId:e,id:"SHOWCASE_UNSUPPORTED_FORMAT",type:"error",message:i.bt("Showcase ads don’t currently support video. To continue, please upload an image.", "Showcase ads don’t currently support video. To continue, please upload an image.", "showcasePinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"TAG_INVALID":return{dispatchId:e,id:"TAG_INVALID",type:"error",message:i.bt("You can only tag images linking to your claimed website.", "You can only tag images linking to your claimed website.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"TAG_EMPTY":return{dispatchId:e,id:"TAG_EMPTY",type:"error",message:i.bt("You must tag at least one feature Pin to continue.", "You must tag at least one feature Pin to continue.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"TIME_MISSING":return{dispatchId:e,id:"TIME_MISSING",type:"error",message:i.bt("A time is required to schedule a Pin.", "A time is required to schedule a Pin.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"TITLE_INVALID":return{dispatchId:e,id:"TITLE_INVALID",type:"error",message:i.bt("The title is invalid.", "The title is invalid.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"URL_INVALID":return{dispatchId:e,id:"URL_INVALID",type:"error",message:u(i),blocking:!0};case"URL_MISSING":return{dispatchId:e,id:"URL_MISSING",type:"error",message:i.bt("URL is required.", "URL is required.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"URL_CONTAINS_PORN_DOMAIN":return{dispatchId:e,id:"URL_CONTAINS_PORN_DOMAIN",type:"error",message:(0,r.vQ)(i.bt("Some nudity is OK on Pinterest, some isn't. Make sure you understand {{ policy_link }}", "Some nudity is okay for Pinterest, some isn't. Make sure you understand {{ policy_link }}", "storyPinBuilder.errorMessaging.message", undefined, true),{policy_link:(0,_.jsx)(t.N_,{display:"inlineBlock",href:o.jvt,target:"blank",underline:"hover",children:(0,_.jsx)(t.KJ,{color:"error",inline:!0,size:"100",weight:"bold",children:i.bt("our policies", "our policies", "Link to policy page", undefined, true)})},0)}),blocking:!0};case"URL_IS_TOO_LONG":return{dispatchId:e,id:"URL_IS_TOO_LONG",type:"error",message:(0,l.A)(i.bt("Please shorten the link to {{ maxLength }} characters or fewer.", "Please shorten the link to {{ maxLength }} characters or fewer.", "pinbuilder.urlIsTooLong.errorMessage", undefined, true),{maxLength:2048}),blocking:!0};case"URL_IS_BLOCKED":return{dispatchId:e,id:"URL_IS_BLOCKED",type:"error",message:i.bt("This link is blocked because it may not meet our content policies.", "This link is blocked because it may not meet our content policies.", "pinbuilder.blockedUrl.errorMessage", undefined, true),blocking:!0};case"CAROUSEL_DIFFERENT_RATIOS":return{dispatchId:e,id:"CAROUSEL_DIFFERENT_RATIOS",type:"error",message:i.bt("Carousel images must have the same height and width", "Carousel images must have the same height and width", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"CAROUSEL_INVALID_FORMAT":return{dispatchId:e,id:"CAROUSEL_INVALID_FORMAT",type:"error",message:i.bt("Carousels can only contain images", "Carousels can only contain images", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"URL_IS_REDIRECT":return{dispatchId:e,id:"URL_IS_REDIRECT",type:"error",message:i.bt("URL is a redirect. Please enter a URL without a redirect.", "URL is a redirect. Please enter a URL without a redirect.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"URL_UNREACHABLE":return{dispatchId:e,id:"URL_UNREACHABLE",type:"error",message:i.bt("URL is unreachable. Please check that it is correct.", "URL is unreachable. Please check that it is correct.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO":return{dispatchId:e,id:"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO",type:"error",message:i.bt("Edit the image on the cover page to have a 9:16 ratio", "Edit the image on the cover page to have a 9:16 ratio", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"STORY_PIN_COVER_PAGE_IMAGE_MISSING":return{dispatchId:e,id:"STORY_PIN_COVER_PAGE_IMAGE_MISSING",type:"error",message:n?i.bt("Please provide an image for the cover page of your Pin", "Please provide an image for the cover page of your Pin", "storyPinBuilder.errorMessaging.storypinCoverPageImageMissing", undefined, true):i.bt("Please provide an image for the cover page of your Idea Pin", "Please provide an image for the cover page of your Idea Pin", "storyPinBuilder.errorMessaging.message", undefined, true)};case"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING":return{dispatchId:e,blocking:!0,id:"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING",type:"error",message:n?i.bt("Cannot save Pin without signature set on cover", "Cannot save Pin without signature set on cover", "storyPinBuilder.errorMessaging.storyPinCoverPageSignatureMissing", undefined, true):i.bt("Cannot save Idea Pin without signature set on cover", "Cannot save Idea Pin without signature set on cover", "storyPinBuilder.errorMessaging.message", undefined, true)};case"STORY_PIN_COVER_PAGE_TITLE_MISSING":return{dispatchId:e,id:"STORY_PIN_COVER_PAGE_TITLE_MISSING",type:"error",message:n?i.bt("Give your Pin a title before you publish", "Give your Pin a title before you publish", "storyPinBuilder.errorMessaging.storyPinCoverPageTittleMissing", undefined, true):i.bt("Give your Idea Pin a title before you publish", "Give your Idea Pin a title before you publish", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"STORY_PIN_MEDIA_SIGNATURES_MISSING":return{dispatchId:e,blocking:!0,id:"STORY_PIN_MEDIA_SIGNATURES_MISSING",type:"error",message:n?i.bt("Cannot save Pin without signatures set on all media blocks/items", "Cannot save Pin without signatures set on all media blocks/items", "storyPinBuilder.errorMessaging.storyPinMediaSignatureMissing", undefined, true):i.bt("Cannot save Idea Pin without signatures set on all media blocks/items", "Cannot save Idea Pin without signatures set on all media blocks/items", "storyPinBuilder.errorMessaging.message", undefined, true)};case"STORY_PIN_NOT_ENOUGH_PAGES":return{dispatchId:e,id:"STORY_PIN_NOT_ENOUGH_PAGES",type:"error",message:n?i.bt("Create at least 2 pages to publish a Pin", "Create at least 2 pages to publish a Pin", "storyPinBuilder.errorMessaging.storyPinNotEnoughPages", undefined, true):i.bt("Create at least 2 pages to publish an Idea Pin", "Create at least 2 pages to publish an Idea Pin", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"STORY_PIN_TOO_MANY_DRAFTS":return{dispatchId:e,id:"STORY_PIN_TOO_MANY_DRAFTS",type:"error",message:(0,r.vQ)(i.bt("You have reached the limit of {{draftMaxCount}} drafts.", "You have reached the limit of {{draftMaxCount}} drafts.", "storyboard.errorMessaging.message.draftLimitError", undefined, true),{draftMaxCount:c.WC}).join(""),blocking:!0};case"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE":return{dispatchId:e,id:"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE",type:"error",message:(0,r.vQ)(i.bt("You can only upload {{multiUploadMaxCount}} drafts at a time.", "You can only upload {{multiUploadMaxCount}} drafts at once.", "storyboard.errorMessaging.message.multiUploadMaxError", undefined, true),{multiUploadMaxCount:c.TB}).join(""),blocking:!0};case"STORY_PIN_TITLE_MISSING":return{dispatchId:e,id:"STORY_PIN_TITLE_MISSING",type:"error",message:n?i.bt("Give your Pin a title before you publish", "Give your Pin a title before you publish", "storyPinBuilder.errorMessaging.storyPinTitleMissing", undefined, true):i.bt("Give your Idea Pin a title before you publish", "Give your Idea Pin a title before you publish", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":{let a=Math.floor(4);return{dispatchId:e,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,r.vQ)(i.nbt(["This video is too short and can't be uploaded. Videos can't be shorter than {{minVideoLengthSeconds}} second.", "This video is too short and can't be uploaded. Videos can't be shorter than {{minVideoLengthSeconds}} seconds."], a, "storyPinBuilder.errorMessaging.message", true),{minVideoLengthSeconds:a}).join(""),blocking:!0}}case"STORY_PIN_VIDEO_ON_COVER":return{dispatchId:e,id:"STORY_PIN_VIDEO_ON_COVER",type:"error",message:i.bt("The cover page cannot contain a video", "The cover page cannot contain a video", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":{let a=s.L3/1024/1024;return{dispatchId:e,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,r.vQ)(i.nbt(["This video is too large and can't be uploaded. Videos can't be larger than {{maxVideoFileSize}} MB.", "This video is too large and can't be uploaded. Videos can't be larger than {{maxVideoFileSize}} MB."], a, "storyPinBuilder.errorMessaging.message", true),{maxVideoFileSize:a}).join(""),blocking:!0}}case"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:e,id:"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT",type:"error",message:i.bt("This alt text is getting a bit long. Try trimming it down.", "Ooops! This alt text is getting long. Try trimming it down.", "pinBuilder.errorMessaging.message", undefined, true)};default:return{dispatchId:e,id:"GENERAL_ERROR",type:"error",message:i.bt("Something went wrong. Please try again.", "Hmm, something went wrong. Please try again.", "storyPinBuilder.errorMessaging.message", undefined, true),blocking:!0}}}function h(e,a,i){i({event_type:7564,view_type:212,component:(0,n.A)().includes("create")?13762:13308,aux_data:{error_message:a,error_id:e}})}},787379(e,a,i){i.d(a,{A:()=>d});var t=i(97407),r=i(296540),s=i(194637),l=i(449798),o=i(474848);function n(e){let a=e?.imageMediumUrl??e?.image_medium_url??"",i=e?.avatar_color_index??void 0;return{name:e?.fullName??e?.full_name??"",color:i,src:"https://s.pinimg.com/images/user/default_75.png"===a?void 0:a}}function d({board:e,forceViewer:a,isCompact:i,ownerOnly:d}){(0,r.useEffect)(()=>{(0,t.A)("CollaboratorsFacepile","/app/www/profile/ProfileBoardCard/ProfileBoardCardFooter/CollaboratorsFacepile.tsx")},[]);let c=(0,l.A)(),_=d?[n(e?.owner)]:(function(e,a,i){let{collaborated_by_me:t,collaborating_users:r,owner:s}=e??{},l=r??[],o=[s];if(t||i){let e=l.findIndex(e=>a.isAuth&&e.id===a.id);if(-1!==e){let a=l.splice(e,1)[0];o.push(a)}else o.push(a)}return[...o,...[...l].sort((e,a)=>(e.full_name??"")>(a.full_name??"")?1:(a.full_name??"")>(e.full_name??"")?-1:0)]})(e,c,a).map(n);return(0,o.jsx)(s.Z7,{collaborators:_,size:i?"xs":"sm"})}},109794(e,a,i){i.d(a,{A:()=>t});function t(e,a,i,r=!1,s){return{privacy_filter:a?"secret":"public",sort:i||"last_pinned_to",field_set_key:"profile_grid_item",username:e,isRetrievalHub:r,filter_types:s}}},691854(e,a,i){i.d(a,{t:()=>n,w:()=>o});var t=i(972756),r=i(35494),s=i(789542);let l=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],o={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:a,mixPublicSecret:i,username:t,privacyFilter:r="all",filterAllPins:s=!1,includeArchived:l=!0},o)=>({privacy_filter:r,sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:a,username:t,page_size:25,group_by:i?"mix_public_private":"visibility",include_archived:l,redux_normalize_feed:!0,filter_all_pins:s,...o?{orbac_subject_id:o}:Object.freeze({})})},n=e=>l.reduce((a,i)=>{let l=[(0,s.eO)("profileBoards",(0,r.A)(e,i))];return[!0,!1].forEach(a=>{[!0,!1].forEach(r=>{l.push((0,t.Q5)(o.name,o.options({username:e,boardOrder:i,mixPublicSecret:a,filterStories:r})))})}),a.concat(l)},[])},209922(e,a,i){i.d(a,{F5:()=>h,ID:()=>u,KB:()=>y,NJ:()=>v,NQ:()=>c,Qv:()=>g,SA:()=>p,WD:()=>I,_4:()=>b,gS:()=>P,i0:()=>A,mr:()=>f,oj:()=>m,uE:()=>x,zY:()=>_});var t=i(684059),r=i(645519),s=i(901856),l=i(581818),o=i(972756),n=i(109794),d=i(691854);function c(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function _(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function u(e,a){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:a}}}function g({viewingUserId:e,viewingUsername:a,boardId:i,boardPinCount:t}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:a,boardId:i,boardPinCount:t}}}let h=(e,a)=>i=>i((0,l.J)("BoardResource",{options:{board_id:e,field_set_key:a}}));function p(e){return a=>{e&&(0,d.t)(e).forEach(e=>{a(e)})}}let m=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),y=e=>h(e,"pin_count"),f=(e,a)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:a}}),b=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function v(e,a,i){let s={name:e,privacy:r.A.BoardPrivacy.PUBLIC,username:a,...i?{orbac_subject_id:i}:Object.freeze({})};return e=>t.A.create("BoardResource",s).callCreate().then(i=>{let t=i.resource_response.data;return e(a&&(0,o.Q5)("BoardsResource",(0,n.A)(a,!1))),t})}function x(e={},a,i){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:a},error:i}}let A=(e,a,i)=>async r=>{r({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:a}});let s=await t.A.create("BoardInviteResource",{board_id:e,invited_user_id:a}).callDelete();return s.resource_response.error||i({event_type:29,object_id_str:e}),s},P=(e,a,i,r,l,o)=>async n=>{n({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:r?.id??"",viewingUser:i}});try{let i=r?.id??"";("accepted"===a?await (0,s.A)({url:"/v3/boards/{board}/collaborators/{collaborator_ids}/",urlParams:{board:e,collaborator_ids:i},method:"DELETE",data:{...o?{orbac_subject_id:o}:{}}}):await t.A.create("BoardInviteResource",{board_id:e,field_set_key:"boardEdit",invited_user_id:i,...o?{orbac_subject_id:o}:{}}).callDelete()).resource_response.error||l({event_type:"accepted"===a?25:29,object_id_str:e})}catch(t){n({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:i,status:a,collaboratingUsers:[r]}})}},I=(e,a,i,r)=>s=>{let l=t.A.create("BoardResource",{board_id:i}).callDelete();return s(g({viewingUserId:e,viewingUsername:a,boardId:i,boardPinCount:r})),l}},245406(e,a,i){i.d(a,{X:()=>l,e:()=>s});var t=i(901856),r=i(209922);function s(e,a){return async i=>{i((0,r.ID)(e,!0));try{await (0,t.A)({url:"/v3/boards/{board}/follow/",urlParams:{board:e},method:"PUT"}),a({event_type:26,object_id_str:e})}catch(a){i((0,r.ID)(e,!1))}}}function l(e,a){return async i=>{i((0,r.ID)(e,!1));try{await (0,t.A)({url:"/v3/boards/{board}/follow/",urlParams:{board:e},method:"DELETE"}),a({event_type:27,object_id_str:e})}catch(a){i((0,r.ID)(e,!0))}}}},789542(e,a,i){function t(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function r(e,a){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:a}}}i.d(a,{J6:()=>l,ZT:()=>o,bG:()=>s,eO:()=>r,kl:()=>t});let s=(e,a,i=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:i,items:a}});function l(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function o(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},875931(e,a,i){i.d(a,{A:()=>l});var t=i(236507),r=i(643357),s=i(474848);let l=function({type:e}){let a=(0,r.A)(),i={group:{accessibilityLabel:a.bt("group board", "group board", "Board picker group board icon", undefined, true),icon:"people"},protected:{accessibilityLabel:a.bt("protected board", "protected board", "Board picker protected board icon", undefined, true),icon:"shield-check"},secret:{accessibilityLabel:a.bt("Secret board", "secret board", "Board picker secret board icon", undefined, true),icon:"lock"},sections:{accessibilityLabel:a.bt("board with sections", "board with sections", "Board picker board with sections icon", undefined, true),icon:"chevron-right"},sectionsInline:{accessibilityLabel:a.bt("board with sections", "board with sections", "Board picker board with sections icon", undefined, true),icon:"chevron-down"}}[e],l="sections"===e||"sectionsInline"===e;return(0,s.jsx)(t.az,{marginStart:+!!l,children:(0,s.jsx)(t.az,{marginStart:2*!!l,children:"sections"===e||"sectionsInline"===e?(0,s.jsx)(t.In,{accessibilityLabel:i.accessibilityLabel,color:"default",icon:i.icon,size:"12"}):(0,s.jsx)(t.In,{accessibilityLabel:i.accessibilityLabel,color:"default",icon:i.icon,size:16})})})}},271790(e,a,i){i.d(a,{A:()=>u});var t=i(97407),r=i(296540),s=i(236507),l=i(55268),o=i(643357),n=i(468133),d=i(568677),c=i(474848);function _({ideaPinImages:e}){(0,r.useEffect)(()=>{(0,t.A)("FollowingToastThumbnail","/app/www/toasts/FollowingToastThumbnail.tsx")},[]);let a=e.map((e,a)=>(0,c.jsx)(s.az,{borderColor:"decorative",borderWidth:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:a}},height:48,overflow:"hidden",rounding:200,width:28,children:e?.url&&(0,c.jsx)(s._V,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e.url})},a));return(0,c.jsx)(s.so,{justifyContent:"center",children:(0,c.jsx)(s.so,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:a})})}function u({handleHide:e,text:a,userId:i,href:u,imageUrl:g}){(0,r.useEffect)(()=>{(0,t.A)("UserFollowingToast","/app/www/toasts/UserFollowingToast.tsx")},[]);let h=(0,o.A)(),p=(0,d.qJ)(),m=(0,n.A)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:i}}),y=Array.isArray(a)?a.join(" "):a;if(0===(m.data||[]).length)return(0,c.jsx)(l.A,{duration:5e3,href:u,onHide:e,text:y,thumbnail:g?{image:(0,c.jsx)(s._V,{alt:h.bt("Image of who you followed", "Image of who you followed", "userFollowingToast.thumbnail.userImage", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:g})}:void 0});let f=(m.data||[]).slice(0,3).map(e=>e.images?.[p?"236x":"170x"]),b=(0,c.jsx)(_,{ideaPinImages:f});return(0,c.jsx)(l.A,{_dangerouslySetThumbnail:b,duration:5e3,href:u,onHide:e,text:y})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/64115.en_GB-25e9c2607943950a.mjs.map