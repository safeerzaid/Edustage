(self.modernJsonp=self.modernJsonp||[]).push([["73490"],{912119(e,t,n){n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CanonicalCard_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null}],type:"Pin",abstractKey:null};a.hash="4fdeefd50a00fa48652c32d94cc84583";let i=a},503298(e,t,n){n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupFavoriteButtonTest_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="9ab15ab4baca1bcd4b35d42d577e0b0e";let i=a},581879(e,t,n){n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttributionText_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatarColorIndex",storageKey:null}],type:"User",abstractKey:null};a.hash="076ac514bfbb048036e79417ec3c0eb5";let i=a},461996(e,t,n){n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescriptionAccordion_pin",selections:[{args:null,kind:"FragmentSpread",name:"StructuredDescription_pin"}],type:"Pin",abstractKey:null};a.hash="0ea92af6ed3e580e484b6776204f5277";let i=a},304906(e,t,n){n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescriptionPreview_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"StructuredDescription_pin"}],type:"Pin",abstractKey:null};a.hash="778f9a67c785189deaaa1c4cfec46ad3";let i=a},235430(e,t,n){n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescription_pin",selections:[{args:null,kind:"FragmentSpread",name:"ProductDescriptionAccordion_pin"},{args:null,kind:"FragmentSpread",name:"ProductDescriptionPreview_pin"},{args:null,kind:"FragmentSpread",name:"useHyperlinkExperiment_pin"}],type:"Pin",abstractKey:null};a.hash="9758e05746f41597abb102ff4c921bd8";let i=a},498222(e,t,n){var a;n.r(t),n.d(t,{default:()=>l});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductHeading_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};i.hash="8dced786a95725beb90a797a0e54242b";let l=i},230909(e,t,n){var a,i,l,r,o,s,d,c;n.r(t),n.d(t,{default:()=>p});let u=(i={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_user"},d=[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],c=[o],{argumentDefinitions:[{kind:"RootArgument",name:"isCloseupRelatedModulesFeedQuery"}],kind:"Fragment",metadata:null,name:"ProductMetadata_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"affiliateDisclosure",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[i,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[a,r,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},o,s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},i,a,{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPreLovedGoodsLabel",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},l,{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[r,o],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[a,r,s],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:d,storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPricingBaseUnits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPricingUnitType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PriceHistorySummary",kind:"LinkedField",name:"priceHistorySummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"durationDays",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lowestPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typicalPrice",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:c,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductDescription_pin"},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"CanonicalCard_pin"},{args:null,kind:"FragmentSpread",name:"CloseupFavoriteButtonTest_pin"},{args:null,kind:"FragmentSpread",name:"PartnerModule_pin"},{args:null,kind:"FragmentSpread",name:"ProductHeading_pin"},{args:null,kind:"FragmentSpread",name:"VisitButton_pin"},{args:null,kind:"FragmentSpread",name:"useStructuredDescription_pin"}],type:"Pin",abstractKey:null});u.hash="8ed29d5d26af8aa30c941d0f84109e71";let p=u},251719(e,t,n){n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredDescriptionComponent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"StructuredDescriptionText_pin"}],type:"Pin",abstractKey:null};a.hash="f867b797951e2d08797cfc2a432829dd";let i=a},81607(e,t,n){n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredDescriptionText_pin",selections:[{args:null,kind:"FragmentSpread",name:"DescriptionWithLinksAndMentions_pin"},{args:null,kind:"FragmentSpread",name:"useHyperlinkExperiment_pin"}],type:"Pin",abstractKey:null};a.hash="733093776dc8e837966fbdda29e9d4c5";let i=a},481788(e,t,n){n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredDescription_pin",selections:[{args:null,kind:"FragmentSpread",name:"StructuredDescriptionComponent_pin"}],type:"Pin",abstractKey:null};a.hash="0115eb52db8bd36a1a82754d3c39b478";let i=a},934924(e,t,n){var a;n.r(t),n.d(t,{default:()=>l});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisitButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};i.hash="e327c6c7127550a2f17b174cd4dcfa73";let l=i},530963(e,t,n){var a,i;n.r(t),n.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStructuredDescription_pin",selections:[{alias:null,args:null,concreteType:"FormattedCloseupDescription",kind:"LinkedField",name:"formattedCloseupDescription",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:"stringContent",args:null,kind:"ScalarField",name:"content",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"DescriptionString",abstractKey:null},{kind:"InlineFragment",selections:[a,i,{alias:"pointsContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionPoints",abstractKey:null},{kind:"InlineFragment",selections:[a,i,{alias:"specsContent",args:null,concreteType:"DescriptionSpecDetail",kind:"LinkedField",name:"content",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],type:"DescriptionSpecs",abstractKey:null},{kind:"InlineFragment",selections:[a,i,{alias:"tableContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionTable",abstractKey:null},{kind:"InlineFragment",selections:[a,i,{alias:"headerContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionHeader",abstractKey:null},{kind:"InlineFragment",selections:[a,i,{alias:"boldContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionStringBold",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="f5443b1193b0aed988404fef7c7338fe";let r=l},952060(e,t,n){n.d(t,{J:()=>l,f:()=>r});var a=n(296540);let i=(0,a.createContext)(null),l=i;function r(){let e=(0,a.use)(i);return e?.featuredCommentId}},250181(e,t,n){n.d(t,{A:()=>H});var a,i=n(97407),l=n(296540),r=n(671468),o=n(749145);n(369487);var s=n(236507),d=n(432174),c=n(100559),u=n(398801),p=n(643357),m=n(474848);function g({comment:e}){(0,l.useEffect)(()=>{(0,i.A)("SingleCommentPreview","/app/common/react/components/auth-desktop-web-closeup/CanonicalCard/SingleCommentPreview.tsx")},[]);let t=(0,p.A)(),{user:{first_name:n,image_medium_url:a,username:r},tags:o=[]}=e,g="",h="userdiditdata"===e.type&&e.details?e.details:"",f="aggregatedcomment"===e.type&&e.text?e.text:h,y=[e.user];if("aggregatedcomment"===e.type){y.push(...e.tagged_users);let n=e.media?.media_type===1;g=`${r} ${n?f||(0,c.sA)(t):f}`}else g=`${r} ${f||(0,c.t_)(t)}`;let _=(0,c.bp)(r,o),x="aggregatedcomment"===e.type&&1===e.comment_tag;return(0,m.jsx)(l.Fragment,{children:(0,m.jsxs)(s.so,{alignItems:"stretch",justifyContent:"start",children:[(0,m.jsx)(s.az,{marginEnd:2,children:(0,m.jsx)(d.A,{accessibilityLabel:" ",isQuestion:x,name:n||r||"",size:"xs",src:a??""})}),(0,m.jsx)(s.so,{direction:"column",flex:"grow",justifyContent:"center",children:(0,m.jsx)(s.so,{justifyContent:"between",children:(0,m.jsx)(s.so.Item,{minWidth:0,children:(0,m.jsx)(s.so,{dataTestId:"author-and-comment-container",direction:"column",children:(0,m.jsx)(u.A,{inCommentFeedPreview:!0,isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:y,tags:_,text:g})})})})})]})})}var h=n(571601),f=n(608172),y=n(875899),_=n(23704),x=n(381681),b=n(952060),v=n(662464),S=n(741345),A=n(808993),k=n(632321),P=n(449798),w=n(698781),j=n(542098),C=n(534955),F=n(468133),D=n(568677),I=n(398304),T=n(755701),K=n(922149),z=n(243042),E=n(348391),L=n(361552),R=n(241955),B=n(541959);let M=(void 0!==a||(a=n(912119)).hash&&"4fdeefd50a00fa48652c32d94cc84583"!==a.hash&&console.error("The definition of 'CanonicalCard_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),$=({aggregatedPinId:e,closeupAttributionId:t,closeupAttributionUsername:n,commentCount:a,commentsDisabled:d,commentsLoadedCallback:u,featuredCommentId:b,isLoadingNewCreatedComment:R,isORBACProfileManager:$,isVideo:H,onCommentSectionClick:O,photoCount:U,pinKey:V,pinId:N,pinnerId:J,scrollContainerRef:G,shouldShowHeading:W,storyPinDataId:X,viewParameter:Y})=>{(0,l.useEffect)(()=>{(0,i.A)("CanonicalCard","/app/common/react/components/auth-desktop-web-closeup/CanonicalCard/CanonicalCard.tsx")},[]);let Q=(0,p.A)(),{logContextEvent:q}=(0,k.o)(),{isBot:Z}=(0,C._8)(),ee=(0,D.qJ)(),et=(0,S.p$)(),en=(0,w.A)(M,V),{closeupWithinMasonryEnabled:ea,isCommentThreadExpanded:ei,peekCloseupEnabled:el,setIsCommentThreadExpanded:er,viewportSize:eo}=(0,z._G)(),es=(0,x.A)({showProductDetailPage:!!en?.isEligibleForPdp}),ed=(0,l.useRef)(null),ec=(0,l.useRef)(null),[eu,ep]=(0,l.useState)(!1),[em,eg]=(0,l.useState)(),[eh,ef]=(0,l.useState)(!1),[ey,e_]=(0,l.useState)(!1),[ex,eb]=(0,l.useState)(),[ev,eS]=(0,l.useState)(void 0),[eA,ek]=(0,l.useState)(void 0),[eP,ew]=(0,l.useState)(!1),ej=(0,P.A)(),eC=(0,I.A)(),eF=(0,T.H7)(ej,eC),{toggleCommentLike:eD,toggleCommentHelpful:eI}=function(e){let t=(0,r.wA)(),{toggleAggregatedCommentLike:n,toggleAggregatedCommentHelpful:a}=(0,S.Vc)();return{toggleCommentLike:(a,i,l)=>()=>{l?t((0,A.oF)({didItDataId:a,isLikedByMe:i,orbacSubjectId:e})):n({aggregatedCommentId:a,isLikedByMe:i,orbacSubjectId:e})},toggleCommentHelpful:(n,i,l)=>()=>{l?t((0,A.Jj)({didItDataId:n,isMarkedHelpfulByMe:i,orbacSubjectId:e})):a({aggregatedCommentId:n,isMarkedHelpfulByMe:i,orbacSubjectId:e})}}}(eF),eT=6*!ea,eK=0;ea&&!es&&(eK=4);let ez=Math.max(a+U,0),eE=ez>0,eL=b?[b]:[],eR=`${(0,l.useId)()}-comments-thread-container`,eB=(0,l.useRef)(!eE),{fetchMore:eM,isAtEnd:e$,isFetching:eH,isLoaded:eO}=(0,F.A)((ea&&eE||!eB.current)&&e?(0,L.j)({aggregatedPinDataId:e,featuredCommentIds:eL,isDesktop:ee,orbacSubjectId:eF}):null),eU=(0,r.d4)(t=>(0,B.A)(t,{aggregatedPinDataId:e,aggregatedComments:et})),eV=eU?.length>0&&eU.find(e=>"aggregatedcomment"===e.type),eN=!d&&eP&&!ei&&!!eV&&(ea||es)&&!el;(0,l.useEffect)(()=>{u?.(eO||!eE)},[u,eO,eE]),(0,l.useEffect)(()=>(ei&&eu&&(ec.current=Date.now()),()=>{ec.current&&(q({component:14381,event_type:16258,object_id_str:N,aux_data:{time_in_ms:Date.now()-ec.current}}),ec.current=null)}),[ei,eu,q,N]);let eJ=(0,m.jsx)(v.A,{aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:n,comments:eU,commentsDisabled:d,commentsScrollContainerRef:ed,featuredCommentId:b,gapSize:5,id:eR,isDesktop:!0,isLoading:!eO&&(R||eH),isORBACProfileManager:$,isVideo:H,parentId:e??void 0,parentType:K.S.pin,pinId:N,pinnerId:J,reactionListCommentId:eA,replyingToCommentId:ev,showReactionListForComment:ek,storyPinDataId:X,toggleHelpful:eI,toggleLike:eD,toggleReplyComposer:e=>{eS(e?.id)},userAvatarSize:c.xo,viewParameter:Y}),eG=e=>(0,m.jsxs)(l.Fragment,{children:[!!G&&(0,m.jsx)(s.WY,{container:ea?ed.current??void 0:G,fetchMore:Z?void 0:eM,isAtEnd:e$,isFetching:eH}),(0,m.jsxs)(h.A,{nodeRef:e??void 0,paddingLeft:8*!!ea,paddingRight:8*!!ea,children:[eJ,(0,m.jsx)(f.A,{show:ea&&eE&&ei&&ey,surface:"comment-body-scrolling"})]})]}),eW=0,{fiftyPercentHeight:eX}=(0,_.Vc)();el&&(eW=eX,"sm"===eo&&(eW=`calc(${eX}/2)`));let eY=`
    .comment-section-enter {
      max-height: 0;
      opacity: 0;
    }

    .comment-section-enter-active {
      max-height: ${eW};
      opacity: 1;
      transition: max-height 500ms ease-out, opacity 500ms ease-out;
    }

    .comment-section-exit {
      max-height: ${eW};
      opacity: 1;
    }

    .comment-section-exit-active {
      max-height: 0;
      opacity: 0;
      transition: max-height 500ms ease-out, opacity 500ms ease-out;
    }
  `;(0,l.useEffect)(()=>{if(!ea)return()=>{};let e=()=>{(ed?.current?.scrollTop??0)>0?ef(!0):ef(!1),(ed?.current?.scrollHeight??0)>(ed?.current?.clientHeight??0)&&e_(!0)},t=ed.current;return t&&t.addEventListener("scroll",e),()=>{t&&t.removeEventListener("scroll",e)}},[ea,ei]),(0,l.useEffect)(()=>{let e=setTimeout(()=>{ew(!0)},1e3*!ea);return()=>clearTimeout(e)},[ea]);let eQ=eP&&(ei||!eE||d),eq=(0,l.useRef)(null);return(0,m.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{overflowX:"hidden"}},id:"canonical-card",marginBottom:es?2:void 0,children:(0,m.jsxs)(s.so,{dataTestId:"canonical-card",direction:"column",gap:el?void 0:{row:0,column:eT},children:[(0,m.jsxs)(s.Rp,{accessibilityControls:ei&&eE?eR:void 0,accessibilityExpanded:ei,dataTestId:"canonical-card-tap-area",disabled:!!d||!eE,onTap:()=>{er?.(!ei),O?.(!ei),eu||ei||ep(!0)},children:[W&&!d&&(0,m.jsx)(s.so.Item,{children:(0,m.jsxs)(s.az,{color:ea?"washLight":void 0,children:[(0,m.jsx)(y.A,{collapsed:!ei,heading:(0,c.rr)(d?0:ez,Q),showArrow:!d&&eE}),(0,m.jsx)(f.A,{show:ea&&eE&&eh&&ei&&!es,surface:"comment-heading"})]})}),eN&&(0,m.jsx)(s.az,{"aria-hidden":"true",marginBottom:eK,marginTop:1,children:(0,m.jsx)(g,{comment:eV})})]}),el&&(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(j.A,{unsafeCSS:eY}),(0,m.jsx)(o.A,{classNames:"comment-section",in:eP&&(ei||!eE),nodeRef:eq,timeout:1e3,unmountOnExit:!0,children:eG(eq)})]}),eQ&&!es&&!el&&eG(),es&&(0,m.jsxs)(l.Fragment,{children:[eQ&&(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(s.WY,{container:ed.current??void 0,fetchMore:Z?void 0:eM,isAtEnd:e$,isFetching:eH}),eJ]}),(0,m.jsxs)(s.ib,{bottom:0,children:[(!!ex||!!em)&&(0,m.jsx)(E.A,{onClose:()=>{eg(null),eb(null)},replyToComment:ex}),(0,m.jsx)(f.A,{show:ea&&eE&&ei&&ey,surface:"comment-body-scrolling"})]})]})]})})};function H(e){(0,l.useEffect)(()=>{(0,i.A)("CanonicalCard","/app/common/react/components/auth-desktop-web-closeup/CanonicalCard/CanonicalCard.tsx")},[]);let t=(0,r.wA)();return(0,m.jsx)($,{...e,featuredCommentId:(0,b.f)(),pinUpdateCommentCount:(e,n)=>t((0,R.t)(e,n))})}},757407(e,t,n){n.d(t,{A:()=>h});var a,i=n(97407),l=n(296540),r=n(671468);n(234784);var o=n(822903),s=n(632321),d=n(698781),c=n(972756),u=n(243042),p=n(849844),m=n(474848);let g=(void 0!==a||(a=n(503298)).hash&&"9ab15ab4baca1bcd4b35d42d577e0b0e"!==a.hash&&console.error("The definition of 'CloseupFavoriteButtonTest_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function h({pinKey:e}){let t,n;(0,l.useEffect)(()=>{(0,i.A)("CloseupFavoriteButton","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupFavoriteButton.tsx")},[]);let{logContextEvent:a}=(0,s.o)(),h=(0,d.A)(g,e),f=(0,r.wA)(),{closeupWithinMasonryEnabled:y}=(0,u._G)(),{board:_,entityId:x,favoritedByMe:b,section:v}=h;_&&([t,n]=(0,p.o)(_.url??""));let S=e=>{a({event_type:101,component:13791,element:e?12225:12226,object_id_str:x,view_type:3})};return(0,m.jsx)(o.A,{favorited:b,isCloseupButton:!0,onFavorite:()=>{S(!0),f((0,c.Q5)("BoardResource",{username:n,slug:t,field_set_key:"detailed"})),f((0,c.Q5)("BoardSectionResource",{board_slug:t,section_slug:v?.slug,username:n}))},onUnfavorite:()=>{S(!1)},pinId:x,size:y?"sm":24})}},571601(e,t,n){n.d(t,{A:()=>o});var a=n(97407),i=n(296540),l=n(236507),r=n(474848);function o({children:e,paddingRight:t,paddingLeft:n,paddingBottom:o,marginTop:s,nodeRef:d}){return(0,i.useEffect)(()=>{(0,a.A)("CloseupMetadataPadding","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupMetadataPadding.tsx")},[]),(0,r.jsx)(l.az,{ref:d??void 0,dangerouslySetInlineStyle:{__style:{paddingRight:`${t}px`,paddingLeft:n?`${n}px`:void 0,paddingBottom:o?`${o}px`:void 0,marginTop:s?`${s}px`:void 0,overflowX:"hidden"}},width:"100%",children:e})}},608172(e,t,n){n.d(t,{A:()=>r});var a=n(236507),i=n(243042),l=n(474848);let r=function(e){let{show:t,surface:n}=e,{closeupWithinMasonryEnabled:r}=(0,i._G)();return r?(0,l.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{borderTop:t?"1px solid #E9E9E9":void 0,opacity:+!!t}},"data-test-id":`${n}-divider`,width:"100%"}):t&&(0,l.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #EFEFEF"}}})}},744924(e,t,n){n.d(t,{j:()=>o,r:()=>s});var a=n(97407),i=n(296540),l=n(474848);let r=(0,i.createContext)(void 0);function o({children:e}){(0,i.useEffect)(()=>{(0,a.A)("VisitButtonAnimationContext","/app/common/react/components/auth-desktop-web-closeup/VisitButtonAnimationContext.tsx")},[]);let[t,n]=(0,i.useState)(!1),o=(0,i.useRef)(null),s=()=>{null!==o.current&&(window.clearTimeout(o.current),o.current=null)};(0,i.useEffect)(()=>()=>s(),[]);let d=(0,i.useCallback)(()=>{s(),n(!0),o.current=window.setTimeout(()=>{n(!1),o.current=null},2e3)},[]),c=(0,i.useMemo)(()=>({animateVisitSite:t,triggerVisitButtonAnimation:d}),[t,d]);return(0,l.jsx)(r.Provider,{value:c,children:e})}function s(){return(0,i.use)(r)||{animateVisitSite:!1,triggerVisitButtonAnimation:()=>{}}}},964796(e,t,n){n.d(t,{A:()=>s});var a=n(296540),i=n(278106),l=n(534955),r=n(568677),o=n(965485);let s=({carouselContainsVideo:e,isShufflePin:t})=>{let{isAuthenticated:n}=(0,l._8)(),s=(0,r.qJ)(),d=(0,o.g)((0,i.zy)());return(0,a.useMemo)(()=>({isCloseupMediaViewerEnabled:n&&s&&d&&!t&&!e}),[n,s,d,t,e])}},81808(e,t,n){n.d(t,{A:()=>g});var a,i=n(97407),l=n(296540);n(234784);var r=n(236507),o=n(632321),s=n(194637),d=n(698781),c=n(243042),u=n(964205),p=n(474848);let m=(void 0!==a||(a=n(581879)).hash&&"076ac514bfbb048036e79417ec3c0eb5"!==a.hash&&console.error("The definition of 'OfficialUserAttributionText_user' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function g({clickable:e=!0,getDisplayName:t,onMouseDown:n,userKey:a}){(0,l.useEffect)(()=>{(0,i.A)("OfficialUserAttributionText","/app/common/react/components/shopping/ProductDetailPage/OfficialUserAttributionText.tsx")},[]);let{logContextEvent:g}=(0,o.o)(),h=(0,d.A)(m,a),{peekCloseupEnabled:f}=(0,c._G)(),{isVerifiedMerchant:y,fullName:_="",verifiedIdentity:x,username:b,isAdsOnlyProfile:v,adsOnlyProfileSite:S,imageMediumUrl:A}=h,k=h.avatarColorIndex,P=y||x?.verified,w=(0,p.jsxs)(r.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{gap:"8px"}},direction:"row",display:"flex",onMouseDown:()=>{n&&n()},children:[f&&(0,p.jsx)(s.eu,{color:k,name:_??"",size:"xs",src:A??""}),(0,p.jsx)(r._Y,{accessibilityLevel:2,children:(0,p.jsx)(r.KJ,{lineClamp:1,size:f?"200":"300",weight:"bold",children:t?t(_??""):_??""})})]});if(!e)return w;let j=v&&!!S;return(0,p.jsxs)(r.so,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,p.jsx)(r.az,{children:j?(0,p.jsx)(r.$A,{href:S||"",onTap:()=>{g({event_type:9371,element:13382,aux_data:{aop_origin:"OfficialUserAttributionText"}})},rel:"nofollow",target:"blank",children:w}):(0,p.jsx)(r.$A,{href:`/${b}/`,children:w})}),P&&(0,p.jsx)(r.az,{marginStart:2,children:(0,p.jsx)(u.A,{isVerifiedIdentity:x?.verified||!1,isVerifiedMerchant:y||!1,size:"sm"})})]})}},527751(e,t,n){n.d(t,{A:()=>E});var a,i,l,r,o,s,d=n(97407),c=n(296540);n(369487);var u=n(236507),p=n(827812),m=n(381681),g=n(632321),h=n(698781),f=n(643357),y=n(431092),_=n(333384),x=n(675254),b=n(580145),v=n(474848);let S=(void 0!==a||(a=n(481788)).hash&&"0115eb52db8bd36a1a82754d3c39b478"!==a.hash&&console.error("The definition of 'StructuredDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),A=(void 0!==i||(i=n(81607)).hash&&"733093776dc8e837966fbdda29e9d4c5"!==i.hash&&console.error("The definition of 'StructuredDescriptionText_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),k=({children:e,dangerouslySetInlineStyle:t,marginTop:n})=>(0,v.jsx)(u.az,{dangerouslySetInlineStyle:t,"data-test-id":"structured-description",marginTop:n,children:e}),P=({content:e,order:t,type:n,pinKey:a})=>{let i=(0,h.A)(A,a),{hyperlinkKeywordsEnabled:l}=(0,p.A)(i);if(!e)return null;let r=n===b._.HEADER,o=void 0!==n&&[b._.HEADER,b._.BOLD].includes(n),s=t>0&&r?4:2*(0!==t);return i&&l?(0,v.jsx)(k,{marginTop:s,children:(0,v.jsx)(u.KJ,{color:"subtle",inline:!0,size:"200",weight:o?"bold":"normal",children:(0,v.jsx)(x.A,{description:e,mentionLinkColor:"link",pinKey:i,shouldAdjustOffset:!1,textSize:"200"})})}):(0,v.jsx)(k,{marginTop:s,children:(0,v.jsx)(u.KJ,{color:"subtle",size:"200",weight:o?"bold":"normal",children:e})})},w=({content:e,order:t})=>e?(0,v.jsx)(k,{marginTop:2*(0!==t),children:e}):null,j=({content:e,order:t,isInBlendedUIExp:n})=>Array.isArray(e)&&0!==e.length?(0,v.jsx)(k,{marginTop:2*(0!==t),children:e.map(e=>(0,v.jsxs)(u.az,{direction:"row",display:"flex",marginStart:1,marginTop:1,children:[(0,v.jsx)(u.KJ,{color:n?"subtle":"default",inline:!0,size:"200",weight:"bold",children:"Â·"}),(0,v.jsx)(u.az,{marginStart:1,children:(0,v.jsx)(u.KJ,{color:n?"subtle":"default",size:"200",children:e})})]},e))}):null,C=({accessibilityLabel:e,content:t,order:n})=>t&&"object"==typeof t?(0,v.jsx)(k,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:2*(0!==n),children:(0,v.jsx)(u.XI,{accessibilityLabel:e,children:(0,v.jsx)(u.XI.Body,{children:Object.entries(t).map(([e,t],n)=>(0,v.jsxs)(u.XI.Row,{children:[(0,v.jsx)(u.XI.Cell,{children:(0,v.jsx)(u.KJ,{size:"100",weight:"bold",children:e})}),(0,v.jsx)(u.XI.Cell,{children:(0,v.jsx)(u.KJ,{size:"100",children:String(t)})})]},n))})})}):null,F=({accessibilityLabel:e,content:t,order:n})=>{if(!Array.isArray(t)||t.length<2)return null;let a=t[0],i=t.slice(1);return(0,v.jsx)(k,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:2*(0!==n),children:(0,v.jsxs)(u.XI,{accessibilityLabel:e,children:[(0,v.jsx)(u.XI.Header,{children:(0,v.jsx)(u.XI.Row,{children:a.map((e,t)=>(0,v.jsx)(u.XI.HeaderCell,{children:(0,v.jsx)(u.KJ,{size:"100",weight:"bold",children:e})},t))})}),(0,v.jsx)(u.XI.Body,{children:i.map((e,t)=>(0,v.jsx)(u.XI.Row,{children:e.map((e,t)=>(0,v.jsx)(u.XI.Cell,{children:(0,v.jsx)(u.KJ,{size:"100",children:e})},t))},t))})]})})},D=e=>{let t=(void 0!==l||(l=n(251719)).hash&&"f867b797951e2d08797cfc2a432829dd"!==l.hash&&console.error("The definition of 'StructuredDescriptionComponent_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),a=(0,h.A)(t,e.pinKey),i=(0,f.A)(),r=(0,m.A)({showProductDetailPage:!!a?.isEligibleForPdp});switch(e.type){case b._.POINTS:return(0,v.jsx)(j,{...e,isInBlendedUIExp:r});case b._.SPECS:return(0,v.jsx)(C,{accessibilityLabel:i.bt("Specification view of description", "Specification view of description", "webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredSpecs", undefined, true),...e});case b._.TABLE:return(0,v.jsx)(F,{accessibilityLabel:i.bt("Table view of description", "Table view of description", "webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredTable", undefined, true),...e});case b._.ELEMENT:return(0,v.jsx)(w,{...e});default:return(0,v.jsx)(P,{...e,pinKey:a})}};function I({descriptions:e,onLoad:t,pinKey:n}){(0,c.useEffect)(()=>{(0,d.A)("StructuredDescription","/app/www/structuredDescription/StructuredDescription.tsx")},[]);let a=(0,h.A)(S,n);return((0,c.useEffect)(()=>{"function"==typeof t&&t()},[t]),0===e.length)?null:e.map(({content:e,type:t},n)=>(0,v.jsx)(D,{content:e,order:n,pinKey:a,type:t},n))}let T=(void 0!==r||(r=n(235430)).hash&&"9758e05746f41597abb102ff4c921bd8"!==r.hash&&console.error("The definition of 'ProductDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),K=({structuredDescription:e,type:t,pinKey:a})=>{let i=(void 0!==o||(o=n(461996)).hash&&"0ea92af6ed3e580e484b6776204f5277"!==o.hash&&console.error("The definition of 'ProductDescriptionAccordion_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),l=(0,h.A)(i,a),r=(0,f.A)(),s="expandable"===t&&e[0].type===b._.PARAGRAPH,d=r.bt("Product details", "Product Details", "productDetails.accordionHeader.text", undefined, true);return(0,v.jsx)(_.A,{heading:d,children:(0,v.jsx)(u.az,{paddingY:+!s,children:(0,v.jsx)(I,{descriptions:e,onLoad:()=>{(0,y.Uy)("description")},pinKey:l})})})},z=({isOpen:e,onOpen:t,structuredDescription:a,pinKey:i})=>{let l=(void 0!==s||(s=n(304906)).hash&&"778f9a67c785189deaaa1c4cfec46ad3"!==s.hash&&console.error("The definition of 'ProductDescriptionPreview_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),r=(0,h.A)(l,i),o=(0,m.A)({showProductDetailPage:!!r?.isEligibleForPdp}),[d,p]=(0,c.useState)(!1),g=(0,f.A)(),_=(0,c.useRef)(null),x=o?g.bt("See more", "See more", "productDescription.productDescriptionPreview.cta", undefined, true):g.bt("See details", "See details", "productDescription.productDescriptionPreview.cta", undefined, true),b=e?g.bt("See less", "See less", "productDescription.productDescriptionPreview.cta", undefined, true):x;return(0,c.useLayoutEffect)(()=>{if(!_.current||e)return;let t=setTimeout(()=>{let e=_.current;if(!e)return;let t=e.parentElement;if(!t)return;let n=e.cloneNode(!0);n.style.webkitLineClamp="unset",n.style.position="absolute",n.style.visibility="hidden",n.style.pointerEvents="none";try{t.appendChild(n);let a=e.getBoundingClientRect().height,i=n.getBoundingClientRect().height;p(i>a)}finally{t.removeChild(n)}},10);return()=>clearTimeout(t)},[a,e]),(0,v.jsxs)(u.az,{"data-test-id":"product-description-preview",display:"block",children:[(0,v.jsx)(u._Y,{size:"300",children:g.bt("Description", "Description", "productDescription.productDescriptionPreview.header", undefined, true)}),(0,v.jsx)(u.az,{marginTop:2,position:"relative",children:(0,v.jsx)(u.az,{ref:_,dangerouslySetInlineStyle:{__style:{...e?{}:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",lineClamp:3,boxOrient:"vertical"},transition:"height 200ms ease-in-out"}},children:(0,v.jsx)(I,{descriptions:a,onLoad:()=>{_.current&&(0,y.Uy)("description")},pinKey:r})})}),d&&(0,v.jsx)(u.so,{justifyContent:"end",children:(0,v.jsx)(u.Rp,{display:"inlineBlock",fullWidth:!1,onTap:t,children:(0,v.jsx)(u.KJ,{align:"end",size:"200",weight:"bold",children:b})})})]})};function E(e){(0,c.useEffect)(()=>{(0,d.A)("ProductDescription","/app/common/react/components/shopping/ProductDetailPage/ProductDescription.tsx")},[]);let{commerceData:t,structuredDescription:n,type:a="accordion",viewParameter:i,pinKey:l}=e,r=(0,h.A)(T,l),{logContextEvent:o}=(0,g.o)(),[s,u]=(0,c.useState)(!1),m=(0,p.A)(r);return((0,c.useEffect)(()=>{o({event_type:120,component:13597,view_type:3,view_parameter:i,aux_data:{...t}})},[]),m||0!==n.length)?"preview"===a?(0,v.jsx)(z,{...e,isOpen:s,onOpen:()=>{u(!s),o({event_type:101,component:13597,view_type:3,element:s?13278:13277,view_parameter:i,aux_data:{...t}}),o({event_type:101,component:13597,view_type:3,element:10492,view_parameter:i,aux_data:{...t}})},pinKey:r}):(0,v.jsx)(K,{...e,pinKey:r}):null}},408197(e,t,n){n.d(t,{A:()=>es});var a,i,l=n(97407),r=n(296540);n(234784);var o=n(278106),s=n(236507),d=n(250181),c=n(757407),u=n(571601),p=n(608172),m=n(23704),g=n(116149),h=n(174171),f=n(381681),y=n(609583),_=n(769233),x=n(81808),b=n(527751),v=n(940540),S=n(698781),A=n(853846),k=n(723062),P=n(588628),w=n(508658),j=n(243042),C=n(580072),F=n(474848);let D=(void 0!==a||(a=n(498222)).hash&&"8dced786a95725beb90a797a0e54242b"!==a.hash&&console.error("The definition of 'ProductHeading_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function I({clientTrackingParams:e,enableDynamicSizeAdjustment:t,link:n,pinKey:a,text:i,onClickThrough:o}){(0,r.useEffect)(()=>{(0,l.A)("ProductHeading","/app/common/react/components/shopping/ProductDetailPage/ProductHeading.tsx")},[]);let d=(0,S.A)(D,a),c=(0,r.useRef)(null),[u,p]=(0,r.useState)("500"),{closeupWithinMasonryEnabled:m,peekCloseupEnabled:g}=(0,j._G)(),h=(0,f.A)({showProductDetailPage:!!d?.isEligibleForPdp}),y=(0,A.A)({href:n||"",clientTrackingParams:(0,C.A)(e,d?.trackingParams),externalData:{pin:d&&{attributionSourceId:d.attributionSourceId,board:d.board&&{url:d.board.url},campaignId:d.campaignId,entityId:d.entityId,isDownstreamPromotion:d.isDownstreamPromotion,isPromoted:d.isPromoted,pinner:d.pinner&&{username:d.pinner.username},pinPromotionId:d.pinPromotionId,promoter:d.promoter&&{entityId:d.promoter.entityId},storyPinDataId:d.storyPinDataId,trackingParams:d.trackingParams,advertiserId:d.advertiserId}}}),_=(0,w.A)({clickthroughType:"middleClick",location:"closeup.shopping.productTitle"}),x=(0,F.jsx)(s.az,{ref:c,children:(0,F.jsx)(s._Y,{id:"product-heading",lineClamp:g?2:void 0,size:m&&!h?"400":u,children:i})});return(0,r.useEffect)(()=>{if(!c||!c.current||!t)return;let e=c.current.querySelector("#product-heading");if(!e)return;let n=Number(e.offsetHeight)||0;Number.isFinite(n)&&p(2>=Math.floor(n/33)?"500":"400")},[t,c]),(0,F.jsx)(P.e,{children:({hovered:t,onMouseEnter:a,onMouseLeave:i})=>(0,F.jsx)(v.A,{clientTrackingParams:e,hovered:t,pinKey:d,viewType:3,children:(0,F.jsx)(s.az,{onMouseEnter:a,onMouseLeave:i,children:n?(0,F.jsx)(s.az,{"data-test-id":"link-navigation",children:(0,F.jsx)(s.KJ,{children:(0,F.jsx)(s.N_,{_onAuxClick:({event:e})=>{(0,k.sz)(e)&&(_(),e.stopPropagation(),y({event:e}),o({componentType:14284}))},href:n,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),y({event:e}),o({componentType:14284})},underline:"none",children:x})})}):x})})})}var T=n(929518),K=n(907041),z=n(164023),E=n(289067),L=n(604637),R=n(632321),B=n(528074),M=n(449798),$=n(643357),H=n(542098),O=n(104735),U=n(622165),V=n(451464),N=n(431092),J=n(534955),G=n(87431),W=n(804538),X=n(879662),Y=n(568677),Q=n(84220),q=n(398304),Z=n(755701),ee=n(532189),et=n(590733),en=n(413385),ea=n(763332),ei=n(580145);let el=(0,n(947814).A)(()=>n.e("63022").then(n.bind(n,973102)),void 0,e=>973102,"CloseupPartnerModule",e=>["63022"]),er=(void 0!==i||(i=n(230909)).hash&&"8ed29d5d26af8aa30c941d0f84109e71"!==i.hash&&console.error("The definition of 'ProductMetadata_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),eo=({clientTrackingParams:e,closeupUnifiedTitle:t,durationDays:n,finalLink:a,inBlendedUIExp:i,lowestPrice:l,onClickThrough:o,pin:d,productTitleMarginTop:c,renderDomainOwner:u,renderPriceAndRatings:p,showDomainOwner:m,showDomainOwnerOnTop:g,showPriceHistorySummary:h,showTitle:f,typicalPrice:y})=>(0,F.jsxs)(r.Fragment,{children:[m&&g&&u(),f&&!!t&&(0,F.jsx)(s.az,{"data-test-id":"product-title",marginTop:c,children:(0,F.jsx)(I,{clientTrackingParams:e,enableDynamicSizeAdjustment:i,link:a,onClickThrough:o,pinKey:d,text:t})},"product-title"),p(),h&&(0,F.jsx)(s.az,{"data-test-id":"product-price-history-summary",marginTop:2,children:(0,F.jsx)(et.A,{priceHistorySummary:{durationDays:n,lowestPrice:l,typicalPrice:y}})},"product-price-history-summary"),m&&!g&&u()]});function es({clientTrackingParams:e,detailsScrollContainerRef:t,hideShopButton:n,isBoardOwnerOrCollaborator:a,isLoadingNewlyCreatedComment:i,onClickThrough:v,outerPaddingSize:A,pinKey:P,showPartnerModule:w,showPDPComments:C,showPinStats:D,showTrendsOnPinCloseup:I,trendsData:et,viewParameter:es,blendedUIScrollContainerRef:ed}){(0,r.useEffect)(()=>{(0,l.A)("ProductMetadata","/app/common/react/components/shopping/ProductDetailPage/ProductMetadata.tsx")},[]);let ec=(0,$.A)(),{logContextEvent:eu}=(0,R.o)(),ep=(0,M.A)(),{closeupWithinMasonryEnabled:em,peekCloseupEnabled:eg,viewportSize:eh}=(0,j._G)(),{sideBySideFullWidthCTAEnabled:ef}=(0,h.A)(),ey=(0,S.A)(er,P),e_=(0,f.A)({showProductDetailPage:!!ey.isEligibleForPdp}),ex=(0,U.A)(),eb=(0,Y.Ay)(),ev=(0,r.useRef)(null),eS=ed||ev,{affiliateDisclosure:eA,affiliateLink:ek,carouselData:eP,closeupAttribution:ew,closeupUnifiedDescription:ej,closeupUnifiedTitle:eC,gridTitle:eF,favoritedByMe:eD,isDownstreamPromotion:eI,isEligibleForPreLovedGoodsLabel:eT,isGoLinkless:eK,isOosProduct:ez,isStaleProduct:eE,linkUserWebsite:eL,linkDomain:eR,promoter:eB,richMetadata:eM,sponsorship:e$,storyPinData:eH,nativeCreator:eO}=ey,eU=()=>{(0,N.Uy)("shopButton")},eV=(0,Q.A)(ey)(),{isAuthenticated:eN}=(0,J._8)(),{carouselInfo:eJ}=(0,y.M)(),eG=(0,q.A)(),eW=(0,Z.H7)(ep,eG),eX=(0,Z.Hs)(ep,ey?.pinner?.entityId,eG),eY=eM?.products?.[0],{inStock:eQ,maxPrice:eq,minPrice:eZ,price:e0,standardPrice:e1,unitPrice:e4,unitPricingBaseUnits:e2,unitPricingUnitType:e5}=eY?.offerSummary||{},{durationDays:e7,lowestPrice:e3,typicalPrice:e8}=eY?.priceHistorySummary||{},e9=Number.isInteger(e7)&&(!!e3||!!e8),e6=ez||!1===eQ,{ratingValue:te,reviewCount:tt,ratingCount:tn}=eM?.aggregateRating||{},ta=!!te&&(tt||tn),{brand:ti,shippingInfo:tl}=eY||{},tr=eL?.officialUser?.firstName,{officialUser:to}=eR||{},ts=ew||to,{firstName:td}=ts||{},tc=(0,W.A)(tr||td||"",20),{name:tu}=ti||{},tp=!!tu,tm=(0,o.zy)(),tg=!eN&&(0,O.isBoardPage)(tm),th=!!(eB&&!eI)&&eB?.entityId===eO?.entityId,tf=!!ek,ty=!!eH?.hasAffiliateProducts,t_=(!!e$||ty||tf)&&!th&&!tg,tx=(0,r.useCallback)(e=>{if(e&&tp){let t=eg?"200":void 0;return(0,F.jsx)(s.KJ,{align:"center",size:t,weight:"normal",children:e})}return e},[tp,eg]),tb=(ej||"").trim(),tv=(0,ea.A)(ey),tS=(0,ei.R)({components:tv,pinDescription:tb}),tA=(eJ?.carouselData?.carousel_slots?.length??0)>0,tk=(0,r.useMemo)(()=>{let e=eF||eC;if(tA){let{carouselData:t}=eJ||{},{carousel_slots:n=[],index:a}=t||{};n&&null!=a&&n[a]&&(e=n[a].title||e)}return e},[eJ,eC,eF,tA]),{link:tP,trackedLink:tw,utmLink:tj}=ey||{},tC=(0,k.iF)({utmLink:tj,trackedLink:tw,link:tP})||"",tF=(0,X.A)(tC)??tC,{currentDomain:tD}=(0,g.A)({carouselData:eP&&{carouselSlots:eP.carouselSlots&&eP.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:eP?.index},domain:ey.domain}),tI=tD.split(".")[0],{freeShippingPrice:tT,freeShippingValue:tK}=tl||{},tz=!!tT||!!tK,tE=!!(ta||tz),tL=!n&&(tc||tI)&&tF&&!eK,tR=A??ee.bZ,tB=6*!em,tM="desktop"===eb&&!!eT&&!e6&&ex.checkExperiment("web_organic_pre_loved_goods_label").anyEnabled,t$=eD?ec.bt("Remove from favourites", "Remove from favorites", "closeup.productMetadata.removeFromFavorites", undefined, true):ec.bt("Add to favourites", "Add to favorites", "closeup.productMetadata.addToFavorites", undefined, true),tH=(ey.aggregatedPinData?.commentCount??0)+(ey.aggregatedPinData?.didItData?.imagesCount??0),tO=!!ey.isEligibleForAggregatedComments&&(!e_||tH>0),tU=!(eg&&ey.aggregatedPinData?.commentCount===0),tV=[...tS.length>0&&tb?[(0,F.jsx)(u.A,{paddingLeft:em?tR/2:0,paddingRight:em?tR/2:0,children:(0,F.jsx)(s.az,{"data-test-id":"product-description",children:(0,F.jsx)(b.A,{commerceData:eV,pinKey:ey,structuredDescription:tS,type:"expandable",viewParameter:es})})},"closeupProductDescription")]:[],...a?[(0,F.jsx)(u.A,{paddingLeft:em?tR/2:0,paddingRight:em?tR/2:0,children:(0,F.jsxs)(s.az,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:2*!em,marginTop:2,children:[em?(0,F.jsx)(s._Y,{size:"400",children:t$}):(0,F.jsx)(s.KJ,{weight:"bold",children:t$}),(0,F.jsx)(c.A,{pinKey:ey})]})},"closeupProductMetadataFavoriteBarMetadataPadding")]:[]],tN=()=>(0,F.jsxs)(s.az,{alignItems:e_?"start":"center",dangerouslySetInlineStyle:{__style:{columnGap:em?4:8,flexWrap:em?"wrap":void 0}},direction:e_?"column":"row",display:"flex",marginTop:e_?1:2,children:[(0,F.jsx)(s.az,{"data-test-id":"product-price",children:(0,F.jsx)(_.A,{id:"ProductPrice",children:(0,F.jsx)(T.A,{colorOverride:"default",isSoldOut:e6,isStale:eE,productDetails:{maxPrice:eq,minPrice:eZ,price:e0,standardPrice:e1,unitPrice:e4,unitPricingBaseUnits:e2,unitPricingUnitType:e5},showPreOwnedLabel:tM,type:em?"mobileHeading":"heading",weight:e_?"bold":"normal"})})},"product-price"),tE&&(e_?(0,F.jsx)(_.A,{id:"VerticalProductRatingsAndShipping",children:(0,F.jsx)(E.A,{bracket:!0,compact:!1,count:tn||tt,countFormat:"number",countType:tn?"rating":"review",hideSeparationDot:!0,ratingValue:te,shippingInfo:{freeShippingPrice:tT,freeShippingValue:tK}})}):(0,F.jsx)(_.A,{id:"ProductRatingsAndShipping",children:(0,F.jsx)(K.A,{bracket:!0,count:tn||tt,countFormat:"number",countType:tn?"rating":"review",hideSeparationDot:!0,ratingValue:te,shippingInfo:{freeShippingPrice:tT,freeShippingValue:tK}})}))]}),tJ=()=>ts?(0,F.jsx)(s.az,{"data-test-id":"pdp-product-metadata-domain-owner",marginBottom:e_?1:2,marginTop:2*!e_,children:(0,F.jsx)(_.A,{id:"OfficialUserAttributionText",children:(0,F.jsx)(x.A,{getDisplayName:tx,onMouseDown:tp?()=>{eu({event_type:102,object_id_str:ey.entityId,view_type:3,view_parameter:144,element:13592,aux_data:eV})}:void 0,userKey:ts})})}):null,tG=()=>(0,F.jsx)(u.A,{paddingBottom:eg?tR/2:void 0,paddingRight:0,children:(0,F.jsx)(s.az,{"data-test-id":"product-shop-button",marginTop:em||e_?0:3,children:(0,F.jsx)(L.A,{clientTrackingParams:e,color:"secondary",fullWidth:ef,link:tF,onClickThrough:v,onLoad:eU,pinKey:ey,text:ec.bt("Visit site", "Visit site", "closeup.shop.button", undefined, true)})})}),tW=4;em?tW=0:eg&&ts&&(tW=2);let tX=`
    [data-testid="product-metadata-details-flex"] > div:last-of-type {
      margin-top: auto;
    }
  `;return(0,F.jsxs)(s.az,{dangerouslySetInlineStyle:{__style:{flexDirection:e_?"column":void 0}},display:e_?"flex":"block",height:e_?"100%":void 0,marginTop:em&&!e_?2:0,children:[e_&&(0,F.jsx)(r.Fragment,{children:(0,F.jsxs)(s.az,{color:"default",marginBottom:4,children:[(0,F.jsx)(s.az,{marginBottom:3,children:(0,F.jsx)(_.A,{id:"ProductMetadataHeader",children:(0,F.jsx)(eo,{clientTrackingParams:e,closeupUnifiedTitle:tk??void 0,durationDays:e7??void 0,finalLink:tF,inBlendedUIExp:e_,lowestPrice:e3??void 0,onClickThrough:v,pin:ey,productTitleMarginTop:tW,renderDomainOwner:tJ,renderPriceAndRatings:tN,showDomainOwner:!!ts,showDomainOwnerOnTop:!0,showPriceHistorySummary:e9,showTitle:!!tk,typicalPrice:e8??void 0})})}),tA&&(0,F.jsx)(s.az,{marginBottom:3,children:(0,F.jsx)(V.A,{containerId:"InnerScrollContainer",children:(0,F.jsx)(z.A,{accessibilityControls:`closeup-image-container-${ey.entityId}`,commerceData:eV,inBlendedUIExp:e_,layout:e_?"row":"column",pinId:ey.entityId,size:"lg",surfaceType:"closeup",viewParameter:156})})}),tL&&(!em||e_)&&tG()]})}),em&&w&&(0,F.jsx)(u.A,{paddingRight:A,children:(0,F.jsx)(s.az,{"data-test-id":"PartnerModule",width:"100%",children:(0,F.jsx)(B.A,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,F.jsx)(G.A,{children:(0,F.jsx)(el,{borderStyle:m.ZL,isStoryPin:!1,pinKey:ey,showPinStats:D,trendsData:I?et?.data?.results:null,viewportSize:eh})})})})}),eg&&(0,F.jsx)(u.A,{paddingRight:0,children:tJ()}),(0,F.jsxs)(s.az,{ref:eS,dangerouslySetInlineStyle:{__style:{overflowY:eg||e_?"auto":void 0,paddingRight:eg?`${m.T3}px`:void 0}},height:eg?"100%":void 0,marginBottom:a||C?0:5,marginEnd:eg?void 0:tB,marginTop:em&&!e_?2:0,children:[eg&&(0,F.jsx)(H.A,{unsafeCSS:tX}),(0,F.jsxs)(s.so,{"data-testid":"product-metadata-details-flex",direction:"column",height:eg?"100%":void 0,children:[(0,F.jsxs)(u.A,{paddingLeft:em&&!e_?tR/2:0,paddingRight:em&&!e_?tR/2:0,children:[(0,F.jsxs)(s.az,{alignItems:em?"start":void 0,display:em?"flex":void 0,justifyContent:em?"between":void 0,children:[(0,F.jsxs)(s.so.Item,{flexBasis:!em||e_?"100%":"77%",children:[!e_&&(0,F.jsx)(eo,{clientTrackingParams:e,closeupUnifiedTitle:tk??void 0,durationDays:e7??void 0,finalLink:tF,inBlendedUIExp:!1,lowestPrice:e3??void 0,onClickThrough:v,pin:ey,productTitleMarginTop:tW,renderDomainOwner:tJ,renderPriceAndRatings:tN,showDomainOwner:!eg&&!e_&&!!ts,showDomainOwnerOnTop:!1,showPriceHistorySummary:e9,showTitle:!!tk,typicalPrice:e8??void 0}),t_&&!eg&&(0,F.jsx)(s.az,{marginBottom:4,children:(0,F.jsx)(_.A,{id:"SponsorshipText",children:(0,F.jsx)(en.A,{affiliateDisclosure:eA,hasAffiliateLink:tf,hasAffiliateProducts:ty})})})]}),tL&&em&&!e_&&(0,F.jsx)(s.az,{alignItems:"stretch",display:ef?"block":"flex",flex:"grow",justifyContent:"end",children:tG()})]}),e_&&tS.length>0&&tb&&(0,F.jsx)(s.az,{"data-test-id":"product-description",children:(0,F.jsx)(b.A,{commerceData:eV,pinKey:ey,structuredDescription:tS,type:"preview",viewParameter:es})})]}),(0,F.jsxs)(s.so,{alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"start",children:[(0,F.jsx)(r.Fragment,{children:!e_&&tV.map((e,t)=>(0,F.jsxs)(r.Fragment,{children:[e,(0,F.jsx)(u.A,{paddingLeft:tR/2,paddingRight:tR/2,children:(0,F.jsx)(s.az,{marginBottom:2,marginTop:2,width:"100%",children:(0,F.jsx)(p.A,{show:!!(tO&&tU||t<tV.length-1),surface:"product-metadata-details"})})})]},`detailFragment-${e.key}`))}),(!tV.length||e_)&&(0,F.jsx)(s.az,{marginBottom:3,marginTop:tO&&tU?3:0,width:"100%",children:(0,F.jsx)(p.A,{show:(em||e_)&&tO&&tU&&tH>0,surface:"product-metadata-details"})}),C&&(0,F.jsx)(u.A,{paddingBottom:em?tR/2:void 0,paddingLeft:em&&!e_?tR/2:0,paddingRight:em&&!e_?ee.bZ/2:0,children:tO&&(0,F.jsx)(B.A,{name:"ProductPinCanonicalCard",children:(0,F.jsx)(_.A,{id:"CanonicalCard",children:(0,F.jsx)(d.A,{aggregatedPinId:ey.aggregatedPinData?.entityId,closeupAttributionId:ey.closeupAttribution?.entityId,closeupAttributionUsername:ey.closeupAttribution?.username,commentCount:ey.aggregatedPinData?.commentCount??0,commentsDisabled:ey.commentsDisabled,isLoadingNewCreatedComment:i,isORBACProfileManager:eX,isShopTheLook:ey.aggregatedPinData?.isShopTheLook,isVideo:!!ey.videos?.videoList,orbacSubjectId:eW,photoCount:ey.aggregatedPinData?.didItData?.imagesCount??0,pinId:ey.entityId,pinKey:ey,pinnerId:ey.pinner?.entityId,scrollContainerRef:e_?eS.current:t,shouldShowHeading:tU,storyPinDataId:ey.storyPinData?.entityId,viewParameter:es})})})},"closeupProductMetadataComments")]})]})]})]})}},907041(e,t,n){n.d(t,{A:()=>p});var a=n(97407),i=n(296540),l=n(236507),r=n(196866),o=n(810531),s=n(243042),d=n(156591),c=n(719262),u=n(474848);function p({count:e,countType:t,countFormat:n,hideSeparationDot:p,bracket:m,ratingValue:g,unauthPdp:h,shippingInfo:f}){(0,i.useEffect)(()=>{(0,a.A)("ProductRatingsAndShipping","/app/common/react/components/shopping/ProductDetailPage/ProductRatingsAndShipping/ProductRatingsAndShipping.tsx")},[]);let{closeupWithinMasonryEnabled:y,peekCloseupEnabled:_}=(0,s._G)(),{mWebCloseupRedesignEnabled:x}=(0,r.A)();return(0,u.jsxs)(l.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{columnGap:y?4:void 0,rowGap:8}},display:"flex",wrap:!0,children:[(0,u.jsx)(d.A,{bracket:m,count:e,countFormat:n,countType:t,rating:g,textSize:_||x?"200":"300",unauthPdp:h}),(0,u.jsx)(l.az,{marginStart:!y&&(0,c.A)({count:e,rating:g})&&p?2:0,children:(0,u.jsx)(o.A,{customStyles:{color:"default",size:_||x?"200":"300"},freeShippingPrice:f?.freeShippingPrice,freeShippingValue:f?.freeShippingValue,showPrevDot:(0,c.A)({count:e,rating:g})&&!p})})]})}},164023(e,t,n){n.d(t,{A:()=>I,d:()=>C});var a=n(97407),i=n(296540),l=n(236507),r=n(964796),o=n(609583),s=n(671468),d=n(632321),c=n(643357),u=n(196303),p=n(156301),m=n(584733),g=n(474848);function h({accessibilityControls:e,accessibilityLabel:t,currentlySelectedIndex:n,index:o,onSelect:h,pinId:f,isDarkMode:y=!1,isSelectOnHover:_,size:x,thumbnail:b,mediaType:v="image",viewParameter:S,inBlendedUIExp:A}){(0,i.useEffect)(()=>{(0,a.A)("CarouselItem","/app/common/react/components/shopping/ProductDetailPage/CarouselItem.tsx")},[]);let{logContextEvent:k}=(0,d.o)(),P=(0,s.wA)(),w=(0,c.A)(),[j,C]=(0,i.useState)(!1),{isCloseupMediaViewerEnabled:F}=(0,r.A)({isShufflePin:!1}),D=(0,i.useCallback)(e=>{"video"===v&&e&&!j&&(C(!0),k({event_type:13,component:13596,element:12831,view_type:3,view_parameter:S}))},[k,v,S,j]),I=(0,u.A)({onVisibilityChanged:D}),T=()=>{P((0,m.p8)(f,o)),h(o)},K=n===o||!n&&0===o;return(0,g.jsx)(l.az,{ref:I,children:(0,g.jsx)(l.Rp,{accessibilityControls:e,accessibilityCurrent:!!K||void 0,accessibilityLabel:t,onMouseEnter:({event:e})=>{e.preventDefault(),e.stopPropagation(),_&&T()},onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),_||T()},rounding:F?400:void 0,children:(0,g.jsx)(p.A,{isDarkMode:y,outlined:K,rounding:F?400:void 0,type:A?"border":void 0,children:(0,g.jsxs)(l.az,{position:"relative",children:[(0,g.jsx)(l.n1,{height:x,wash:!0,width:x,children:(0,g.jsx)(l._V,{alt:"",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:b})}),"video"===v&&(0,g.jsx)(l.az,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:"absolute",top:!0,width:"100%",children:(0,g.jsx)(l.In,{accessibilityLabel:w.bt("Secondary carousel video icon", "Secondary Carousel Video Icon", "secondaryCarousel.carouselItem.videoIndicatorIcon", undefined, true),color:"light",icon:"play",size:20})})]})})})})}var f=n(534955);let y=()=>{};function _({direction:e,handleNavHoverToggle:t,leftHover:n,isDarkMode:r=!1,hasBlurredBackground:o=!1,onScroll:s,rightHover:d,shouldPadArrows:u,size:p="md"}){(0,i.useEffect)(()=>{(0,a.A)("DeprecatedArrows","/app/common/react/components/shopping/ProductDetailPage/DeprecatedArrows/DeprecatedArrows.tsx")},[]);let m=(0,c.A)(),{isRTL:h}=(0,f._8)(),_=function({direction:e,isDarkMode:t,isRTL:n,leftHover:a,rightHover:i,shouldPadArrows:l,verticalSize:r,hasBlurredBackground:o=!1},s){let d={backgroundImage:`linear-gradient(to ${e}, rgba(255, 255, 255, 0) 0%, #fff 90%)`,height:"100%",top:"0px",bottom:void 0},c={color:t?"inverse":"default",height:"40px",justifyContent:"center",left:void 0,right:void 0},u={sm:"54px",md:"124px",lg:"28px"};return{up:{...c,backgroundImage:o?"":`linear-gradient(${t?"#000 0%, rgba(0, 0, 0, 0) 90%":"#fff 0%, rgba(255, 255, 255, 0) 90%"})`,bottom:"",icon:"chevron-up",label:s.bt("Up arrow", "Up arrow", "product.carousel.arrowUp", undefined, true),top:"0px",width:u[r]},down:{...c,backgroundImage:o?void 0:`linear-gradient(${t?"rgba(0, 0, 0, 0) 0%, #000 90%":"rgba(255, 255, 255, 0) 0%, #fff 90%"})`,bottom:"0px",icon:"chevron-down",label:s.bt("Down arrow", "Down arrow", "product.carousel.arrowDown", undefined, true),top:void 0,width:u[r]},left:{...d,color:l||a?"default":"subtle",icon:n?"chevron-right":"chevron-left",justifyContent:"start",label:s.bt("Left arrow", "Left arrow", "Label for left arrow button in search guides", undefined, true),left:"0px",right:void 0,width:n?"22px":"210px"},right:{...d,color:l||i?"default":"subtle",icon:n?"chevron-left":"chevron-right",justifyContent:"end",label:s.bt("Right arrow", "Right arrow", "Label for right arrow button in search guides", undefined, true),left:void 0,right:"0px",width:n?"22px":"210px"}}}({direction:e,isDarkMode:r,isRTL:h,leftHover:n,rightHover:d,shouldPadArrows:u,verticalSize:p,hasBlurredBackground:o},m);return(0,g.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{willChange:"transform",pointerEvents:"none",top:_[e].top,bottom:_[e].bottom,left:_[e].left,right:_[e].right}},height:_[e].height,position:"absolute",children:(0,g.jsx)(l.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundImage:_[e].backgroundImage,marginTop:u?"25px":void 0}},display:"flex",height:"100%",justifyContent:_[e].justifyContent,width:_[e].width,children:(0,g.jsx)("button",{onClick:s,onMouseEnter:t?()=>t(e,!0):y,onMouseLeave:t?()=>t(e,!1):y,style:{backgroundColor:"transparent",border:0,height:"100%",outline:"none",padding:0,pointerEvents:"all"},children:(0,g.jsx)(l.so,{alignItems:"center",height:"100%",justifyContent:_[e].justifyContent,width:"50px",children:(0,g.jsx)(l.In,{accessibilityLabel:_[e].label,color:_[e].color,icon:_[e].icon})})})})})}var x=n(370346);function b({direction:e,isDarkMode:t=!1,onScroll:n}){return(0,i.useEffect)(()=>{(0,a.A)("SecondaryCarouselArrows","/app/common/react/components/shopping/ProductDetailPage/SecondaryCarouselArrows.tsx")},[]),(0,g.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{top:"50%",transform:"translateY(-50%)",..."left"===e?{left:"8px"}:{right:"8px"}}},position:"absolute",zIndex:new l.rk(10),children:(0,g.jsx)(x.A,{children:(0,g.jsx)(l.K0,{accessibilityLabel:`${e} arrow`,bgColor:"default",icon:"left"===e?"chevron-left":"chevron-right",iconColor:t?"light":"dark",onClick:({event:e})=>n(e),size:"sm"})})})}var v=n(542098),S=n(327467),A=n(331829),k=n(802905),P=n(991402),w=n(243042),j=n(254319);let C=52,F={lg:60,md:120,sm:52},D=`
  .ProductCarousel-InnerScrollContainer {
    -ms-overflow-style: none;
    overflow-x: hidden;
    overflow-y: auto;
  }
  .ProductCarousel-InnerScrollContainer::-webkit-scrollbar {
    display: none;
  }
  .ProductCarousel-InnerScrollContainer--row {
    -ms-overflow-style: none;
    overflow-x: auto;
    overflow-y: hidden;
  }
  .ProductCarousel-InnerScrollContainer--row::-webkit-scrollbar {
    display: none;
  }
`;function I({accessibilityControls:e,commerceData:t={},isSelectOnHover:n,layout:s="column",onImageSelect:u,pinId:p,size:m,surfaceType:f,viewParameter:y,inBlendedUIExp:x}){let C;(0,i.useEffect)(()=>{(0,a.A)("SecondaryCarousel","/app/common/react/components/shopping/ProductDetailPage/SecondaryCarousel.tsx")},[]);let{logContextEvent:I}=(0,d.o)(),T=(0,c.A)(),{isCloseupMediaViewerEnabled:K}=(0,r.A)({isShufflePin:!1}),{carouselInfo:z}=(0,o.M)(),E=z?.handleCarouselSwipe,L=z?.carouselData?.carousel_slots??[],R=z?.carouselData?.index??0,[B,M]=(0,i.useState)(),[$,H]=(0,i.useState)(0),[O,U]=(0,i.useState)(),[V,N]=(0,i.useState)(),[J,G]=(0,i.useState)(),[W,X]=(0,i.useState)(!1),[Y,Q]=(0,i.useState)(!1),[q,Z]=(0,i.useState)(!1),[ee,et]=(0,i.useState)(!1),[en,ea]=(0,i.useState)(!1),ei=(0,j.g)(),{closeupWithinMasonryEnabled:el}=(0,w._G)(),er=(0,i.useRef)(null),eo=(0,i.useRef)(null),es=F[m],ed=K&&"media-viewer"===f,ec=K&&"media-viewer"===f;(0,i.useEffect)(()=>{I({event_type:120,component:13596,view_type:3,view_parameter:y,aux_data:{pin_id:p,...t}})},[]),(0,i.useEffect)(()=>{if(!B||!er.current)return;let e=er.current.getBoundingClientRect();H(Math.floor(e.top)),U(Math.floor(e.bottom)),G(Math.floor(e.top)),N(Math.floor(e.bottom))},[er.current,B]),(0,i.useEffect)(()=>{if(er.current){let{height:e,top:t,bottom:n}=er.current.getBoundingClientRect();H(Math.floor(t)),U(Math.floor(n)),M(Math.floor(e))}},[L.length]),(0,i.useEffect)(()=>{!B&&er.current&&M(Math.floor(er.current.getBoundingClientRect().height))},[er.current]);let eu=8/(el?2:1);(0,i.useEffect)(()=>{$&&J&&V&&O&&L.length>=4&&($<J?X(!0):X(!1),O>=490+ei+eu?Q(!0):Q(!1))},[$,O,J,V]);let ep=()=>{if(!eo.current)return;let{scrollTop:e,scrollHeight:n,clientHeight:a,scrollLeft:i,scrollWidth:l,clientWidth:r}=eo.current;if("column"===s)X(e>0),Q(e+a<n-5);else{let e=l>r,t=e&&i>0,n=e&&i+r<l-5;Z(t),et(n)}("column"===s?e>0:i>0)&&!en&&(ea(!0),I({event_type:110,component:13596,view_type:3,view_parameter:y,aux_data:{pin_id:p,...t}}))},em=(0,i.useRef)(ep);(0,i.useEffect)(()=>{em.current=ep}),(0,i.useEffect)(()=>{em.current()},[s,L.length,B]);let eg=eo.current;(0,i.useEffect)(()=>{let e=(0,P.A)(()=>{if(er.current){let e=er.current.getBoundingClientRect();H(Math.floor(e.top)),U(Math.floor(e.bottom)),em.current()}},16);return eg?.addEventListener("scroll",e),()=>{eg?.removeEventListener("scroll",e)}},[eg]);let eh=(e,t=!1)=>{0===e||(C&&C.cancel(),er.current&&eo.current&&(t?eo.current.scrollBy({left:e,behavior:"smooth"}):(C=(0,k.A)(eo.current,0,e,{easingFunction:"ease-in-out",scrollSpeedPxPerMs:.8,onAnimationComplete:()=>{C=null},extendToEdgeDistanceY:50})).start(),ep()))};return(0,g.jsxs)(l.az,{dangerouslySetInlineStyle:{__style:{marginTop:`${eu}px`}},overflow:"hidden",position:"relative",children:[(0,g.jsx)(v.A,{unsafeCSS:D}),(0,g.jsx)("div",{ref:eo,className:`ProductCarousel-InnerScrollContainer${"row"===s?"--row":""}`,"data-test-id":"InnerScrollContainer",id:"InnerScrollContainer",style:{maxHeight:"column"===s?490:void 0,maxWidth:"row"===s?"100%":void 0,cursor:"default"},children:(0,g.jsx)(l.az,{ref:er,alignItems:"center",dangerouslySetInlineStyle:{__style:{columnGap:"8px",rowGap:"16px"}},direction:"row"===s?"row":"column",display:"flex",justifyContent:"row"===s?"start":"center",marginEnd:"row"===s?4:6*!el,position:"relative",width:"row"===s?"100%":es+4,children:L.map((a,i)=>{let{images:l,videos:r}=a,{thumbnail:o,mediaType:s}=r?{thumbnail:r.cover_image_url,mediaType:"video"}:{thumbnail:(0,A.A)({images:l,resolutionPreferences:["564x","736x","236x"]})?.url,mediaType:"image"};return(0,g.jsx)(h,{accessibilityControls:e,accessibilityLabel:(0,S.$)(T.bt("image {{ index }} of {{ total }}", "image {{ index }} of {{ total }}", "secondaryCarousel.carouselItem.accessibilityLabel", undefined, true),{index:(i+1).toString(),total:L.length.toString()}),currentlySelectedIndex:R,inBlendedUIExp:x,index:i,isDarkMode:ed,isSelectOnHover:n,mediaType:s,onSelect:()=>{(u||E)&&(I({event_type:101,component:13596,element:"image"===s?11922:12831,view_type:3,view_parameter:y,aux_data:{...t}}),u?.(i),E?.(i))},pinId:p,size:es,thumbnail:o||"",viewParameter:y},`carousel-item-${a.image_signature||""}-${i}`)})})}),!!B&&L.length>3&&(0,g.jsxs)(l.az,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},height:B>490?494:B+4,overflow:"hidden",position:"absolute",top:!0,width:"100%",children:["column"===s&&W&&(0,g.jsx)(_,{direction:"up",hasBlurredBackground:ec,isDarkMode:ed,onScroll:e=>{e.preventDefault(),e.stopPropagation(),eh(-100)},size:m}),"column"===s&&Y&&(0,g.jsx)(_,{direction:"down",hasBlurredBackground:ec,isDarkMode:ed,onScroll:e=>{e.preventDefault(),e.stopPropagation(),eh(100)},size:m}),"row"===s&&q&&(0,g.jsx)(b,{direction:"left",isDarkMode:ed,onScroll:e=>{e.preventDefault(),e.stopPropagation(),eh(-(eo.current?Math.floor(.85*eo.current.clientWidth):100),!0)},size:m}),"row"===s&&ee&&(0,g.jsx)(b,{direction:"right",isDarkMode:ed,onScroll:e=>{e.preventDefault(),e.stopPropagation(),eh(eo.current?Math.floor(.85*eo.current.clientWidth):100,!0)},size:m})]})]})}},709986(e,t,n){n.d(t,{A:()=>d});var a=n(97407),i=n(296540),l=n(236507),r=n(474848);let o=()=>(0,r.jsx)(l.az,{alignSelf:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"var(--base-color-grayscale-150)"}},height:44,width:1}),s=()=>(0,r.jsx)(l.KJ,{color:"subtle",size:"200",children:"â¢"});function d({icon:e,iconAccessibilityLabel:t,children:n,dataTestId:d,iconColor:c="default",iconSize:u=18,layout:p="vertical",separatorType:m="line",showSeparator:g=!0}){return(0,i.useEffect)(()=>{(0,a.A)("VerticalIconSection","/app/common/react/components/shopping/ProductDetailPage/VerticalIconSection.tsx")},[]),(0,r.jsxs)(l.so,{alignItems:"center",direction:"row",gap:2,children:[g&&("dot"===m?(0,r.jsx)(s,{}):(0,r.jsx)(o,{})),(0,r.jsxs)(l.so,{alignItems:"horizontal"===p?"center":"start",direction:"horizontal"===p?"row":"column",gap:1,children:[(0,r.jsx)(l.az,{"data-test-id":d,children:(0,r.jsx)(l.In,{accessibilityLabel:t,color:c,icon:e,size:u})}),n]})]})}},289067(e,t,n){n.d(t,{A:()=>d});var a=n(97407),i=n(296540),l=n(236507),r=n(709986),o=n(810531),s=n(474848);function d({compact:e=!1,count:t,iconColor:n="default",iconSize:d=18,layout:c="vertical",ratingValue:u,separatorType:p="line",shippingInfo:m,textSize:g="200"}){(0,i.useEffect)(()=>{(0,a.A)("VerticalProductRatingAndShipping","/app/common/react/components/shopping/ProductDetailPage/VerticalProductRatingAndShipping.tsx")},[]);let h=null!=u?parseFloat(u):0,f=null!=u&&!Number.isNaN(h);return(0,s.jsx)(l.az,{marginTop:3*!e,paddingY:2*!e,width:"100%",children:(0,s.jsxs)(l.so,{alignItems:"start",gap:e?2:void 0,justifyContent:e?"start":"between",children:[f&&(0,s.jsx)(r.A,{dataTestId:"rating-star-full",icon:"star",iconAccessibilityLabel:"Star rating",iconColor:n,iconSize:d,layout:c,separatorType:p,showSeparator:!1,children:(0,s.jsxs)(l.so,{gap:1,children:[(0,s.jsx)(l.KJ,{color:"subtle",size:g,children:h.toFixed(1)}),null!=t&&t>0&&(0,s.jsx)(l.az,{"data-test-id":"ratings-count-text",children:(0,s.jsxs)(l.KJ,{color:"subtle",size:g,children:["(",t,")"]})})]})}),(m?.freeShippingPrice||m?.freeShippingValue)&&(0,s.jsx)(l.so.Item,{flexBasis:(()=>{if(!e)return f?"50%":"100%"})(),children:(0,s.jsx)(r.A,{icon:"box",iconAccessibilityLabel:"Shipping",iconColor:n,iconSize:d,layout:c,separatorType:p,showSeparator:f,children:(0,s.jsx)(o.A,{customStyles:{color:"subtle",size:g},freeShippingPrice:m?.freeShippingPrice,freeShippingValue:m?.freeShippingValue,showPrevDot:!1})})})]})})}},604637(e,t,n){n.d(t,{A:()=>b});var a,i=n(97407),l=n(296540);n(234784);var r=n(236507),o=n(744924),s=n(940540),d=n(698781),c=n(542098),u=n(853846),p=n(723062),m=n(622165),g=n(588628),h=n(508658),f=n(243042),y=n(474848);let _=(void 0!==a||(a=n(934924)).hash&&"e327c6c7127550a2f17b174cd4dcfa73"!==a.hash&&console.error("The definition of 'VisitButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),x=`
  .visit-button-animate {
    position: relative;
    overflow: hidden;
    transform-origin: center;
  }
  .visit-button-animate.pulse-glow {
    animation: pulseGlowShadow 1000ms ease-in-out 0ms 1;
  }
  .visit-button-animate.pulse-glow :where(svg, span, div) {
    transform-origin: center;
    animation: pulseGlowScale 1000ms ease-in-out 0ms 1;
  }
  @keyframes pulseGlowShadow {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4);
    }
    50% {
      box-shadow: 0 0 20px 5px rgba(255, 255, 255, 0.2);
    }
  }
  @keyframes pulseGlowScale {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
  }
  .visit-button-animate::before {
    content: '';
    position: absolute;
    top: 0;
    left: -120%;
    width: 120%;
    height: 100%;
    background: linear-gradient(90deg,
      transparent 0%,
      rgba(255,255,255,0.2) 30%,
      rgba(255,255,255,0.7) 50%,
      rgba(255,255,255,0.2) 70%,
      transparent 100%);
    animation: visitBtnShimmer 1000ms ease-out 0ms 1;
  }
  @keyframes visitBtnShimmer {
    0% { left: -120%; }
    100% { left: 100%; }
  }
`;function b({clientTrackingParams:e,color:t,link:n,onClickThrough:a,onLoad:b,pinKey:v,text:S,fullWidth:A=!1}){(0,l.useEffect)(()=>{(0,i.A)("VisitButton","/app/common/react/components/shopping/ProductDetailPage/VisitButton.tsx")},[]);let k=(0,d.A)(_,v),{peekCloseupEnabled:P}=(0,f._G)(),{animateVisitSite:w}=(0,o.r)(),{anyEnabled:j}=(0,m.A)().checkExperiment("closeup_dweb_visit_site_animation"),C=(0,h.A)({clickthroughType:"middleClick",location:"closeup.visitButton"}),F=(0,u.A)({href:{pathname:n,state:{trackingParams:e}},clientTrackingParams:e,externalData:{pin:k&&{attributionSourceId:k.attributionSourceId,board:k.board&&{url:k.board.url},campaignId:k.campaignId,entityId:k.entityId,isDownstreamPromotion:k.isDownstreamPromotion,isPromoted:k.isPromoted,pinner:k.pinner&&{username:k.pinner.username},pinPromotionId:k.pinPromotionId,promoter:k.promoter&&{entityId:k.promoter.entityId},storyPinDataId:k.storyPinDataId,trackingParams:k.trackingParams,advertiserId:k.advertiserId}}});return(0,l.useEffect)(()=>{"function"==typeof b&&b()},[b]),(0,y.jsx)(g.e,{children:({hovered:i,onMouseEnter:l,onMouseLeave:o})=>(0,y.jsx)(s.A,{clientTrackingParams:e,hovered:i,pinKey:k,viewType:3,children:(0,y.jsxs)("div",{className:w&&j?"visit-button-animate pulse-glow":void 0,children:[(0,y.jsx)(c.A,{unsafeCSS:x}),(0,y.jsx)(r.vx,{_onAuxClick:({event:e})=>{(0,p.sz)(e)&&(C(),e.stopPropagation(),a({componentType:194}),F({event:e}))},_onMouseEnter:l,_onMouseLeave:o,color:t,fullWidth:P||A,href:n,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),a({componentType:194}),F({event:e})},rel:"nofollow",size:"lg",text:S})]})})})}},360272(e,t,n){n.d(t,{A:()=>r});var a=n(97407),i=n(296540),l=n(474848);let r=({color:e="#111"})=>((0,i.useEffect)(()=>{(0,a.A)("ConversationReply","/app/packages/gestalt-custom-svg/dynamicSVGs/ConversationReply.tsx")},[]),(0,l.jsx)("svg",{"data-test-id":"conversation-reply",display:"block",fill:"none",height:"12",viewBox:"0 0 12 12",width:"12",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"m0 9.99945c0 .55505.45 1.00005 1.005 1.00005s1.005-.45 1.005-1.00005c0-2.07 1.69-3.755 3.765-3.755h2.4l-1.57 1.565c-.39.39-.39 1.025 0 1.415s1.025.39 1.42 0l3.975-3.965-3.97-3.965c-.39-.389997-1.025-.389997-1.42 0-.39.39-.39 1.025 0 1.415l1.53 1.525h-2.365c-3.185 0-5.775 2.585-5.775 5.765z",fill:e})}))},810531(e,t,n){n.d(t,{A:()=>p});var a=n(97407),i=n(296540),l=n(236507),r=n(643357),o=n(327467),s=n(241891),d=n(474848);function c(){return (0,r.A)().bt("Free delivery", "Free shipping", "closeup.product.shipping", undefined, true)}function u({freeShippingPrice:e}){let t=(0,r.A)();return(0,o.vQ)(t.bt("Free delivery with {{ shippingPrice }}+", "Free shipping with {{ shippingPrice }}+", "closeup.product.shipping", undefined, true),{shippingPrice:e}).join("")}function p({customStyles:e,showPrevDot:t,freeShippingPrice:n,freeShippingValue:r}){let o;(0,i.useEffect)(()=>{(0,a.A)("ShippingCostText","/app/packages/product-shipping/ShippingCostText.tsx")},[]);let p=t?[""]:[],{color:m="subtle",size:g="200"}=e||{};return Number.isFinite(r)?(0===r?o=(0,d.jsx)(c,{}):n&&(o=(0,d.jsx)(u,{freeShippingPrice:n})),o&&p.push((0,d.jsx)(l.so,{direction:"row",children:o})),0===p.length)?null:(0,d.jsx)(l.KJ,{color:m,size:g,children:(0,d.jsx)(s.A,{color:m,items:p})}):null}},451464(e,t,n){n.d(t,{A:()=>d});var a=n(97407),i=n(296540),l=n(236507),r=n(237778),o=n(431092),s=n(474848);function d(e){(0,i.useEffect)(()=>{(0,a.A)("ImageContainerPerf","/app/packages/pwt-logger/ImageContainerPerf.tsx")},[]);let t=(0,r.Y)();return(0,i.useEffect)(()=>{let n=document.getElementById(e.containerId),a=async(e,t)=>{let n=e.getBoundingClientRect(),a=t.getBoundingClientRect();return!!n&&!!a&&n.top>=a.top&&n.left>=a.left&&n.bottom<=a.bottom&&n.right<=a.right};if(null==n)t?.removeConstraint("thumbnailsLoaded"),(0,o.$Q)("thumbnailsLoaded");else{let e=Array.from(n.querySelectorAll("*")).filter(e=>e instanceof HTMLElement&&"IMG"===e.tagName&&a(e,n)),i=e.length;e.forEach(e=>{e.onload=void(i-=1),0===i&&(t?.markConstraintComplete("thumbnailsLoaded"),(0,o.Uy)("thumbnailsLoaded"))})}},[e.containerId,t]),(0,s.jsx)(l.az,{id:"imageContainerPerf",children:e.children})}},237778(e,t,n){n.d(t,{Y:()=>i,n:()=>a});let{Provider:a,getMaybe:i}=(0,n(697384).A)("pwtSurfaceContext")},564465(e,t,n){n.d(t,{A:()=>j});var a=n(43227),i=n(494358),l=n(426162),r=n(909711),o=n(724764),s=n(864310),d=n(472452),c=n(889879),u=n(295700),p=n(393084),m=n(688998);let g="stopwatch_v2",h=(0,a.lo)(g),f=new Map,y=[],_=[],x=!1;function b(){let e=performance.now();f.forEach((t,n)=>{e-t.startTimestamp>t.maxDuration&&(h(`Auto-aborting stale stopwatch ${n} after ${t.maxDuration}ms`),w(n,"exceeded_max_duration"))})}function v(e,t,n){performance.mark(`${g}:${e}:${t}`,n?{startTime:n}:void 0)}function S(e,t,n,a){performance.measure(`${g}:${e}:${t}`,n,a)}function A(e){let t=`${g}:${e}:`,n=[`${t}start`,`${t}end`,`${t}subspan:`];return y.filter(e=>e.name.startsWith(t)&&!n.some(t=>e.name.startsWith(t))).map(e=>({label:e.name.slice(t.length),timestamp:e.startTime}))}function k(e,t){let n=`${g}:${e}:subspan:`;return _.filter(e=>e.name.startsWith(n)).map(e=>({name:e.name.slice(n.length),id:(0,d.A)(),parentId:t,startTime:e.startTime,endTime:e.startTime+e.duration,annotationMap:{},binaryAnnotationMap:{}}))}function P(e){let t=`${g}:${e}:`;try{y=y.filter(e=>!e.name.startsWith(t)),_=_.filter(e=>!e.name.startsWith(t))}catch{}let n=f.get(e);n?.resourceObserver?.disconnect(),f.delete(e)}function w(e,t){if(!(0,c.A)())return;let n=f.get(e);if(!n)return void(0,u.J6)({errorName:"stopwatch_not_found",pwtName:e,errorDetailsTag:"abort",version:"2"});h(`Aborted ${e}: ${t}`);let a=performance.now(),{startTimestamp:l}=n,o=(0,d.A)(),g=(0,m.tQ)(),y={type:"stopwatch",name:e},_={type:"ABORT",traceId:o,startTime:l,endTime:a,spans:k(e,o),annotationMap:(0,s.A)(A(e)),binaryAnnotationMap:(0,i.jp)({metricId:y,pwtStaticContext:g,binaryAnnotations:n.binaryAnnotations,performanceResourceTimings:n.resourceBuffer,type:"ABORT",stopwatchVersion:2}),reason:t??"unknown"};(0,r.A)({metricId:y,pwtStaticContext:g,result:_,sampleRate:n.sampleRate,stopwatchVersion:2}),(0,u.HF)({abortReason:t??"unknown",pwtName:e,annotateExperiments:(0,p.e0)(),version:"2"}),P(e)}function j(e,t={}){let{sampleRate:n,maxDuration:a}=t;return{name:e,start:t=>(function(e,t={}){if(!(0,c.A)())return;!function(){if(x||!(0,c.A)())return;x=!0;let e=`${g}:`;try{new PerformanceObserver(t=>{let n=t.getEntries().filter(t=>t.name.startsWith(e));y.push(...n)}).observe({type:"mark",buffered:!0}),new PerformanceObserver(t=>{let n=t.getEntries().filter(t=>t.name.startsWith(e));_.push(...n)}).observe({type:"measure",buffered:!0}),setInterval(b,1e4)}catch{}}(),f.has(e)&&(h(`Stopwatch ${e} already active, aborting previous`),w(e,"new_stopwatch_started"));let n=t.startTime??performance.now(),{observer:a,buffer:i}=function(){let e=[];if(!(0,c.A)())return{observer:null,buffer:e};try{let t=new PerformanceObserver(t=>{if(e.push(...t.getEntries()),e.length>5e3){let t=e.length-5e3;e.splice(0,t),(0,u.pI)({eventName:"resourceBufferTruncated.v2",tags:{dropped:t,remaining:5e3}}),h("Resource buffer truncated",{dropped:t,remaining:5e3})}});return t.observe({type:"resource",buffered:!1}),{observer:t,buffer:e}}catch{return{observer:null,buffer:e}}}();f.set(e,{sampleRate:t.sampleRate??1,binaryAnnotations:{},resourceObserver:a,resourceBuffer:i,startTimestamp:n,maxDuration:t.maxDuration??6e4}),v(e,"start",n),(0,u.Lc)({pwtName:e,annotateExperiments:(0,p.e0)(),version:"2"}),h(`Started ${e}`)})(e,{...t,sampleRate:n,maxDuration:a}),stop:t=>(function(e,t){var n;let a;if(!(0,c.A)())return;let y=f.get(e);if(!y)return void(0,u.J6)({errorName:"stopwatch_not_found",pwtName:e,errorDetailsTag:"stop",version:"2"});let _=t??performance.now();v(e,"end",_);let{startTimestamp:x}=y;S(e,"duration",`${g}:${e}:start`,`${g}:${e}:end`);let b=(0,d.A)(),w=(0,m.tQ)(),j={type:"stopwatch",name:e},C={type:"COMPLETE",metricId:j,traceId:b,startTime:x,endTime:_,spans:[...k(e,b),...(n=y.resourceBuffer,[{name:"network_resources",id:a=(0,d.A)(),parentId:b,startTime:x,endTime:_,annotationMap:{},binaryAnnotationMap:{}},...n.filter(e=>e.responseEnd>0&&e.startTime>=x&&e.responseEnd<=_).map(e=>(0,o.A)((0,l.B)(e,[]),a)).filter(Boolean)])],annotationMap:(0,s.A)(A(e)),binaryAnnotationMap:(0,i.jp)({metricId:j,pwtStaticContext:w,binaryAnnotations:y.binaryAnnotations,performanceResourceTimings:y.resourceBuffer,type:"COMPLETE",stopwatchVersion:2})};h(`Stopped ${e}`,{duration:_-x}),(0,r.A)({metricId:j,pwtStaticContext:w,result:C,sampleRate:y.sampleRate,stopwatchVersion:2}),(0,u.ed)({pwtName:e,annotateExperiments:(0,p.e0)(),version:"2"}),P(e)})(e,t),abort:t=>w(e,t),annotate:t=>{(0,c.A)()&&f.has(e)&&(v(e,t),h(`${e} annotation: ${t}`))},binaryAnnotate:(t,n,a)=>{let i;(i=f.get(e))&&(i.binaryAnnotations={...i.binaryAnnotations,[t]:{value:n,type:a}},h(`${e} binary: ${t}=${String(n)}`))},subspanStart:t=>{(0,c.A)()&&f.has(e)&&(v(e,`subspan:${t}:start`),h(`${e} subspan start: ${t}`))},subspanStop:t=>(function(e,t){if((0,c.A)()&&f.has(e)){v(e,`subspan:${t}:end`);try{S(e,`subspan:${t}`,`${g}:${e}:subspan:${t}:start`,`${g}:${e}:subspan:${t}:end`),h(`${e} subspan stop: ${t}`)}catch{h(`${e} subspan stop failed: ${t}`)}}})(e,t),isActive:()=>f.has(e)}}},746867(e,t,n){n.d(t,{A:()=>i});let a=(0,n(564465).A)("search_tab_render");function i(){return a}},196303(e,t,n){n.d(t,{A:()=>o});var a=n(296540);let i=new Map,l=null,r=e=>{e.forEach(e=>{let t=i.get(e.target);t&&t(e)})};function o({onVisibilityChanged:e,trackFullVisible:t,rootMargin:n}){let o=(0,a.useRef)(null),s=!1,d=()=>{let t;o.current instanceof HTMLElement&&(t=o.current,i.has(t))&&s&&(e(!1),s=!1)},c=(0,a.useCallback)(n=>{o.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",n)=>{let a={root:"u"<typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};l=l||new window.IntersectionObserver(r,a),i.set(e,n),l.observe(e)})(o.current,n,n=>{if(!i.has(o.current))return;let a=t?n.intersectionRatio>=1:n.intersectionRatio>=.5,l=t?0===n.intersectionRatio:!a;!s&&a?(s=n.intersectionRatio>0||n.isIntersecting)&&e(!0):s&&l&&d()})},[o.current]);return(0,a.useEffect)(()=>(c(n),()=>{if(o.current instanceof HTMLElement){var e;d(),e=o.current,l.unobserve(e),i.delete(e)}}),[c]),o}},590733(e,t,n){n.d(t,{A:()=>d});var a=n(97407),i=n(296540),l=n(236507),r=n(643357),o=n(327467),s=n(474848);function d({priceHistorySummary:e}){let t;(0,i.useEffect)(()=>{(0,a.A)("PriceHistorySummary","/app/www/PriceHistorySummary/PriceHistorySummary.tsx")},[]);let n=(0,r.A)(),{durationDays:d,typicalPrice:c,lowestPrice:u}=e||{};return Number.isInteger(d)&&(c||u)?(c?t=(0,o.vQ)(n.bt("{{ typicalPrice }} average price over last {{ durationDays }} days", "{{ typicalPrice }} average price last {{ durationDays }} days", "PriceHistorySummary.typicalPriceText", undefined, true),{typicalPrice:c,durationDays:d}):u&&(t=(0,o.vQ)(n.bt("{{ lowestPrice }} lowest price in {{ durationDays }} days", "{{ lowestPrice }} lowest price in {{ durationDays }} days", "PriceHistorySummary.lowestPriceText", undefined, true),{lowestPrice:u,durationDays:d})),(0,s.jsx)(l.az,{"data-test-id":"price-history-summary",children:(0,s.jsx)(l.KJ,{children:t})})):null}},965485(e,t,n){n.d(t,{V:()=>i,g:()=>a});let a=e=>!!e&&/^\/pin\/[\w-]+\/?$/.test(e.pathname),i=e=>{let t=[...e].reverse().find(({location:e})=>e&&!a(e));return t&&t.location&&(({pathname:e})=>/^\/search\/pins\//.test(e))(t.location)?(({pathname:e,search:t})=>{let n=/^\/search\/pins\/(\?.*)$/.exec(e),a=(t||n&&n[1]||"").substr(1).split("&").map(e=>e.split("=")).find(e=>"q"===e[0]);return a?decodeURIComponent(a[1]):""})(t.location):""}},348391(e,t,n){n.d(t,{A:()=>p});var a=n(97407),i=n(296540),l=n(236507),r=n(28245),o=n(360272),s=n(643357),d=n(327467),c=n(568677),u=n(474848);let p=({onClose:e,replyToComment:t})=>{(0,i.useEffect)(()=>{(0,a.A)("CommentContextBanner","/app/www/comments/CommentContextBanner.tsx")},[]);let n=(0,s.A)(),p=(0,r.ud)(),m=(0,c.qJ)(),g=t?.text||t?.details,h=t?.user?.first_name||t?.user?.username,f=n.bt("Edit comment icon", "Edit comment icon", "commentContextBanner.editing.icon", undefined, true),y=t?(0,d.vQ)(n.bt("Replying to {{ userName }}", "Replying to {{ userName }}", "commentContextBanner.replying.header", undefined, true),{userName:h}):n.bt("Editing your comment", "Editing your comment", "commentContextBanner.editing.header", undefined, true),_=t?(0,u.jsx)(o.A,{color:p?"white":void 0}):(0,u.jsx)(l.In,{accessibilityLabel:f,color:"default",icon:"pencil",size:12});return(0,u.jsxs)(l.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:"var(--sema-color-background-secondary)",paddingLeft:"16px",paddingRight:"14px"}},direction:"row",display:"flex",justifyContent:"between",paddingY:3,children:[(0,u.jsxs)(l.so,{direction:"column",justifyContent:"center",children:[(0,u.jsxs)(l.so,{alignItems:"center",direction:"row",children:[(0,u.jsx)(l.az,{marginEnd:1.5,children:_}),(0,u.jsx)(l.KJ,{size:"100",weight:"bold",children:y})]}),g&&(0,u.jsx)(l.az,{marginTop:1.5,children:(0,u.jsx)(l.KJ,{color:p?"default":"subtle",lineClamp:1,size:"100",children:g})})]}),m&&(0,u.jsx)(l.K0,{accessibilityLabel:n.bt("Close comment context banner", "Close comment context banner", "commentContextBanner.close.icon", undefined, true),icon:"close",onClick:e,padding:1,size:"lg"})]})}},975405(e,t,n){n.d(t,{A:()=>d,a:()=>s});var a=n(97407),i=n(296540),l=n(236507),r=n(746867),o=n(474848);let s={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function d({backgroundColor:e,children:t,coverImage:n,disableTabIndex:d,height:c,id:u,isHovered:p,onClick:m,onMouseDown:g,onMouseEnter:h,onMouseLeave:f,searchBoxRenderStopwatch:y,url:_,width:x}){(0,i.useEffect)(()=>{(0,a.A)("BubbleWrapper","/app/www/discover/Bubbles/BubbleWrapper.tsx")},[]);let[b,v]=(0,i.useState)(!1),S=()=>{h?h():v(!0)},A=()=>{f?f():v(!1)},k=p||b,P=k?s.hoverOverlay:s.bubbleOverlay;return(0,o.jsx)(l.$A,{href:_,onBlur:A,onFocus:S,onMouseDown:g,onMouseEnter:S,onMouseLeave:A,onTap:()=>{m?.(u)},rounding:400,tabIndex:d?-1:void 0,children:(0,o.jsx)(l.n1,{height:c,rounding:400,width:x||"100%",children:n?.url?(0,o.jsxs)(l._V,{alt:"",color:e,fit:"cover",naturalHeight:n.height??1,naturalWidth:n.width??1,onLoad:()=>{y?.stop();let e=(0,r.A)();e.isActive()&&e.stop()},role:"presentation",src:n.url,children:[(0,o.jsx)(l.az,{dangerouslySetInlineStyle:{__style:P},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:k}):t]}):(0,o.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},288289(e,t,n){n.d(t,{AJ:()=>o,Dp:()=>l,GZ:()=>f,N6:()=>_,P0:()=>m,Sr:()=>u,TB:()=>c,WA:()=>i,WC:()=>d,bL:()=>g,gU:()=>y,ik:()=>p,kE:()=>x,mP:()=>s,wj:()=>r,yi:()=>h});var a=n(147277);let i=1048576,l=3,r=20,o=3,s=10,d=50,c=10,u=1200,p=375,m=375/a.$G,g=4096,h="#FFFFFF",f={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},y=420,_=325,x=768},763332(e,t,n){n.d(t,{A:()=>o}),n(234784);var a,i=n(698781),l=n(580145);let r=(void 0!==a||(a=n(530963)).hash&&"f5443b1193b0aed988404fef7c7338fe"!==a.hash&&console.error("The definition of 'useStructuredDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function o(e){var t;return(t=(0,i.A)(r,e).formattedCloseupDescription)&&Array.isArray(t.components)?t.components.filter(e=>("DescriptionHeader"===e.__typename||"DescriptionTable"===e.__typename||"DescriptionPoints"===e.__typename||"DescriptionSpecs"===e.__typename||"DescriptionString"===e.__typename||"DescriptionStringBold"===e.__typename)&&e.type).map(e=>{let t="DescriptionHeader"===e.__typename||"DescriptionTable"===e.__typename||"DescriptionPoints"===e.__typename||"DescriptionSpecs"===e.__typename||"DescriptionString"===e.__typename||"DescriptionStringBold"===e.__typename?e.type:"";if("DescriptionSpecs"===e.__typename&&t===l._.SPECS)return{type:t,content:e.specsContent?.reduce((e,t)=>({...e,[t.key]:t.value}),{})};let n="DescriptionString"===e.__typename?e:null,a="DescriptionPoints"===e.__typename?e:null,i="DescriptionTable"===e.__typename?e:null,r="DescriptionHeader"===e.__typename?e:null,o="DescriptionStringBold"===e.__typename?e:null;return{type:t,content:n?.stringContent??a?.pointsContent??i?.tableContent??r?.headerContent??o?.boldContent}}):[]}},580145(e,t,n){n.d(t,{R:()=>i,_:()=>a});let a={BOLD:"formatted_description_bold_component",ELEMENT:"formatted_description_element_component",HEADER:"formatted_description_header_component",PARAGRAPH:"formatted_description_paragraph_component",POINTS:"formatted_description_points_component",SPECS:"formatted_description_specs_component",TABLE:"formatted_description_table_component"},i=({components:e,pinDescription:t})=>e&&0!==e.length?e:[{content:t,type:a.PARAGRAPH}]}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/73490.en_GB-e4d736bb5fdded9c.mjs.map