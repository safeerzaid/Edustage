(self.modernJsonp=self.modernJsonp||[]).push([["97361"],{489602(e,t,n){n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CSSCarouselModule_parentPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_parentPin"}],type:"Pin",abstractKey:null};r.hash="d1542775568248acbce5a79453f4dffb";let a=r},531604(e,t,n){var r,a;n.r(t),n.d(t,{default:()=>l});let i={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"CSSCarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[a],storageKey:'images(spec:"236x")'},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"ItemRep_pin"}],type:"Pin",abstractKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[r],storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_story"},{args:null,kind:"FragmentSpread",name:"useCarouselModuleLogic_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};i.hash="dee347ef77ae345e076b08494d4b664f";let l=i},510589(e,t,n){var r;n.r(t),n.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetNormalizedPinImage_pin",selections:[{alias:"images_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:"images_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};a.hash="8b6ce790922ff8b900b4ae18b06b7c11";let i=a},643844(e,t,n){n.d(t,{Q:()=>w,x:()=>A});var r=n(296540),a=n(981515),i=n(354377),l=n(809583),o=n(389145),s=n(829062),u=n(692942),c=n(485872),d=n(448271),m=n(374631),p=n(697384),h=n(193574),g=n(369975),y=n(930668),f=n(474848);let _=(e,t,n)=>{let r=t?.find(({action:e})=>e?.filter?.product_filter_type===n);if(!r)return;let a=(0,g.A)(y.A,!0)(r),i=e.findIndex(({action:e})=>e?.filter?.productFilterType===n);e[i]?e[i]=a:e.push(a)},S=(e,t,n,r)=>{let a=r.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(a?.action?.filter){let e=a.action.filter.filterOptions;a.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[n]&&t.split(",").includes(String(e[n]))).map(e=>({...e,selected:!0})):[]}},{Provider:x,get:A}=(0,p.A)("OneBarProductFilters");function w({children:e}){let[t,n]=(0,r.useState)([]),[p,g]=(0,r.useState)(null),y=function(){let{scope:e}=(0,o.u)();return[l.cO.BOARDS,l.cO.PINS_BUYABLE,l.cO.PINS_VIDEO,l.cO.USERS].includes(e)}(),A=(0,d.A)(),w=(0,u.A)(),b=(0,a.A)(),I=(0,i.A)(),v=(0,c.A)(),T=(0,r.useCallback)(({oneBarModules:e,baseCacheKey:r})=>{let a=e?.filter(({module_type:e})=>17===e||0===e);if(!a||a?.length===0||!r)return;let i=r!==p,l=i?[]:t;(i||!y)&&_(l,a,4),(i||!A)&&_(l,a,1),(i||!w)&&_(l,a,0),(i||!b)&&_(l,a,3),(i||!I)&&_(l,a,6),(i||!v)&&[7,8,9].forEach(e=>{_(l,a,e)}),(0,h.Ay)(l,t)||(n(l),g(r))},[t,b,I,y,w,v,A,p]),E=(0,s.A)(),{priceMax:k,priceMin:O,scope:R,brands:P,onSale:C,colors:N,domains:D}=(0,o.u)();(0,r.useEffect)(()=>{if(!E||0===t.length)return;let e=(0,m.A)(t);if(R!==l.cO.PINS){let t=(0,l.Ef)(R),n=e.find(({moduleType:e})=>0===e);n?.action?.filter&&(n.action.filter.appliedFilterOptions=[...n.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:n}=e;return{searchType:n,selected:n===t}}))}if("string"==typeof k||"string"==typeof O){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(O)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(k)}:null].filter(Boolean))}S(new Set([3]),P,"stringValue",e),S(new Set([6]),N,"stringValue",e),S(new Set([0]),D,"stringValue",e),S(new Set([7,8,9]),C,"numericValue",e),(0,h.Ay)(e,t)||n(e)},[t,E,k,O,R,P,N,D,C]);let L=(0,r.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:T}),[t,T]);return(0,f.jsx)(x,{value:L,children:e})}},92048(e,t,n){n.d(t,{A:()=>l});var r=n(278106),a=n(548977),i=n(967659);function l(){let e=(0,r.zy)(),t=(0,r.Zp)();return function(n){let r=(0,i.A)();r.filter_location=n,t((0,a.A)(e.pathname,r),{replace:!0})}}},506522(e,t,n){n.d(t,{A:()=>d,Y:()=>c});var r=n(278106),a=n(449798),i=n(622165),l=n(233342),o=n(809583),s=n(548977),u=n(967659);let c=["brands","colors","commerce_only","domains","on_sale","price_max","price_min"];function d(){let e=(0,r.Zp)(),t=(0,r.zy)(),{checkExperiment:n}=(0,i.A)(),{scope:d}=(0,r.g)(),m=(0,a.A)(),{isAuth:p}=m,h=p?m.country:"";return function(r){let a=(0,u.A)();a.rs=l.I.SHOPPING_FILTER,r.forEach(({key:e,value:t})=>{""!==t?a[e]=t:delete a[e]}),("US"===h||n("hundred_percent_product_load_i8n",{dangerouslySkipActivation:!0}).anyEnabled)&&d!==o.cO.PINS&&!c.some(e=>"commerce_only"!==e&&e in a)&&delete a.commerce_only,e((0,s.A)(t.pathname,a))}}},981515(e,t,n){n.d(t,{A:()=>i});var r=n(278106),a=n(221077);function i(){return!!(0,a.A)((0,r.zy)().search).brands}},354377(e,t,n){n.d(t,{A:()=>l});var r=n(278106),a=n(622165),i=n(221077);function l(){let{checkExperiment:e}=(0,a.A)(),t=(0,r.zy)(),{colors:n}=(0,i.A)(t.search);return!!n&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},829062(e,t,n){n.d(t,{A:()=>a});var r=n(622165);function a(){let{checkExperiment:e}=(0,r.A)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},692942(e,t,n){n.d(t,{A:()=>i});var r=n(278106),a=n(221077);function i(){return!!(0,a.A)((0,r.zy)().search).domains}},448271(e,t,n){n.d(t,{A:()=>i});var r=n(278106),a=n(221077);function i(){let e=(0,r.zy)(),{price_max:t,price_min:n}=(0,a.A)(e.search);return!!(n??t)}},875899(e,t,n){n.d(t,{A:()=>u});var r=n(97407),a=n(296540),i=n(236507),l=n(23704),o=n(243042),s=n(474848);function u({actionButton:e,collapsed:t,disabled:n,displayViewState:u,forceTappableHeader:c,headerHeight:d,headerPaddingX:m,headerPreview:p,heading:h,icon:g="chevron-down",onClick:y,showArrow:f,surface:_}){(0,a.useEffect)(()=>{(0,r.A)("CollapsableHeader","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CollapsableHeader.tsx")},[]);let{closeupWithinMasonryEnabled:S,peekCloseupEnabled:x,viewportSize:A}=(0,o._G)();if(!c&&null===u){let e,t;return e=(0,l.Kd)({peekCloseupEnabled:x,viewportSize:A,surface:_}),t=(0,s.jsx)(i._Y,{accessibilityLevel:2,align:"start",id:"comments-heading",size:e?"300":"400",children:h}),e?(0,s.jsx)(i.az,{marginBottom:4,children:t}):t}let w=(0,s.jsx)(i.az,{marginBottom:!t&&x?4:void 0,children:(0,s.jsxs)(i.so,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",height:d,justifyContent:"between",children:[(0,s.jsx)(i.so.Item,{flex:"shrink",children:(0,s.jsx)(i._Y,{accessibilityLevel:2,align:"start",color:n?"disabled":"default",id:"comments-heading",size:"300",children:h})}),(0,s.jsx)(i.so.Item,{flex:"shrink",children:(0,s.jsxs)(i.so,{alignItems:"center",direction:"row",gap:{row:1,column:0},children:[t&&p,(f||S)&&(0,s.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{transform:t?"rotate(0deg)":"rotate(180deg)",transition:"all 600ms cubic-bezier(.25,1,.5,1)"}},opacity:100*!!f,children:(0,s.jsx)(i.In,{accessibilityLabel:"",color:!f||n?"disabled":"default",dataTestId:"collapse-button",icon:g})})]})}),e&&(0,s.jsx)(i.so.Item,{flex:"grow",children:(0,s.jsx)(i.so,{justifyContent:"end",children:e})})]})});return(0,s.jsx)(i.az,{paddingX:m,children:y?(0,s.jsx)(i.Rp,{disabled:!f||n,onTap:y,children:w}):w})}},795031(e,t,n){n.d(t,{A:()=>r});let r=175},525301(e,t,n){n.d(t,{Tg:()=>r,_c:()=>o,jv:()=>a,sU:()=>i,zu:()=>l});let r={x:0,y:0,w:0,h:0},a=`
  .preview-crop-area-enter {
    opacity: 0;
  }

  .preview-crop-area-enter-active {
    opacity: 1;
    transition: opacity 300ms;
  }

  .preview-crop-area-exit {
    opacity: 1;
  }

  .preview-crop-area-exit-active {
    opacity: 0;
    transition: opacity 300ms;
  }

  .preview-crop-area-exit-done {
    opacity: 0;
  }
`,i={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},l="cropper-background",o="cropper-cropbox"},129857(e,t,n){n.d(t,{A:()=>A});var r,a,i=n(97407),l=n(296540);n(234784);var o=n(236507),s=n(632321),u=n(579543),c=n(698781),d=n(507861),m=n(113465),p=n(840256),h=n(695037),g=n(792637),y=n(568677),f=n(588628),_=n(474848);let S=(void 0!==r||(r=n(489602)).hash&&"d1542775568248acbce5a79453f4dffb"!==r.hash&&console.error("The definition of 'CSSCarouselModule_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),x=(void 0!==a||(a=n(531604)).hash&&"dee347ef77ae345e076b08494d4b664f"!==a.hash&&console.error("The definition of 'CSSCarouselModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function A({accessibilityLabelledBy:e,auxData:t,component:n,contentVisibleItemCountOverride:r,disableHeader:a,getProductTagAuxData:A,headerDisplayOptions:w,heading:b,itemRepSiblingNodeFactories:I,items:v,itemWidth:T,itemWidthHeightRatio:E,parentPinKey:k,renderItem:O,saveButtonOptions:R,showBorder:P,showMarkers:C=!1,showNavigationButtons:N=!0,storyKey:D,subtitle:L,surface:j,view:F=3,viewParameter:M,width:z}){(0,l.useEffect)(()=>{(0,i.A)("CSSCarouselModule","/app/packages/StructuredFeed/ModuleReps/CarouselModule/CSSCarouselModule.tsx")},[]);let{logContextEvent:H}=(0,s.o)(),K=(0,y.Ay)(),$=(0,y.bh)(K),Y=(0,c.A)(S,k),B=(0,c.A)(x,D),q=B?.objects?[...B.objects]:[],U=q.map(e=>"Pin"===e.__typename?e.entityId:null),W=(0,l.useMemo)(()=>{let e=B?.storyType?{story_type:B.storyType}:void 0;return e&&t?{...t,...e}:e??t},[B?.storyType,t]),G=$?236:175,V=T??G,Q=B.displayOptions?.contentDisplay?.itemWidthHeightRatio??E??1,{web:Z,mobile:X}=B.displayOptions?.contentDisplay?.contentVisibleItemCount??{},J=r??($?Z:X),ee=!a&&(B?.storyTitle||b||L),{showModuleBorder:et,showExtraSmallSubtitle:en,headerMarginBottom:er,isFixedWidthSlides:ea,moduleBorderStyle:ei}=(0,h.A)({storyKey:B,styleOverrides:{showModuleBorder:P}}),el=!ea&&!!J&&!T,eo=el?"100%":V,es=(0,l.useCallback)(({currentIndex:e,nextIndex:t})=>{if(void 0===e||e===t)return;let r=Number(U?.[e]);H({aux_data:W,event_type:108,component:n,view_type:F,view_parameter:M,event_data:{pinCarouselSlotEventData:{carouselSlotId:Number.isFinite(r)?r:void 0,carouselSlotIndex:e,toCarouselSlotIndex:t}}})},[W,n,U,H,F,M]),eu=(0,l.useCallback)(({item:e,index:t})=>{let r=()=>{let r;if(O)return O({item:e,index:t});if(t===q.length-1&&B.action?.text&&B.action?.url&&(r=B.action,r?.text&&r?.url&&p.$$.has(r?.location))){let t="Pin"===e.__typename&&e.images_236x?.url;return t&&(0,_.jsx)(d.A,{auxData:W,buttonText:B.action?.text,component:n,contentIds:B.contentIds??void 0,element:179,imageWidth:eo,previewImageSrc:t,storyId:B.storyId??"",storyType:B.storyType,url:B.action.url,view:F,viewParameter:M})}let a="Pin"===e.__typename?A?.(e):void 0;return(0,_.jsx)(m.A,{auxData:{...a,...W},boardKey:null,component:n,imageWidth:eo,isInDesktopCarousel:$,isInMobileCarousel:!$,item:null,itemWidthHeightRatio:Q,parentPinKey:Y,pinKey:"Pin"===e.__typename?e:null,productTagParentPinId:Y?.entityId,relatedInterestKey:null,saveButtonOptions:R,slotIndex:t,storyKey:B,surface:j,view:F,viewParameter:M})},a=I?.[t];if(a){let e=r();return(0,_.jsx)(f.e,{children:t=>(0,_.jsx)(o.az,{position:"relative",children:(0,_.jsxs)(l.Fragment,{children:[e,a(t)]})})})}return r()},[q.length,n,A,$,I,eo,Q,W,Y,O,R,B,j,F,M]);return(0,_.jsxs)(o.az,{borderColor:et?"decorative":void 0,borderWidth:et?ei:void 0,dangerouslySetInlineStyle:{__style:{"--carousel-item-width":`${V}px`,"--story-item-width-height-ratio":`${1/Q}`,...el&&{"--carousel-item-count":`${J}`}}},direction:"column",display:"flex",rounding:et?400:void 0,width:z??"100%",children:[ee&&(0,_.jsx)(o.az,{marginStart:6,marginTop:4,children:(0,_.jsx)(g.A,{auxData:W,headerDisplayOptions:w,marginBottomOverride:er,showExtraSmallSubtitle:en,storyKey:B,view:F,viewParameter:M})}),(0,_.jsx)(o.az,{position:"relative",children:(0,_.jsx)(u.A,{accessibilityLabelledBy:e,items:v??q,mode:"multi",onIndexChange:es,renderItem:eu,showNavigationButtons:N,showScrollMarkers:C})})]})}},240035(e,t,n){n.d(t,{Ay:()=>l,Jt:()=>i,cq:()=>r});let r={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:"year_short_month_day_time_timezone",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year",NUMERIC_WITH_TIME:"numeric_with_time",NUMERIC_WITH_TIME_TIMEZONE:"numeric_with_time_timezone"},a=function(e){switch(e){case r.YEAR:return{year:"numeric"};case r.LONG:return{year:"numeric",month:"long",day:"numeric"};case r.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case r.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case r.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case r.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case r.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case r.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.MONTH_DAY:return{month:"long",day:"numeric"};case r.SHORT_MONTH:return{month:"short"};case r.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case r.DAY:return{day:"numeric"};case r.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case r.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case r.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case r.YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:return{month:"short",year:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.TIME:return{hour:"numeric",minute:"2-digit"};case r.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.HOUR:return{hour:"numeric"};case r.NUMERIC_WITH_TIME:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"};case r.NUMERIC_WITH_TIME_TIMEZONE:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};default:throw Error('invalid dateFormatType "'+e+'"')}};function i(){return -1!==Intl.DateTimeFormat.toString().indexOf("[native code]")}function l(e,t,n,r=!0,o){let s=a(n);return r?s.timeZone="UTC":o&&(s.timeZone=o),i()||(s.calendar="gregory"),new Intl.DateTimeFormat(e,s).format(t)}},422193(e,t,n){let r;n.d(t,{A:()=>y});var a=n(234784),i=n(369487),l=n(938095),o=n(418562),s=n(576642),u=n(992679);let c=(0,o.A)(),d=new Set,m="";"u">typeof window&&(r=new i.Environment({network:i.Network.create((0,u.b3)(()=>({"x-pinterest-correlation-id":m}))),store:new i.Store(new i.RecordSource)}));let p=function({query:e,variables:t,correlationId:n}){!r||d.has(n)||(d.add(n),m=n,(0,i.fetchQuery)(r,(0,i.getRequest)(e),t,{fetchPolicy:"network-only"}))};var h=n(296540),g=n(193574);let y=function({strategy:e,query:t,variables:n,options:r,useGetLegacyResource:o,useGetLegacyPaginatedResource:u,useGetLegacyData:d}){let m;if("GraphQL"===e){let e=(0,i.getRequest)(t);return(0,a.useLazyLoadQuery)(e,n,r)}if(null!=o&&null!=u&&null!=d)throw Error(`Only pass one of those calls from the list: 
[useGetLegacyResource, useGetLegacyPaginatedResource, useGetLegacyData]
to useLazyLoadQueryOrLegacy`);let{actualVariables:y,refetch:f}=function(e,t){let n=(0,h.useRef)(e),r=(0,h.useRef)(null),[,a]=(0,h.useState)({}),i=(0,g.Ay)(e,n.current)?null==r.current?n.current:r.current:(n.current=e,r.current=null,n.current),l=(0,h.useCallback)(e=>{let n={...i,...e||{}};(0,g.Ay)(i,n)&&t(),r.current=n,a({})},[i,t]);return{actualVariables:i,refetch:l}}(n,()=>{m()}),_=(0,i.getRequest)(t),S=null;if("LegacyWithShadowGraphQL"===e){var x;let e;x=_.operation.name,e=function(e,t=!0){let n=0;if(0===e.length)return n;for(let t=0;t<e.length;t+=1)n=(n<<5)-n+e.charCodeAt(t)|0;return t?btoa(n.toString(10)):n}(`${x}-${JSON.stringify((0,s.A)(y))}`),p({query:t,variables:y,correlationId:S=`${e}-${c}`})}if(null!=d){let e=d(y,{correlationId:S});if(!e)return null;let{selections:n}=(0,i.getRequest)(t).fragment;return m=()=>{},(0,l.A)(n,{kind:"LegacyData",singularLegacyData:e,refetchInfo:{refetch:f},paginationInfo:null})}if(null!=o){let e=o(y,{correlationId:S}),{data:n}=e;if(m=e.refresh,null==n)return null;let{selections:r}=(0,i.getRequest)(t).fragment;return(0,l.A)(r,{kind:"LegacyData",singularLegacyData:n,refetchInfo:{refetch:f},paginationInfo:null})}if(null!=u){let e=u(y,{correlationId:S}),{data:n,isFetching:r,isAtEnd:a,fetchMore:o}=e;if(m=e.refresh,null==n)return null;let{selections:s}=(0,i.getRequest)(t).fragment;return(0,l.A)(s,{kind:"PaginationLegacyData",paginationLegacyData:n,refetchInfo:{refetch:f},paginationInfo:{isLoadingNext:r,hasNext:!a,loadNext:o}},null)}throw Error("useGetLegacyData or useGetLegacyResource must be provided")}},509430(e,t,n){n.d(t,{A:()=>o});var r,a=n(296540);n(234784);var i=n(698781);let l=(void 0!==r||(r=n(510589)).hash&&"8b6ce790922ff8b900b4ae18b06b7c11"!==r.hash&&console.error("The definition of 'useGetNormalizedPinImage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function o({pinKey:e,maxWidth:t}){let n=(0,i.A)(l,e),r=n?.images_564x||n?.images_736x||n?.images_orig||n?.images_474x||n?.images_236x,o=r?.width||1,s=r?.height||1,u=r?.url||"",c=function(e,t,n=564){return e>n&&(t*=n/e,e=n),{width:e,height:t}}(o,s,t);return{getNormalizedPinImage:(0,a.useCallback)(()=>({width:c.width,height:c.height,url:u}),[c.height,c.width,u])}}},955320(e,t,n){n.d(t,{A:()=>p});var r=n(97407),a=n(296540),i=n(236507),l=n(643357),o=n(695531),s=n(474848);function u({category:e,ingredients:t,textSize:n="300"}){return(0,a.useEffect)(()=>{(0,r.A)("Ingredient","/app/packages/recipePin/Ingredient.tsx")},[]),(0,s.jsxs)(i.az,{children:[e&&(0,s.jsx)(i.az,{children:(0,s.jsx)(i.KJ,{size:n,weight:"bold",children:e})}),(0,s.jsx)("ul",{children:t.map((e,t)=>(0,s.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,s.jsx)(i.az,{marginTop:1,children:(0,s.jsxs)(i.KJ,{size:n,children:["â€¢ ",e.amt||null," ",e.name]})})},t))})]})}var c=n(53730),d=n(333384),m=n(243042);function p({recipeProps:e,marginOverrides:t}){var n;(0,a.useEffect)(()=>{(0,r.A)("RecipeIngredients","/app/packages/recipePin/RecipeIngredients.tsx")},[]);let p=(0,l.A)(),{image:h,name:g,categorizedIngredients:y}=e.recipe,{peekCloseupEnabled:f}=(0,m._G)(),_=0;if(y&&y.length){let e=[];y.forEach(t=>(_+=t.ingredients.length,e.push(t.ingredients)))}let S=f?(n=_,(0,o.A)(p.nbt(["{{ count }} ingredient", "{{ count }} ingredients"], n, "closeup.recipePin.heading.ingredientCount", true),{count:n.toString()})):p.bt("Ingredients", "Ingredients", "Ingredients title and count in closeup recipe description", undefined, true);return(0,s.jsx)(i.az,{marginBottom:2,marginTop:2,children:(0,s.jsxs)(c.A,{itemScope:!0,itemType:"https://schema.org/Recipe",children:[(0,s.jsx)("meta",{content:g,itemProp:"name"}),(0,s.jsx)("meta",{content:h,itemProp:"image"}),(0,s.jsx)(d.A,{heading:S,children:(0,s.jsx)(i.az,{children:y.map(({category:e,ingredients:n},r)=>{let l=`ingredient-${r}`;return(0,s.jsx)(a.Fragment,{children:(0,s.jsx)(i.az,{marginBottom:t?.ingredientMarginBottom||4,children:(0,s.jsx)(u,{category:e,ingredients:n,textSize:"200"})})},l)})})})]})})}},51007(e,t,n){n.d(t,{A:()=>r});function r(e){let t;if(!e)return null;let n=e?.url;return Array.isArray(e?.params)?t=e?.params:Object.entries(t={...e?.params??{}}).forEach(([e,r])=>{n?.includes(`{${e}}`)&&(n=n?.replaceAll(`{${e}}`,String(r)),delete t[e])}),{name:"ApiResource",options:{url:n,data:t,...e?.method==="POST"?{postInsteadOfGet:!0}:{}},enabledRouteRefresh:e?.enabledRouteRefresh,headers:e?.headers,noCache:e?.noCache,schema:e?.schema}}},72341(e,t,n){n.d(t,{A:()=>i});var r=n(51007),a=n(468133);function i(e){return(0,a.A)((0,r.A)(e))}},53730(e,t,n){n.d(t,{A:()=>l});var r=n(97407),a=n(296540),i=n(474848);let l=e=>{(0,a.useEffect)(()=>{(0,r.A)("RichPinInformation","/app/packages/rich-snippet/RichPinInformation.tsx")},[]);let t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,i.jsx)("div",{"data-test-id":"rich-pin-information",...t,children:e.children||null})}},809910(e,t,n){n.d(t,{A:()=>a});var r=n(989810);function a(e){let{enteredQuery:t,filters:n,guideAdded:a,query:i,requestParams:l,rs:o,scope:s,selectedOneBarModules:u,user:c,inlineSuggestion:d}=e;if(!i)return"/";let m={q:i,rs:o,...l};if(n&&(m.filters=n),c&&(m.user=c),u&&(m.selected_one_bar_modules=u),a&&a.term&&(m.add_refine=`${a.term}|guide|word|${a.index}`),t&&(m.entered_query=t),d&&(m.inline_suggestion=d),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,r.A)(m)}`;let p=s;return["pins","buyable_pins","my_pins","boards","users","videos"].includes(p??"")||(p="pins"),p?`/search/${p}/?${(0,r.A)(m)}`:`${window.location.pathname}?${(0,r.A)(m)}`}},548977(e,t,n){n.d(t,{A:()=>r});let r=(e,t)=>{let n=new URL(e,"https://pinterest.com");return n.search=new URLSearchParams(t).toString(),n.toString().substring(n.origin.length)}},315719(e,t,n){n.d(t,{A:()=>r});function r({cropArea:e,cropSource:t,entrypoint:n,requestParams:r,searchQuery:a,surfaceType:i,title:l,trafficSource:o}){let s=[];if(e){let{x:t,y:n,w:r,h:a}=e;t>=0&&n>=0&&r>=0&&a>=0&&s.push(`x=${t}`,`y=${n}`,`w=${r}`,`h=${a}`)}return t&&s.push(`cropSource=${t}`),n&&s.push(`entrypoint=${n}`),i&&s.push(`surfaceType=${i}`),l&&s.push(`full_feed_title=${encodeURIComponent(l)}`),a&&s.push(`q=${a}`),o&&"unknown"!==o&&s.push(`rs=${o}`),r&&s.push(`requestParams=${encodeURIComponent(r)}`),s.length?`?${s.join("&")}`:""}},808111(e,t,n){n.d(t,{A:()=>a});var r=n(315719);function a({cropArea:e,cropSource:t,entrypoint:n,isProductPage:a,pinId:i,requestParams:l,searchQuery:o,surfaceType:s,title:u,trafficSource:c}){let d=(0,r.A)({cropArea:e,cropSource:t,entrypoint:n,requestParams:l,searchQuery:o,surfaceType:s,title:u,trafficSource:c}),m="";return a&&(m="products/"),`/pin/${i}/visual-search/${m}${d}`}},333384(e,t,n){n.d(t,{A:()=>p});var r=n(97407),a=n(296540),i=n(236507),l=n(875899),o=n(632321),s=n(534955),u=n(568677),c=n(871211),d=n(243042),m=n(474848);function p({actionButton:e,auxData:t,children:n,collapseButtonElementType:p,collapseByDefault:h=!0,componentType:g,disabled:y,displayViewState:f,expandButtonElementType:_,forceTappableHeader:S,headerHeight:x,headerPaddingX:A,headerPreview:w,heading:b,icon:I,surface:v,viewParameter:T,viewType:E}){(0,a.useEffect)(()=>{(0,r.A)("CollapsibleLayout","/app/www/closeup/CollapsibleLayout.tsx")},[]);let k=(0,u.qJ)(),{isBot:O}=(0,s._8)(),{logContextEvent:R}=(0,o.o)(),{setIsShoppingModuleExpanded:P}=(0,d._G)(),C=(0,a.useRef)(null),[N,D]=(0,a.useState)(void 0),[L,j]=(0,a.useState)(y||!O&&h||null!=f&&[1,2].includes(f));return(0,c.A)(()=>{let e=C.current,t=null;if(e){let n=()=>{let t=e.scrollHeight,n=e.firstElementChild;D(t+(n?parseInt(window.getComputedStyle(n).marginTop,10):0))};n(),(t=new ResizeObserver(n)).observe(e)}return()=>{t?.disconnect()}}),(0,a.useEffect)(()=>{P&&P(!L)},[]),(0,m.jsxs)(i.so,{dataTestId:"collapsible-layout",direction:"column",gap:4*!k,children:[(0,m.jsx)(l.A,{actionButton:e,collapsed:L,disabled:y,displayViewState:f,forceTappableHeader:S,headerHeight:x,headerPaddingX:A,headerPreview:w,heading:b,icon:I,onClick:()=>{j(!L),P&&P(L),R({aux_data:t,component:g,element:L?_:p,event_type:k?101:102,view_parameter:T,view_type:E})},showArrow:!0,surface:v}),k?(0,m.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{transition:"height 600ms cubic-bezier(.25,1,.5,1)"}},"data-test-id":`collapsible-layout-content-${L?"collapsed":"expanded"}`,height:L?"0px":`${N}px`,marginBottom:L?void 0:1,overflow:"hidden",children:(0,m.jsx)(i.az,{ref:C,children:n})}):!L&&(0,m.jsx)(i.az,{children:n})]})}},156301(e,t,n){n.d(t,{A:()=>o});var r=n(97407),a=n(296540),i=n(236507),l=n(474848);function o({children:e,color:t,isDarkMode:n,outlined:o,type:s="bold",rounding:u=400}){return(0,a.useEffect)(()=>{(0,r.A)("OutlinedBox","/app/www/common/OutlinedBox/OutlinedBox.tsx")},[]),(0,l.jsxs)(i.az,{position:"relative",children:[(0,l.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},"data-test-id":"outline-content",overflow:"hidden",rounding:u,children:e}),o&&(0,l.jsx)(i.az,{bottom:!0,color:"transparent",dangerouslySetInlineStyle:{__style:function({color:e,isDarkMode:t,type:n}){let r=t?"#fff":"#000",a=t?"#000":"#fff";return"solid"===n?{boxShadow:`inset 0 0 0 2px ${e??r}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??r}`,MozBoxShadow:`inset 0 0 0 2px ${e??r}`}:"border"===n?{border:`1px solid ${e??"var(--sema-color-border-selected)"}`,boxShadow:"inset 0 0 0 1px var(--sema-color-border-inverse)",WebkitBoxShadow:"inset 0 0 0 1px var(--sema-color-border-inverse)",MozBoxShadow:"inset 0 0 0 1px var(--sema-color-border-inverse)"}:{boxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${a}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${a}`,MozBoxShadow:`inset 0 0 0 2px ${e??r}, inset 0 0 0 4px ${a}`}}({color:t,isDarkMode:n,type:s})},"data-test-id":"outline-box",left:!0,position:"absolute",right:!0,rounding:u,top:!0})]})}},389145(e,t,n){n.d(t,{n:()=>m,u:()=>d});var r=n(296540),a=n(278106),i=n(697384),l=n(809583),o=n(568677),s=n(915961),u=n(474848);let{Provider:c,get:d}=(0,i.A)("SearchParams"),m=({children:e,value:t})=>{let n=function(){let e=(0,o.qJ)(),{search:t,pathname:n}=(0,a.zy)(),{scope:r}=(0,a.g)(),i=!r&&n.includes("/_tools/shop");return(0,s.A)({isDesktop:e,scope:i?l.cO.SHOP_TOOL:r??l.cO.PINS,search:t})}(),i=(0,r.useMemo)(()=>({...n,...t}),[n,t]);return(0,u.jsx)(c,{value:i,children:e})}},185732(e,t,n){n.d(t,{P4:()=>r,bP:()=>a,eS:()=>i,zB:()=>l});let r={CLOSEUP_FEED:"closeup_feed",CLOSEUP_RESPONSIVE:"closeup_responsive",CLOSEUP_STACKED:"closeup_stacked",SEARCH_AUTOCOMPLETE:"search_autocomplete",SEARCH_FEED:"search_feed"},a={CLOSEUP:"closeup"},i={SKIN:"SKIN_TONE_FILTER_QUERIES",HAIR:"hair_pattern_filter_queries",BODY:"inclusive_onebar_pills_on_closeup"},l={SKIN:"skin_tone",HAIR:"hair_pattern",BODY:"body_type"}},915961(e,t,n){n.d(t,{A:()=>i});var r=n(809583),a=n(221077);function i({isDesktop:e,scope:t,search:n}){let{auto_correction_disabled:i="",b_id:l,brands:o,category:s,colors:u,commerce_only:c="",cover_pin_sig:d,deb_d:m,domains:p,filters:h,guided_search_query:g,inline_suggestion:y,interest_id:f,journey_depth:_,on_sale:S,price_max:x,price_min:A,q:w,query_pin_sigs:b,quiz:I,request_params:v,rs:T,selected_one_bar_modules:E,source_id:k,source_module_id:O,tab:R,top_pin_ids:P,user:C}=(0,a.A)(n),N="true"===c.toLowerCase()&&"shop_tool"!==t?r.cO.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===i.toLowerCase(),brands:o,bubbleId:l,category:s,colors:u,commerceOnly:"true"===c.toLowerCase(),coverPinSig:d,currentlyAppliedFiltersParamTerm:h,debD:m,domains:p,guidedSearchQuery:g,inlineSuggestion:y,interestId:f,journeyDepth:_?parseInt(_,10):void 0,onSale:S,personalizationPinSig:b,placementId:(0,r.my)(N,e),priceMax:x,priceMin:A,query:w,quiz:I,requestParams:v,rs:T,scope:N,selectedOneBarModules:E,sourceId:k,sourceModuleId:O,tab:R||"",topPinIds:P,user:C,viewParameter:(0,r._n)(N),viewType:N===r.cO.SHOP_TOOL?1:2}}},992679(e,t,n){n.d(t,{xz:()=>h,b3:()=>d,Ay:()=>p});var r=n(369487),a=n(850607),i=n(216366),l=n(20708),o=n(143388),s=n(646844);function u(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends Error{constructor(...e){super(...e),u(this,"name","GraphQLFetchError"),u(this,"extraData",{})}}function d(e){let t=!0;async function n(n,r){let u=Date.now(),d=(0,i.q)(),m=document.cookie.match(RegExp("\\b"+a.mh.name+"=.+?($|;)","g")),p=e?e():{},h=function({handler:e,queryName:t,windowIsInFocus:n}){let{searchParams:r}=new URL(window.location.href),a=r.get("force_country"),i=r.get("force_country_from_ip"),s=r.get("force_region_from_ip"),u=r.get("skan_test"),c={};return a&&(c["X-Force-Country"]=a),i&&(c["X-Force-Country-From-IP"]=i),s&&(c["X-Force-Region-From-IP"]=s),u&&(c["X-Pinterest-SKAN-Testing"]=u),e&&(c["X-Pinterest-PWS-Handler"]=e),{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":(0,l.Qm)(),"X-Requested-With":"XMLHttpRequest","X-Pinterest-Source-Url":(0,o.A)(),"X-Pinterest-GraphQL-Name":t,"X-Pinterest-AppState":n?"active":"background",...c}}({handler:d,queryName:n.name,windowIsInFocus:t,...p});try{let e=await fetch("/_/graphql/",{credentials:"include",method:"POST",headers:h,body:JSON.stringify({queryHash:n.id,variables:r})});return(0,s.N9)("pws.graphql.fetchQueryClient.request",Date.now()-u,{sampleRate:1,tags:{handler:d??"unknown",queryName:n.name,status:e.status}}),await e.json()}catch(t){let e=new c(t.message);throw e.stack=t.stack,e.extraData={csrfCookies:m?.join(";")??"unknown",requestHeaders:h},(0,s.GV)("pws.graphql.fetchQueryClient.networkError",{sampleRate:1,tags:{handler:d,queryName:n.name}}),e}}return window.addEventListener("focus",()=>t=!0),window.addEventListener("blur",()=>t=!1),function(e,t){var r,a;let l,o,u,c;return r=e,a=t,u=JSON.stringify(function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);let n=Object.keys(t).sort(),r={};for(let a=0;a<n.length;a+=1)r[n[a]]=e(t[n[a]]);return r}({queryID:r.id??r.cacheID,variables:a})),((c=window.__PWS_RELAY_SSR_REQUESTS__?.[u])?(l=(0,i.q)(),o=c.status,(0,s.GV)("pws.graphql.fetchQueryClient.fetchFromSSRCache.hit",{tags:{handler:l??"unknown",queryName:r.name,status:o}}),c.promise.finally(()=>{(0,s.N9)(`pws.graphql.fetchQueryClient.fetchFromSSRCache.${c.status}`,c.endTime-c.startTime,{tags:{handler:l??"unknown",initialStatus:o,queryName:r.name}}),"completed"===c.status&&c.startTime>c.endTime&&(0,s.GV)("pws.graphql.fetchQueryClient.fetchFromSSRCache.completedBeforePending",{tags:{handler:l??"unknown",queryName:r.name}})}),"completed"===c.status)?c.response:"rejected"===c.status?null:c.promise:null)??n(e,t)}}let m=null;function p(){let e=new r.Environment({network:r.Network.create(d()),store:new r.Store(new r.RecordSource)});return"u">typeof window&&(m=e),e}function h(){return m}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/97361.en_GB-8d1ab3a45b8f6bd0.mjs.map